<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/DWARFLinker/DWARFLinker.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_d9cbaa4fe6085f9b8b642358dfaa02d8.html">DWARFLinker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DWARFLinker.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="DWARFLinker_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//=== DWARFLinker.cpp -----------------------------------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFLinker_8h.html">llvm/DWARFLinker/DWARFLinker.h</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BitVector_8h.html">llvm/ADT/BitVector.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="NonRelocatableStringpool_8h.html">llvm/CodeGen/NonRelocatableStringpool.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFLinkerDeclContext_8h.html">llvm/DWARFLinker/DWARFLinkerDeclContext.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFAbbreviationDeclaration_8h.html">llvm/DebugInfo/DWARF/DWARFAbbreviationDeclaration.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFContext_8h.html">llvm/DebugInfo/DWARF/DWARFContext.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFDataExtractor_8h.html">llvm/DebugInfo/DWARF/DWARFDataExtractor.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFDebugLine_8h.html">llvm/DebugInfo/DWARF/DWARFDebugLine.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFDebugMacro_8h.html">llvm/DebugInfo/DWARF/DWARFDebugMacro.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFDebugRangeList_8h.html">llvm/DebugInfo/DWARF/DWARFDebugRangeList.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFDie_8h.html">llvm/DebugInfo/DWARF/DWARFDie.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFExpression_8h.html">llvm/DebugInfo/DWARF/DWARFExpression.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFFormValue_8h.html">llvm/DebugInfo/DWARF/DWARFFormValue.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFSection_8h.html">llvm/DebugInfo/DWARF/DWARFSection.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DWARFUnit_8h.html">llvm/DebugInfo/DWARF/DWARFUnit.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCDwarf_8h.html">llvm/MC/MCDwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataExtractor_8h.html">llvm/Support/DataExtractor.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2Error_8h.html">llvm/Support/Error.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorOr_8h.html">llvm/Support/ErrorOr.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FormatVariadic_8h.html">llvm/Support/FormatVariadic.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LEB128_8h.html">llvm/Support/LEB128.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Path_8h.html">llvm/Support/Path.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ThreadPool_8h.html">llvm/Support/ThreadPool.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/// Hold the input and output of the debug info size in bytes.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structllvm_1_1DebugInfoSize.html">   40</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1DebugInfoSize.html">DebugInfoSize</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structllvm_1_1DebugInfoSize.html#ac86522ad41fb25428002ea8cd0a98a6f">   41</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1DebugInfoSize.html#ac86522ad41fb25428002ea8cd0a98a6f">Input</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structllvm_1_1DebugInfoSize.html#aeac837a4321808c7cd71cf40d23ee7af">   42</a></span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1DebugInfoSize.html#aeac837a4321808c7cd71cf40d23ee7af">Output</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;};</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">/// Compute the total size of the debug info.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="namespacellvm.html#a78afeb48a64a0f1d800ab10827de4f8b">   46</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a78afeb48a64a0f1d800ab10827de4f8b">getDebugInfoSize</a>(<a class="code" href="classllvm_1_1DWARFContext.html">DWARFContext</a> &amp;Dwarf) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Size = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Unit : <a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.compile_units()) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    Size += Unit-&gt;getLength();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">return</span> Size;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/// Similar to DWARFUnitSection::getUnitForOffset(), but returning our</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/// CompileUnit object instead.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="namespacellvm.html#a689e21394b9f344a86cdcad5b30fdb26">   56</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> *<a class="code" href="namespacellvm.html#a689e21394b9f344a86cdcad5b30fdb26">getUnitForOffset</a>(<span class="keyword">const</span> <a class="code" href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">UnitListTy</a> &amp;Units, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespaceCU.html">CU</a> = <a class="code" href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">llvm::upper_bound</a>(</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      Units, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, [](<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">const</span> std::unique_ptr&lt;CompileUnit&gt; &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a> &lt; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getOrigUnit().getNextUnitOffset();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      });</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespaceCU.html">CU</a> != Units.end() ? <a class="code" href="namespaceCU.html">CU</a>-&gt;get() : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">/// Resolve the DIE attribute reference that has been extracted in \p RefValue.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">/// The resulting DIE might be in another CompileUnit which is stored into \p</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">/// ReferencedCU. \returns null if resolving fails for any reason.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span>DWARFDie DWARFLinker::resolveDIEReference(<span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">UnitListTy</a> &amp;Units,</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                          <span class="keyword">const</span> DWARFFormValue &amp;RefValue,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                          <span class="keyword">const</span> DWARFDie &amp;DIE,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                          CompileUnit *&amp;RefCU) {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RefValue.isFormClass(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228aecc352ab32050f10e6c1d07d39eca711">DWARFFormValue::FC_Reference</a>));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RefOffset = *RefValue.getAsReference();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">if</span> ((RefCU = <a class="code" href="namespacellvm.html#a689e21394b9f344a86cdcad5b30fdb26">getUnitForOffset</a>(Units, RefOffset)))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> RefDie = RefCU-&gt;getOrigUnit().getDIEForOffset(RefOffset)) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="comment">// In a file with broken references, an attribute might point to a NULL</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="comment">// DIE.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keywordflow">if</span> (!RefDie.isNULL())</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">return</span> RefDie;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  reportWarning(<span class="stringliteral">&quot;could not find referenced DIE&quot;</span>, File, &amp;DIE);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">return</span> DWARFDie();</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">/// \returns whether the passed \a Attr type might contain a DIE reference</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/// suitable for ODR uniquing.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">   88</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">isODRAttribute</a>(<a class="code" href="classuint16__t.html">uint16_t</a> Attr) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">switch</span> (Attr) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_type:</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_containing_type:</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_specification:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_abstract_origin:</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_import:</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Improper attribute.&quot;</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="namespacellvm.html#a7966c456ffb8277447854ce5db918863">  102</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a7966c456ffb8277447854ce5db918863">isTypeTag</a>(<a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_array_type:</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_class_type:</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_enumeration_type:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_pointer_type:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_reference_type:</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_string_type:</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_structure_type:</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_subroutine_type:</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_typedef:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_union_type:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_ptr_to_member_type:</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_set_type:</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_subrange_type:</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_base_type:</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_const_type:</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_constant:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_file_type:</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_namelist:</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_packed_type:</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_volatile_type:</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_restrict_type:</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_atomic_type:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_interface_type:</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_unspecified_type:</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_shared_type:</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_immutable_type:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;}</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<a class="code" href="classllvm_1_1AddressesMap.html#abb9844cef38e5476dcafe39faa25765d">AddressesMap::~AddressesMap</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<a class="code" href="classllvm_1_1DwarfEmitter.html#aa0348262277f611dc95cf92bb654b0c6">DwarfEmitter::~DwarfEmitter</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="namespacellvm.html#a1caa6b732dcb111acba6636287246a36">  141</a></span>&#160;<span class="keyword">static</span> std::optional&lt;StringRef&gt; <a class="code" href="namespacellvm.html#a1caa6b732dcb111acba6636287246a36">StripTemplateParameters</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// We are looking for template parameters to strip from Name. e.g.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">//  operator&lt;&lt;B&gt;</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// We look for &gt; at the end but if it does not contain any &lt; then we</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// have something like operator&gt;&gt;. We check for the operator&lt;=&gt; case.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (!Name.endswith(<span class="stringliteral">&quot;&gt;&quot;</span>) || Name.count(<span class="stringliteral">&quot;&lt;&quot;</span>) == 0 || Name.endswith(<span class="stringliteral">&quot;&lt;=&gt;&quot;</span>))</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// How many &lt; until we have the start of the template parameters.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordtype">size_t</span> NumLeftAnglesToSkip = 1;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// If we have operator&lt;=&gt; then we need to skip its &lt; as well.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  NumLeftAnglesToSkip += Name.count(<span class="stringliteral">&quot;&lt;=&gt;&quot;</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">size_t</span> RightAngleCount = Name.count(<span class="charliteral">&#39;&gt;&#39;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">size_t</span> LeftAngleCount = Name.count(<span class="charliteral">&#39;&lt;&#39;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// If we have more &lt; than &gt; we have operator&lt; or operator&lt;&lt;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">// we to account for their &lt; as well.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (LeftAngleCount &gt; RightAngleCount)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    NumLeftAnglesToSkip += LeftAngleCount - RightAngleCount;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">size_t</span> StartOfTemplate = 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">while</span> (NumLeftAnglesToSkip--)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    StartOfTemplate = Name.find(<span class="charliteral">&#39;&lt;&#39;</span>, StartOfTemplate) + 1;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">return</span> Name.substr(0, StartOfTemplate - 1);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keywordtype">bool</span> DWARFLinker::DIECloner::getDIENames(<span class="keyword">const</span> DWARFDie &amp;Die,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                         AttributesInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                         <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                         <span class="keywordtype">bool</span> StripTemplate) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="comment">// This function will be called on DIEs having low_pcs and</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// ranges. As getting the name might be more expansive, filter out</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// blocks directly.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">if</span> (Die.getTag() == dwarf::DW_TAG_lexical_block)</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName)</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *MangledName = Die.getLinkageName())</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName = StringPool.getEntry(MangledName);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *Name = Die.getShortName())</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name = StringPool.getEntry(Name);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (StripTemplate &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName != <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name) {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    StringRef Name = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name.getString();</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;StringRef&gt; StrippedName = <a class="code" href="namespacellvm.html#a1caa6b732dcb111acba6636287246a36">StripTemplateParameters</a>(Name))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.NameWithoutTemplate = StringPool.getEntry(*StrippedName);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name || <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/// Resolve the relative path to a build artifact referenced by DWARF by</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/// applying DW_AT_comp_dir.</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="namespacellvm.html#a562e5e47a3837612432809e480b901e3">  204</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a562e5e47a3837612432809e480b901e3">resolveRelativeObjectPath</a>(<a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;char&gt;</a> &amp;Buf, <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="namespaceCU.html">CU</a>) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">sys::path::append</a>(Buf, <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(<a class="code" href="namespaceCU.html">CU</a>.find(dwarf::DW_AT_comp_dir), <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">/// Collect references to parseable Swift interfaces in imported</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">/// DW_TAG_module blocks.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="namespacellvm.html#abf48b2db44853558ca75ace8d111e467">  210</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#abf48b2db44853558ca75ace8d111e467">analyzeImportedModule</a>(</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;<a class="code" href="classllvm_1_1DIE.html">DIE</a>, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="namespacellvm.html#a8ef90d9b5feaa6db6c9ffe84be328fc2">swiftInterfacesMap</a> *ParseableSwiftInterfaces,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;)&gt; ReportWarning) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceCU.html">CU</a>.getLanguage() != dwarf::DW_LANG_Swift)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (!ParseableSwiftInterfaces)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Path = <a class="code" href="namespacellvm_1_1dwarf.html#aa10731e4d6c303386a70337b0e0668d0">dwarf::toStringRef</a>(<a class="code" href="classllvm_1_1DIE.html">DIE</a>.find(dwarf::DW_AT_LLVM_include_path));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (!Path.endswith(<span class="stringliteral">&quot;.swiftinterface&quot;</span>))</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// Don&#39;t track interfaces that are part of the SDK.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> SysRoot = <a class="code" href="namespacellvm_1_1dwarf.html#aa10731e4d6c303386a70337b0e0668d0">dwarf::toStringRef</a>(<a class="code" href="classllvm_1_1DIE.html">DIE</a>.find(dwarf::DW_AT_LLVM_sysroot));</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">if</span> (SysRoot.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>())</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    SysRoot = <a class="code" href="namespaceCU.html">CU</a>.getSysRoot();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (!SysRoot.<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>() &amp;&amp; Path.startswith(SysRoot))</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  std::optional&lt;const char *&gt; Name =</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(<a class="code" href="classllvm_1_1DIE.html">DIE</a>.find(dwarf::DW_AT_name));</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keywordflow">if</span> (!Name)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keyword">auto</span> &amp;Entry = (*ParseableSwiftInterfaces)[*Name];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// The prepend path is applied later when copying.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> CUDie = <a class="code" href="namespaceCU.html">CU</a>.getOrigUnit().getUnitDIE();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;128&gt;</a> ResolvedPath;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sys_1_1path.html#a59d172f36ecf079548e9c539ae54e5a4">sys::path::is_relative</a>(Path))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="namespacellvm.html#a562e5e47a3837612432809e480b901e3">resolveRelativeObjectPath</a>(ResolvedPath, CUDie);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">sys::path::append</a>(ResolvedPath, Path);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">if</span> (!Entry.empty() &amp;&amp; Entry != ResolvedPath)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    ReportWarning(<a class="code" href="classllvm_1_1Twine.html">Twine</a>(<span class="stringliteral">&quot;Conflicting parseable interfaces for Swift Module &quot;</span>) +</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                      *Name + <span class="stringliteral">&quot;: &quot;</span> + Entry + <span class="stringliteral">&quot; and &quot;</span> + Path,</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                  <a class="code" href="classllvm_1_1DIE.html">DIE</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  Entry = std::string(ResolvedPath.<a class="code" href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">str</a>());</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;}</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">/// The distinct types of work performed by the work loop in</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/// analyzeContextInfo.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">  249</a></span>&#160;<span class="comment"></span><span class="keyword">enum class</span> <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">ContextWorklistItemType</a> : uint8_t {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a0f21fc12a5217183be792c5e6f3e00b5">AnalyzeContextInfo</a>,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a09c9d2b4c0b0438b8b323b6cb3e317fd">UpdateChildPruning</a>,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a3a73d4125c78c03d6b25946ca00dc67d">UpdatePruning</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;};</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">/// This class represents an item in the work list. The type defines what kind</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">/// of work needs to be performed when processing the current item. Everything</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">/// but the Type and Die fields are optional based on the type.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html">  258</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1ContextWorklistItem.html">ContextWorklistItem</a> {</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">  259</a></span>&#160;  <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">  260</a></span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keyword">union </span>{</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">  262</a></span>&#160;    <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> *<a class="code" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">OtherInfo</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">  263</a></span>&#160;    <a class="code" href="classllvm_1_1DeclContext.html">DeclContext</a> *<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  };</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a7678f2dc98b94e702a92baac0f3175fc">  265</a></span>&#160;  <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">ContextWorklistItemType</a> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a7678f2dc98b94e702a92baac0f3175fc">Type</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">  266</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a79f599e8e764cfbb0fdd807f88fce7c8">  268</a></span>&#160;  <a class="code" href="structllvm_1_1ContextWorklistItem.html#a79f599e8e764cfbb0fdd807f88fce7c8">ContextWorklistItem</a>(<a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">ContextWorklistItemType</a> T,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                      <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> *<a class="code" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">OtherInfo</a> = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      : <a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>), <a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>(0), <a class="code" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">OtherInfo</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">OtherInfo</a>), <a class="code" href="classllvm_1_1Type.html">Type</a>(<a class="code" href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a>),</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>(<a class="code" href="namespacefalse.html">false</a>) {}</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="structllvm_1_1ContextWorklistItem.html#a4a84ce93f65e459315ed3d92ed646d97">  273</a></span>&#160;  <a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a84ce93f65e459315ed3d92ed646d97">ContextWorklistItem</a>(<a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="classllvm_1_1DeclContext.html">DeclContext</a> *<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>, <span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>,</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                      <span class="keywordtype">bool</span> <a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      : <a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>), <a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>), <a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>),</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="classllvm_1_1Type.html">Type</a>(<a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">ContextWorklistItemType</a>::<a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a0f21fc12a5217183be792c5e6f3e00b5">AnalyzeContextInfo</a>),</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>(<a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>) {}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;};</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="namespacellvm.html#a931cfa6e58e63d6d65fa10e8ce2e18ff">  280</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a931cfa6e58e63d6d65fa10e8ce2e18ff">updatePruning</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;Die, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                          <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ModulesEndOffset) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="comment">// Prune this DIE if it is either a forward declaration inside a</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">// DW_TAG_module or a DW_TAG_module that contains nothing but</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="comment">// forward declarations.</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune &amp;= (Die.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>() == dwarf::DW_TAG_module) ||</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                (<a class="code" href="namespacellvm.html#a7966c456ffb8277447854ce5db918863">isTypeTag</a>(Die.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>()) &amp;&amp;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                 <a class="code" href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">dwarf::toUnsigned</a>(Die.<a class="code" href="classllvm_1_1DWARFDie.html#a315f90678bfa85d85d71a9dd12d5457a">find</a>(dwarf::DW_AT_declaration), 0));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// Only prune forward declarations inside a DW_TAG_module for which a</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// definition exists elsewhere.</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordflow">if</span> (ModulesEndOffset == 0)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune &amp;= <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;getCanonicalDIEOffset();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune &amp;= <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;getCanonicalDIEOffset() &gt; 0 &amp;&amp;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;getCanonicalDIEOffset() &lt;= ModulesEndOffset;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;}</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="namespacellvm.html#ab4e285e28ea8fd6b3a8ab702133c5d97">  302</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#ab4e285e28ea8fd6b3a8ab702133c5d97">updateChildPruning</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;Die, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                               <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;ChildInfo) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune &amp;= ChildInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#acc16bbb246f88379240143791de831d7">Prune</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">/// Recursive helper to build the global DeclContext information and</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">/// gather the child-&gt;parent relationships in the original compile unit.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">/// This function uses the same work list approach as lookForDIEsToKeep.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">/// \return true when this DIE and all of its children are only</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">/// forward declarations to types defined in external clang modules</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">/// (i.e., forward declarations that are children of a DW_TAG_module).</span></div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5ed1af7cb2318866ee685b7de7bd4f9e">  316</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a5ed1af7cb2318866ee685b7de7bd4f9e">analyzeContextInfo</a>(</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;<a class="code" href="classllvm_1_1DIE.html">DIE</a>, <span class="keywordtype">unsigned</span> ParentIdx, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <a class="code" href="classllvm_1_1DeclContext.html">DeclContext</a> *CurrentDeclContext, <a class="code" href="classllvm_1_1DeclContextTree.html">DeclContextTree</a> &amp;Contexts,</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ModulesEndOffset, <a class="code" href="namespacellvm.html#a8ef90d9b5feaa6db6c9ffe84be328fc2">swiftInterfacesMap</a> *ParseableSwiftInterfaces,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;)&gt; ReportWarning) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// LIFO work list.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  std::vector&lt;ContextWorklistItem&gt; Worklist;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  Worklist.emplace_back(<a class="code" href="classllvm_1_1DIE.html">DIE</a>, CurrentDeclContext, ParentIdx, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="structllvm_1_1ContextWorklistItem.html">ContextWorklistItem</a> Current = Worklist.back();</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    Worklist.pop_back();</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">switch</span> (Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a7678f2dc98b94e702a92baac0f3175fc">Type</a>) {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a3a73d4125c78c03d6b25946ca00dc67d">ContextWorklistItemType::UpdatePruning</a>:</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="namespacellvm.html#a931cfa6e58e63d6d65fa10e8ce2e18ff">updatePruning</a>(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespaceCU.html">CU</a>, ModulesEndOffset);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a09c9d2b4c0b0438b8b323b6cb3e317fd">ContextWorklistItemType::UpdateChildPruning</a>:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="namespacellvm.html#ab4e285e28ea8fd6b3a8ab702133c5d97">updateChildPruning</a>(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespaceCU.html">CU</a>, *Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">OtherInfo</a>);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a0f21fc12a5217183be792c5e6f3e00b5">ContextWorklistItemType::AnalyzeContextInfo</a>:</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">unsigned</span> Idx = <a class="code" href="namespaceCU.html">CU</a>.getOrigUnit().getDIEIndex(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Idx);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// Clang imposes an ODR on modules(!) regardless of the language:</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">//  &quot;The module-id should consist of only a single identifier,</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//   which provides the name of the module being defined. Each</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="comment">//   module shall have a single definition.&quot;</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">// This does not extend to the types inside the modules:</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">//  &quot;[I]n C, this implies that if two structs are defined in</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">//   different submodules with the same name, those two types are</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">//   distinct types (but may be compatible types if their</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="comment">//   definitions match).&quot;</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// We treat non-C++ modules like namespaces for this reason.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>() == dwarf::DW_TAG_module &amp;&amp;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>.<a class="code" href="classllvm_1_1DWARFDie.html#a315f90678bfa85d85d71a9dd12d5457a">find</a>(dwarf::DW_AT_name), <span class="stringliteral">&quot;&quot;</span>) !=</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="namespaceCU.html">CU</a>.getClangModuleName()) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="namespacellvm.html#abf48b2db44853558ca75ace8d111e467">analyzeImportedModule</a>(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespaceCU.html">CU</a>, ParseableSwiftInterfaces,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                            ReportWarning);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    }</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.ParentIdx = Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">ParentIdx</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InModuleScope = <a class="code" href="namespaceCU.html">CU</a>.isClangModule() || Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespaceCU.html">CU</a>.hasODR() || <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InModuleScope) {</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">if</span> (Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>) {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keyword">auto</span> PtrInvalidPair = Contexts.<a class="code" href="classllvm_1_1DeclContextTree.html#a4bd9844a95feccd824a78e62c476f423">getChildDeclContext</a>(</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            *Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>, Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespaceCU.html">CU</a>, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InModuleScope);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a> = PtrInvalidPair.getPointer();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt =</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            PtrInvalidPair.getInt() ? nullptr : PtrInvalidPair.getPointer();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt)</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;setDefinedInClangModule(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InModuleScope);</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt = Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune = Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">// Add children in reverse order to the worklist to effectively process</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// them in order.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    Worklist.emplace_back(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a3a73d4125c78c03d6b25946ca00dc67d">ContextWorklistItemType::UpdatePruning</a>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Child : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>.<a class="code" href="classllvm_1_1DWARFDie.html#a1fa7cbc55eb0808d9fc434ef3efb5bca">children</a>())) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;ChildInfo = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Child);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      Worklist.emplace_back(</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">Die</a>, <a class="code" href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a09c9d2b4c0b0438b8b323b6cb3e317fd">ContextWorklistItemType::UpdateChildPruning</a>, &amp;ChildInfo);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      Worklist.emplace_back(Child, Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">Context</a>, Idx,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                            Current.<a class="code" href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">InImportedModule</a>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="namespacellvm.html#ac81564f1aa9d37fc1057ba3e6c569a13">  393</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ac81564f1aa9d37fc1057ba3e6c569a13">dieNeedsChildrenToBeMeaningful</a>(<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_class_type:</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_common_block:</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_lexical_block:</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_structure_type:</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_subprogram:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_subroutine_type:</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_union_type:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Invalid Tag&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="keywordtype">void</span> DWARFLinker::cleanupAuxiliarryData(LinkContext &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.clear();</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">for</span> (DIEBlock *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DIEBlocks)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;~DIEBlock();</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">for</span> (DIELoc *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : DIELocs)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;~DIELoc();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  DIEBlocks.clear();</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  DIELocs.clear();</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  DIEAlloc.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#a977c94ac0ef5e305e5cf40726351d88a">Reset</a>();</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">/// Check if a variable describing DIE should be kept.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">/// \returns updated TraversalFlags.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> DWARFLinker::shouldKeepVariableDIE(AddressesMap &amp;RelocMgr,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                            <span class="keyword">const</span> DWARFDie &amp;DIE,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                            CompileUnit::DIEInfo &amp;MyInfo,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                            <span class="keywordtype">unsigned</span> Flags) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Abbrev = DIE.getAbbreviationDeclarationPtr();</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// Global variables with constant value can always be kept.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keywordflow">if</span> (!(Flags &amp; TF_InFunctionScope) &amp;&amp;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      Abbrev-&gt;findAttributeIndex(dwarf::DW_AT_const_value)) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    MyInfo.InDebugMap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> | TF_Keep;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">// See if there is a relocation to a valid debug map entry inside this</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="comment">// variable&#39;s location. The order is important here. We want to always check</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// if the variable has a valid relocation, so that the DIEInfo is filled.</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// However, we don&#39;t want a static variable in a function to force us to keep</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="comment">// the enclosing function, unless requested explicitly.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> HasLiveMemoryLocation = RelocMgr.isLiveVariable(DIE, MyInfo);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (!HasLiveMemoryLocation || ((Flags &amp; TF_InFunctionScope) &amp;&amp;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                                 !<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Options.KeepFunctionForStatic)))</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (Options.Verbose) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;Keeping variable DIE:&quot;</span>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    DIDumpOptions DumpOpts;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    DumpOpts.ChildRecurseDepth = 0;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    DumpOpts.Verbose = Options.Verbose;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    DIE.dump(<a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>(), 8 <span class="comment">/* Indent */</span>, DumpOpts);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> | TF_Keep;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/// Check if a function describing DIE should be kept.</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/// \returns updated TraversalFlags.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> DWARFLinker::shouldKeepSubprogramDIE(</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    AddressesMap &amp;RelocMgr, <a class="code" href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">RangesTy</a> &amp;Ranges, <span class="keyword">const</span> DWARFDie &amp;DIE,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keyword">const</span> DWARFFile &amp;File, CompileUnit &amp;Unit, CompileUnit::DIEInfo &amp;MyInfo,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordtype">unsigned</span> Flags) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> |= TF_InFunctionScope;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keyword">auto</span> LowPc = <a class="code" href="namespacellvm_1_1dwarf.html#a32d6cab5518ad6e61e0fe37bf9c2264a">dwarf::toAddress</a>(DIE.find(dwarf::DW_AT_low_pc));</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (!LowPc)</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LowPc &amp;&amp; <span class="stringliteral">&quot;low_pc attribute is not an address.&quot;</span>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (!RelocMgr.isLiveSubprogram(DIE, MyInfo))</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">if</span> (Options.Verbose) {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;Keeping subprogram DIE:&quot;</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    DIDumpOptions DumpOpts;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    DumpOpts.ChildRecurseDepth = 0;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    DumpOpts.Verbose = Options.Verbose;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    DIE.dump(<a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>(), 8 <span class="comment">/* Indent */</span>, DumpOpts);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keywordflow">if</span> (DIE.getTag() == dwarf::DW_TAG_label) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">if</span> (Unit.hasLabelAt(*LowPc))</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    DWARFUnit &amp;OrigUnit = Unit.getOrigUnit();</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">// FIXME: dsymutil-classic compat. dsymutil-classic doesn&#39;t consider labels</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="comment">// that don&#39;t fall into the CU&#39;s aranges. This is wrong IMO. Debug info</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">// generation bugs aside, this is really wrong in the case of labels, where</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// a label marking the end of a function will have a PC == CU&#39;s high_pc.</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#a32d6cab5518ad6e61e0fe37bf9c2264a">dwarf::toAddress</a>(OrigUnit.getUnitDIE().find(dwarf::DW_AT_high_pc))</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            .value_or(<a class="code" href="c_2DataTypes_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a>) &lt;= LowPc)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    Unit.addLabelLowPc(*LowPc, MyInfo.AddrAdjust);</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> | TF_Keep;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> |= TF_Keep;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  std::optional&lt;uint64_t&gt; HighPc = DIE.getHighPC(*LowPc);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">if</span> (!HighPc) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    reportWarning(<span class="stringliteral">&quot;Function without high_pc. Range will be discarded.\n&quot;</span>, File,</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                  &amp;DIE);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">if</span> (*LowPc &gt; *HighPc) {</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    reportWarning(<span class="stringliteral">&quot;low_pc greater than high_pc. Range will be discarded.\n&quot;</span>,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                  File, &amp;DIE);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="comment">// Replace the debug map range with a more accurate one.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a>.insert({*LowPc, *HighPc}, MyInfo.AddrAdjust);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  Unit.addFunctionRange(*LowPc, *HighPc, MyInfo.AddrAdjust);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// Check if a DIE should be kept.</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/// \returns updated TraversalFlags.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> DWARFLinker::shouldKeepDIE(AddressesMap &amp;RelocMgr, <a class="code" href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">RangesTy</a> &amp;Ranges,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                    <span class="keyword">const</span> DWARFDie &amp;DIE, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                    CompileUnit &amp;Unit,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                    CompileUnit::DIEInfo &amp;MyInfo,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                    <span class="keywordtype">unsigned</span> Flags) {</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">switch</span> (DIE.getTag()) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_constant:</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_variable:</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> shouldKeepVariableDIE(RelocMgr, DIE, MyInfo, Flags);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_subprogram:</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_label:</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span> shouldKeepSubprogramDIE(RelocMgr, Ranges, DIE, File, Unit, MyInfo,</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                                   Flags);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_base_type:</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">// DWARF Expressions may reference basic types, but scanning them</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// is expensive. Basic types are tiny, so just keep all of them.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_imported_module:</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_imported_declaration:</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_imported_unit:</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">// We always want to keep these.</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> | TF_Keep;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;<span class="comment">/// Helper that updates the completeness of the current DIE based on the</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="comment">/// completeness of one of its children. It depends on the incompleteness of</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="comment">/// the children already being computed.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa6fc3382b3caf1e509384c91f5457db7">  551</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#aa6fc3382b3caf1e509384c91f5457db7">updateChildIncompleteness</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;Die, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                                      <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;ChildInfo) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordflow">switch</span> (Die.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>()) {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_structure_type:</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_class_type:</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_union_type:</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;MyInfo = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span> (ChildInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">Incomplete</a> || ChildInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#acc16bbb246f88379240143791de831d7">Prune</a>)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    MyInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">Incomplete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;}</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">/// Helper that updates the completeness of the current DIE based on the</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">/// completeness of the DIEs it references. It depends on the incompleteness of</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">/// the referenced DIE already being computed.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno"><a class="line" href="namespacellvm.html#a0f460e86ae0cf56bd21fd50ef7f5e2b6">  571</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a0f460e86ae0cf56bd21fd50ef7f5e2b6">updateRefIncompleteness</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;Die, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>,</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                                    <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;RefInfo) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keywordflow">switch</span> (Die.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>()) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_typedef:</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_member:</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_reference_type:</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_ptr_to_member_type:</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_TAG_pointer_type:</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;MyInfo = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160; </div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <span class="keywordflow">if</span> (MyInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">Incomplete</a>)</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (RefInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">Incomplete</a>)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    MyInfo.<a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">Incomplete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;}</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;<span class="comment">/// Look at the children of the given DIE and decide whether they should be</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;<span class="comment">/// kept.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::lookForChildDIEsToKeep(</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keyword">const</span> DWARFDie &amp;Die, CompileUnit &amp;<a class="code" href="namespaceCU.html">CU</a>, <span class="keywordtype">unsigned</span> Flags,</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    SmallVectorImpl&lt;WorklistItem&gt; &amp;Worklist) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="comment">// The TF_ParentWalk flag tells us that we are currently walking up the</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="comment">// parent chain of a required DIE, and we don&#39;t want to mark all the children</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// of the parents as kept (consider for example a DW_TAG_namespace node in</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// the parent chain). There are however a set of DIE types for which we want</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="comment">// to ignore that directive and still walk their children.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ac81564f1aa9d37fc1057ba3e6c569a13">dieNeedsChildrenToBeMeaningful</a>(Die.getTag()))</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    Flags &amp;= ~<a class="code" href="classllvm_1_1DWARFLinker.html#a161ab942f02bb3c878af04bb2740ab08">DWARFLinker</a>::TF_ParentWalk;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160; </div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">// We&#39;re finished if this DIE has no children or we&#39;re walking the parent</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">// chain.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (!Die.hasChildren() || (Flags &amp; DWARFLinker::TF_ParentWalk))</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160; </div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="comment">// Add children in reverse order to the worklist to effectively process them</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="comment">// in order.</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Child : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(Die.children())) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// Add a worklist item before every child to calculate incompleteness right</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// after the current child is processed.</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    CompileUnit::DIEInfo &amp;ChildInfo = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Child);</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    Worklist.emplace_back(Die, <a class="code" href="namespaceCU.html">CU</a>, WorklistItemType::UpdateChildIncompleteness,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                          &amp;ChildInfo);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    Worklist.emplace_back(Child, <a class="code" href="namespaceCU.html">CU</a>, Flags);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="namespacellvm.html#acc6108333e358848db3db11c51d105ef">  623</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#acc6108333e358848db3db11c51d105ef">isODRCanonicalCandidate</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;Die, <a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <a class="code" href="structllvm_1_1CompileUnit_1_1DIEInfo.html">CompileUnit::DIEInfo</a> &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt || (Die.<a class="code" href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">getTag</a>() == dwarf::DW_TAG_namespace))</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespaceCU.html">CU</a>.hasODR() &amp;&amp; !<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InModuleScope)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160; </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Incomplete &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt != <a class="code" href="namespaceCU.html">CU</a>.getInfo(<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.ParentIdx).Ctxt;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="keywordtype">void</span> DWARFLinker::markODRCanonicalDie(<span class="keyword">const</span> DWARFDie &amp;Die, CompileUnit &amp;<a class="code" href="namespaceCU.html">CU</a>) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  CompileUnit::DIEInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Die);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160; </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.ODRMarkingDone = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Keep &amp;&amp; <a class="code" href="namespacellvm.html#acc6108333e358848db3db11c51d105ef">isODRCanonicalCandidate</a>(Die, <a class="code" href="namespaceCU.html">CU</a>) &amp;&amp;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;      !<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;hasCanonicalDIE())</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;setHasCanonicalDIE();</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;}</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">/// Look at DIEs referenced by the given DIE and decide whether they should be</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">/// kept. All DIEs referenced though attributes should be kept.</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::lookForRefDIEsToKeep(</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">const</span> DWARFDie &amp;Die, CompileUnit &amp;<a class="code" href="namespaceCU.html">CU</a>, <span class="keywordtype">unsigned</span> Flags,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">UnitListTy</a> &amp;Units, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    SmallVectorImpl&lt;WorklistItem&gt; &amp;Worklist) {</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordtype">bool</span> UseOdr = (<a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> &amp; DWARFLinker::TF_DependencyWalk)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                    ? (Flags &amp; DWARFLinker::TF_ODR)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                    : <a class="code" href="namespaceCU.html">CU</a>.hasODR();</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  DWARFUnit &amp;Unit = <a class="code" href="namespaceCU.html">CU</a>.getOrigUnit();</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  DWARFDataExtractor <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = Unit.getDebugInfoExtractor();</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Abbrev = Die.getAbbreviationDeclarationPtr();</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Die.getOffset() + <a class="code" href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">getULEB128Size</a>(Abbrev-&gt;getCode());</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  SmallVector&lt;std::pair&lt;DWARFDie, CompileUnit &amp;&gt;, 4&gt; ReferencedDIEs;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;AttrSpec : Abbrev-&gt;attributes()) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    DWARFFormValue Val(AttrSpec.Form);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="keywordflow">if</span> (!Val.isFormClass(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228aecc352ab32050f10e6c1d07d39eca711">DWARFFormValue::FC_Reference</a>) ||</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        AttrSpec.Attr == dwarf::DW_AT_sibling) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      <a class="code" href="classllvm_1_1DWARFFormValue.html#ad16686174287aeb36289484f271d5225">DWARFFormValue::skipValue</a>(AttrSpec.Form, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                Unit.getFormParams());</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    Val.extractValue(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, Unit.getFormParams(), &amp;Unit);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    CompileUnit *ReferencedCU;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> RefDie =</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            resolveDIEReference(File, Units, Val, Die, ReferencedCU)) {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      CompileUnit::DIEInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = ReferencedCU-&gt;getInfo(RefDie);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="comment">// If the referenced DIE has a DeclContext that has already been</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <span class="comment">// emitted, then do not keep the one in this CU. We&#39;ll link to</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <span class="comment">// the canonical DIE in cloneDieReferenceAttribute.</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="comment">// FIXME: compatibility with dsymutil-classic. UseODR shouldn&#39;t</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="comment">// be necessary and could be advantageously replaced by</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="comment">// ReferencedCU-&gt;hasODR() &amp;&amp; CU.hasODR().</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="comment">// FIXME: compatibility with dsymutil-classic. There is no</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      <span class="comment">// reason not to unique ref_addr references.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      <span class="keywordflow">if</span> (AttrSpec.Form != dwarf::DW_FORM_ref_addr &amp;&amp;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          <a class="code" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">isODRAttribute</a>(AttrSpec.Attr) &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt &amp;&amp;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;          <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;hasCanonicalDIE())</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="comment">// Keep a module forward declaration if there is no definition.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">if</span> (!(<a class="code" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">isODRAttribute</a>(AttrSpec.Attr) &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt &amp;&amp;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;hasCanonicalDIE()))</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Prune = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      ReferencedDIEs.emplace_back(RefDie, *ReferencedCU);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordtype">unsigned</span> ODRFlag = UseOdr ? DWARFLinker::TF_ODR : 0;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160; </div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  <span class="comment">// Add referenced DIEs in reverse order to the worklist to effectively</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="comment">// process them in order.</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(ReferencedDIEs)) {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// Add a worklist item before every child to calculate incompleteness right</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">// after the current child is processed.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    CompileUnit::DIEInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second.getInfo(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    Worklist.emplace_back(Die, <a class="code" href="namespaceCU.html">CU</a>, WorklistItemType::UpdateRefIncompleteness,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                          &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    Worklist.emplace_back(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.first, <a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>.second,</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                          DWARFLinker::TF_Keep |</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                              DWARFLinker::TF_DependencyWalk | ODRFlag);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;}</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">/// Look at the parent of the given DIE and decide whether they should be kept.</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::lookForParentDIEsToKeep(</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keywordtype">unsigned</span> AncestorIdx, CompileUnit &amp;<a class="code" href="namespaceCU.html">CU</a>, <span class="keywordtype">unsigned</span> Flags,</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    SmallVectorImpl&lt;WorklistItem&gt; &amp;Worklist) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="comment">// Stop if we encounter an ancestor that&#39;s already marked as kept.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceCU.html">CU</a>.getInfo(AncestorIdx).Keep)</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  DWARFUnit &amp;Unit = <a class="code" href="namespaceCU.html">CU</a>.getOrigUnit();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  DWARFDie ParentDIE = Unit.getDIEAtIndex(AncestorIdx);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  Worklist.emplace_back(<a class="code" href="namespaceCU.html">CU</a>.getInfo(AncestorIdx).ParentIdx, <a class="code" href="namespaceCU.html">CU</a>, Flags);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  Worklist.emplace_back(ParentDIE, <a class="code" href="namespaceCU.html">CU</a>, Flags);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="comment">/// Recursively walk the \p DIE tree and look for DIEs to keep. Store that</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="comment">/// information in \p CU&#39;s DIEInfo.</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">/// This function is the entry point of the DIE selection algorithm. It is</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">/// expected to walk the DIE tree in file order and (though the mediation of</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="comment">/// its helper) call hasValidRelocation() on each DIE that might be a &#39;root</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="comment">/// DIE&#39; (See DwarfLinker class comment).</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;<span class="comment">/// While walking the dependencies of root DIEs, this function is also called,</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;<span class="comment">/// but during these dependency walks the file order is not respected. The</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;<span class="comment">/// TF_DependencyWalk flag tells us which kind of traversal we are currently</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;<span class="comment">/// doing.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="comment">/// The recursive algorithm is implemented iteratively as a work list because</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="comment">/// very deep recursion could exhaust the stack for large projects. The work</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;<span class="comment">/// list acts as a scheduler for different types of work that need to be</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="comment">/// performed.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;<span class="comment">/// The recursive nature of the algorithm is simulated by running the &quot;main&quot;</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">/// algorithm (LookForDIEsToKeep) followed by either looking at more DIEs</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">/// (LookForChildDIEsToKeep, LookForRefDIEsToKeep, LookForParentDIEsToKeep) or</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">/// fixing up a computed property (UpdateChildIncompleteness,</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="comment">/// UpdateRefIncompleteness).</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="comment">/// The return value indicates whether the DIE is incomplete.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::lookForDIEsToKeep(AddressesMap &amp;AddressesMap,</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;                                    <a class="code" href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">RangesTy</a> &amp;Ranges, <span class="keyword">const</span> <a class="code" href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">UnitListTy</a> &amp;Units,</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                                    <span class="keyword">const</span> DWARFDie &amp;Die, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                                    CompileUnit &amp;Cu, <span class="keywordtype">unsigned</span> Flags) {</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// LIFO work list.</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  SmallVector&lt;WorklistItem, 4&gt; Worklist;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  Worklist.emplace_back(Die, Cu, Flags);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    WorklistItem Current = Worklist.pop_back_val();</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// Look at the worklist type to decide what kind of work to perform.</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">switch</span> (Current.Type) {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::UpdateChildIncompleteness:</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="namespacellvm.html#aa6fc3382b3caf1e509384c91f5457db7">updateChildIncompleteness</a>(Current.Die, Current.CU, *Current.OtherInfo);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::UpdateRefIncompleteness:</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <a class="code" href="namespacellvm.html#a0f460e86ae0cf56bd21fd50ef7f5e2b6">updateRefIncompleteness</a>(Current.Die, Current.CU, *Current.OtherInfo);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::LookForChildDIEsToKeep:</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      lookForChildDIEsToKeep(Current.Die, Current.CU, Current.Flags, Worklist);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::LookForRefDIEsToKeep:</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      lookForRefDIEsToKeep(Current.Die, Current.CU, Current.Flags, Units, File,</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                           Worklist);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::LookForParentDIEsToKeep:</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      lookForParentDIEsToKeep(Current.AncestorIdx, Current.CU, Current.Flags,</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                              Worklist);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::MarkODRCanonicalDie:</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      markODRCanonicalDie(Current.Die, Current.CU);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">case</span> WorklistItemType::LookForDIEsToKeep:</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    }</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="keywordtype">unsigned</span> Idx = Current.CU.getOrigUnit().getDIEIndex(Current.Die);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    CompileUnit::DIEInfo &amp;MyInfo = Current.CU.getInfo(Idx);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">if</span> (MyInfo.Prune) {</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="comment">// We&#39;re walking the dependencies of a module forward declaration that was</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="comment">// kept because there is no definition.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span> (Current.Flags &amp; TF_DependencyWalk)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        MyInfo.Prune = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160; </div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">// If the Keep flag is set, we are marking a required DIE&#39;s dependencies.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="comment">// If our target is already marked as kept, we&#39;re all set.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordtype">bool</span> AlreadyKept = MyInfo.Keep;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> ((Current.Flags &amp; TF_DependencyWalk) &amp;&amp; AlreadyKept)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160; </div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="comment">// We must not call shouldKeepDIE while called from keepDIEAndDependencies,</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="comment">// because it would screw up the relocation finding logic.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (!(Current.Flags &amp; TF_DependencyWalk))</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      Current.Flags = shouldKeepDIE(AddressesMap, Ranges, Current.Die, File,</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                    Current.CU, MyInfo, Current.Flags);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160; </div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="comment">// We need to mark context for the canonical die in the end of normal</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">// traversing(not TF_DependencyWalk) or after normal traversing if die</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// was not marked as kept.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">if</span> (!(Current.Flags &amp; TF_DependencyWalk) ||</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        (MyInfo.ODRMarkingDone &amp;&amp; !MyInfo.Keep)) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">if</span> (Current.CU.hasODR() || MyInfo.InModuleScope)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        Worklist.emplace_back(Current.Die, Current.CU,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                              WorklistItemType::MarkODRCanonicalDie);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160; </div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">// Finish by looking for child DIEs. Because of the LIFO worklist we need</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">// to schedule that work before any subsequent items are added to the</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">// worklist.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    Worklist.emplace_back(Current.Die, Current.CU, Current.Flags,</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                          WorklistItemType::LookForChildDIEsToKeep);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160; </div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">if</span> (AlreadyKept || !(Current.Flags &amp; TF_Keep))</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// If it is a newly kept DIE mark it as well as all its dependencies as</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">// kept.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    MyInfo.Keep = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// We&#39;re looking for incomplete types.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    MyInfo.Incomplete =</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        Current.Die.getTag() != dwarf::DW_TAG_subprogram &amp;&amp;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        Current.Die.getTag() != dwarf::DW_TAG_member &amp;&amp;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        <a class="code" href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">dwarf::toUnsigned</a>(Current.Die.find(dwarf::DW_AT_declaration), 0);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="comment">// After looking at the parent chain, look for referenced DIEs. Because of</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="comment">// the LIFO worklist we need to schedule that work before any subsequent</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// items are added to the worklist.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    Worklist.emplace_back(Current.Die, Current.CU, Current.Flags,</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                          WorklistItemType::LookForRefDIEsToKeep);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordtype">bool</span> UseOdr = (Current.Flags &amp; TF_DependencyWalk) ? (Current.Flags &amp; TF_ODR)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                                                      : Current.CU.hasODR();</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordtype">unsigned</span> ODRFlag = UseOdr ? TF_ODR : 0;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordtype">unsigned</span> ParFlags = TF_ParentWalk | TF_Keep | TF_DependencyWalk | ODRFlag;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160; </div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <span class="comment">// Now schedule the parent walk.</span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    Worklist.emplace_back(MyInfo.ParentIdx, Current.CU, ParFlags);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  }</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;<span class="comment">/// A broken link in the keep chain. By recording both the parent and the child</span></div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;<span class="comment"></span><span class="comment">/// we can show only broken links for DIEs with multiple children.</span></div>
<div class="line"><a name="l00860"></a><span class="lineno"><a class="line" href="structllvm_1_1BrokenLink.html">  860</a></span>&#160;<span class="comment"></span><span class="keyword">struct </span><a class="code" href="structllvm_1_1BrokenLink.html">BrokenLink</a> {</div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="structllvm_1_1BrokenLink.html#a4c9283f2eef5ac80854bc8b226694c6c">  861</a></span>&#160;  <a class="code" href="structllvm_1_1BrokenLink.html#a4c9283f2eef5ac80854bc8b226694c6c">BrokenLink</a>(<a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">Parent</a>, <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">Child</a>) : <a class="code" href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">Parent</a>(<a class="code" href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">Parent</a>), <a class="code" href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">Child</a>(<a class="code" href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">Child</a>) {}</div>
<div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">  862</a></span>&#160;  <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">Parent</a>;</div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">  863</a></span>&#160;  <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> <a class="code" href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">Child</a>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;};</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;<span class="comment">/// Verify the keep chain by looking for DIEs that are kept but who&#39;s parent</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="comment">/// isn&#39;t.</span></div>
<div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="namespacellvm.html#a02b44f93159b4b08e7998a4fb4d7705f">  868</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a02b44f93159b4b08e7998a4fb4d7705f">verifyKeepChain</a>(<a class="code" href="classllvm_1_1CompileUnit.html">CompileUnit</a> &amp;<a class="code" href="namespaceCU.html">CU</a>) {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  std::vector&lt;DWARFDie&gt; Worklist;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  Worklist.push_back(<a class="code" href="namespaceCU.html">CU</a>.getOrigUnit().getUnitDIE());</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// List of broken links.</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  std::vector&lt;BrokenLink&gt; BrokenLinks;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160; </div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> Current = Worklist.back();</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    Worklist.pop_back();</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> CurrentDieIsKept = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Current).Keep;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; </div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> Child : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">reverse</a>(Current.<a class="code" href="classllvm_1_1DWARFDie.html#a1fa7cbc55eb0808d9fc434ef3efb5bca">children</a>())) {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;      Worklist.push_back(Child);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160; </div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> ChildDieIsKept = <a class="code" href="namespaceCU.html">CU</a>.getInfo(Child).Keep;</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      <span class="keywordflow">if</span> (!CurrentDieIsKept &amp;&amp; ChildDieIsKept)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        BrokenLinks.emplace_back(Current, Child);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160; </div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordflow">if</span> (!BrokenLinks.empty()) {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1BrokenLink.html">BrokenLink</a> <a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a> : BrokenLinks) {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="classllvm_1_1WithColor.html#a59d59f7f8aa89b08f44ad6a87e8ebb1a">WithColor::error</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          <span class="stringliteral">&quot;Found invalid link in keep chain between {0:x} and {1:x}\n&quot;</span>,</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;          <a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Parent.getOffset(), <a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Child.getOffset());</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160; </div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Parent:&quot;</span>;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      <a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Parent.dump(<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>(), 0, {});</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <a class="code" href="namespaceCU.html">CU</a>.getInfo(<a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Parent).dump();</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160; </div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;Child:&quot;</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Child.dump(<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>(), 2, {});</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="namespaceCU.html">CU</a>.getInfo(<a class="code" href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">Link</a>.Child).dump();</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    }</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;invalid keep chain&quot;</span>);</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;}</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">/// Assign an abbreviation number to \p Abbrev.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">/// Our DIEs get freed after every DebugMapObject has been processed,</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">/// thus the FoldingSet we use to unique DIEAbbrevs cannot refer to</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">/// the instances hold by the DIEs. When we encounter an abbreviation</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">/// that we don&#39;t know, we create a permanent copy of it.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::assignAbbrev(DIEAbbrev &amp;Abbrev) {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// Check the set for priors.</span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  FoldingSetNodeID ID;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  Abbrev.Profile(ID);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordtype">void</span> *InsertToken;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  DIEAbbrev *InSet = AbbreviationsSet.FindNodeOrInsertPos(ID, InsertToken);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160; </div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <span class="comment">// If it&#39;s newly added.</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <span class="keywordflow">if</span> (InSet) {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// Assign existing abbreviation number.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    Abbrev.setNumber(InSet-&gt;getNumber());</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">// Add to abbreviation list.</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    Abbreviations.push_back(</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        std::make_unique&lt;DIEAbbrev&gt;(Abbrev.getTag(), Abbrev.hasChildren()));</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Attr : Abbrev.getData())</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      Abbreviations.back()-&gt;AddAttribute(Attr.getAttribute(), Attr.getForm());</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    AbbreviationsSet.InsertNode(Abbreviations.back().get(), InsertToken);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="comment">// Assign the unique abbreviation number.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    Abbrev.setNumber(Abbreviations.size());</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;    Abbreviations.back()-&gt;setNumber(Abbreviations.size());</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;}</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160; </div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneStringAttribute(</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    DIE &amp;Die, <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec, <span class="keyword">const</span> DWARFFormValue &amp;Val,</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="keyword">const</span> DWARFUnit &amp;, <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool, AttributesInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  std::optional&lt;const char *&gt; <a class="code" href="namespacellvm_1_1pdb.html#a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e">String</a> = <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(Val);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">if</span> (!String)</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160; </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// Switch everything to out of line strings.</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  <span class="keyword">auto</span> StringEntry = StringPool.getEntry(*String);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160; </div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="comment">// Update attributes info.</span></div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_name)</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Name = StringEntry;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_MIPS_linkage_name ||</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;           AttrSpec.Attr == dwarf::DW_AT_linkage_name)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.MangledName = StringEntry;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160; </div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr), dwarf::DW_FORM_strp,</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;               DIEInteger(StringEntry.getOffset()));</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160; </div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  <span class="keywordflow">return</span> 4;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;}</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160; </div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;<span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneDieReferenceAttribute(</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    DIE &amp;Die, <span class="keyword">const</span> DWARFDie &amp;InputDIE, <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">unsigned</span> AttrSize, <span class="keyword">const</span> DWARFFormValue &amp;Val, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    CompileUnit &amp;Unit) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keyword">const</span> DWARFUnit &amp;U = Unit.getOrigUnit();</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a> = *Val.getAsReference();</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160; </div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  DIE *NewRefDie = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  CompileUnit *RefUnit = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  DWARFDie RefDie =</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      Linker.resolveDIEReference(File, CompileUnits, Val, InputDIE, RefUnit);</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160; </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <span class="comment">// If the referenced DIE is not found,  drop the attribute.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordflow">if</span> (!RefDie || AttrSpec.Attr == dwarf::DW_AT_sibling)</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  CompileUnit::DIEInfo &amp;RefInfo = RefUnit-&gt;getInfo(RefDie);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160; </div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="comment">// If we already have emitted an equivalent DeclContext, just point</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="comment">// at it.</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">isODRAttribute</a>(AttrSpec.Attr) &amp;&amp; RefInfo.Ctxt &amp;&amp;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      RefInfo.Ctxt-&gt;getCanonicalDIEOffset()) {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RefInfo.Ctxt-&gt;hasCanonicalDIE() &amp;&amp;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;           <span class="stringliteral">&quot;Offset to canonical die is set, but context is not marked&quot;</span>);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    DIEInteger Attr(RefInfo.Ctxt-&gt;getCanonicalDIEOffset());</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                 dwarf::DW_FORM_ref_addr, Attr);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">return</span> U.getRefAddrByteSize();</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160; </div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">if</span> (!RefInfo.Clone) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="comment">// We haven&#39;t cloned this DIE yet. Just create an empty one and</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="comment">// store it. It&#39;ll get really cloned when we process it.</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    RefInfo.UnclonedReference = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    RefInfo.Clone = <a class="code" href="classllvm_1_1DIE.html#aab8f847f2e32af5c966d00966adfe996">DIE::get</a>(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">dwarf::Tag</a>(RefDie.getTag()));</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  NewRefDie = RefInfo.Clone;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160; </div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Form == dwarf::DW_FORM_ref_addr ||</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;      (Unit.hasODR() &amp;&amp; <a class="code" href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">isODRAttribute</a>(AttrSpec.Attr))) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <span class="comment">// We cannot currently rely on a DIEEntry to emit ref_addr</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <span class="comment">// references, because the implementation calls back to DwarfDebug</span></div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="comment">// to find the unit offset. (We don&#39;t have a DwarfDebug)</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="comment">// FIXME: we should be able to design DIEEntry reliance on</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">// DwarfDebug away.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Attr;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (Ref &lt; InputDIE.getOffset() &amp;&amp; !RefInfo.UnclonedReference) {</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="comment">// We have already cloned that DIE.</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> NewRefOffset =</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;          RefUnit-&gt;getStartOffset() + NewRefDie-&gt;getOffset();</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;      Attr = NewRefOffset;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;      Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                   dwarf::DW_FORM_ref_addr, DIEInteger(Attr));</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      <span class="comment">// A forward reference. Note and fixup later.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      Attr = 0xBADDEF;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      Unit.noteForwardReference(</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          NewRefDie, RefUnit, RefInfo.Ctxt,</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                       dwarf::DW_FORM_ref_addr, DIEInteger(Attr)));</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    }</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">return</span> U.getRefAddrByteSize();</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  }</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160; </div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;               <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), DIEEntry(*NewRefDie));</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160; </div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  <span class="keywordflow">return</span> AttrSize;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;}</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160; </div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;<span class="keywordtype">void</span> DWARFLinker::DIECloner::cloneExpression(</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    DataExtractor &amp;<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, DWARFExpression Expression, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    CompileUnit &amp;Unit, SmallVectorImpl&lt;uint8_t&gt; &amp;<a class="code" href="classOutputBuffer.html">OutputBuffer</a>) {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  <span class="keyword">using</span> Encoding = <a class="code" href="classllvm_1_1DWARFExpression_1_1Operation.html#a8f965a4aa6c5f05ac1b790daf7835212">DWARFExpression::Operation::Encoding</a>;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OpOffset = 0;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : Expression) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <span class="keyword">auto</span> Description = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getDescription();</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">// DW_OP_const_type is variable-length and has 3</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// operands. DWARFExpression thus far only supports 2.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="keyword">auto</span> Op0 = Description.Op[0];</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">auto</span> Op1 = Description.Op[1];</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">if</span> ((Op0 == Encoding::BaseTypeRef &amp;&amp; Op1 != Encoding::SizeNA) ||</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        (Op1 == Encoding::BaseTypeRef &amp;&amp; Op0 != Encoding::Size1))</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;      Linker.reportWarning(<span class="stringliteral">&quot;Unsupported DW_OP encoding.&quot;</span>, File);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160; </div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="keywordflow">if</span> ((Op0 == Encoding::BaseTypeRef &amp;&amp; Op1 == Encoding::SizeNA) ||</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        (Op1 == Encoding::BaseTypeRef &amp;&amp; Op0 == Encoding::Size1)) {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      <span class="comment">// This code assumes that the other non-typeref operand fits into 1 byte.</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OpOffset &lt; <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getEndOffset());</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> ULEBsize = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getEndOffset() - OpOffset - 1;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ULEBsize &lt;= 16);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="comment">// Copy over the operation.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="classOutputBuffer.html">OutputBuffer</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getCode());</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RefOffset;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">if</span> (Op1 == Encoding::SizeNA) {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        RefOffset = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getRawOperand(0);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        <a class="code" href="classOutputBuffer.html">OutputBuffer</a>.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getRawOperand(0));</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;        RefOffset = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getRawOperand(1);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      <span class="comment">// Look up the base type. For DW_OP_convert, the operand may be 0 to</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      <span class="comment">// instead indicate the generic type. The same holds for</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;      <span class="comment">// DW_OP_reinterpret, which is currently not supported.</span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">if</span> (RefOffset &gt; 0 || <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getCode() != dwarf::DW_OP_convert) {</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        RefOffset += Unit.getOrigUnit().getOffset();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;        <span class="keyword">auto</span> RefDie = Unit.getOrigUnit().getDIEForOffset(RefOffset);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        CompileUnit::DIEInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = Unit.getInfo(RefDie);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;        <span class="keywordflow">if</span> (DIE *Clone = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Clone)</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;          <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Clone-&gt;getOffset();</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;          Linker.reportWarning(</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;              <span class="stringliteral">&quot;base type ref doesn&#39;t point to DW_TAG_base_type.&quot;</span>, File);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;      }</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      uint8_t ULEB[16];</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      <span class="keywordtype">unsigned</span> RealSize = <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, ULEB, ULEBsize);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <span class="keywordflow">if</span> (RealSize &gt; ULEBsize) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="comment">// Emit the generic type as a fallback.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        RealSize = <a class="code" href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">encodeULEB128</a>(0, ULEB, ULEBsize);</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        Linker.reportWarning(<span class="stringliteral">&quot;base type ref doesn&#39;t fit.&quot;</span>, File);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      }</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RealSize == ULEBsize &amp;&amp; <span class="stringliteral">&quot;padding failed&quot;</span>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      ArrayRef&lt;uint8_t&gt; ULEBbytes(ULEB, ULEBsize);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <a class="code" href="classOutputBuffer.html">OutputBuffer</a>.append(ULEBbytes.begin(), ULEBbytes.end());</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <span class="comment">// Copy over everything else unmodified.</span></div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      StringRef Bytes = <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getData().slice(OpOffset, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getEndOffset());</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      <a class="code" href="classOutputBuffer.html">OutputBuffer</a>.append(Bytes.begin(), Bytes.end());</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    OpOffset = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getEndOffset();</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  }</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;}</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160; </div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;<span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneBlockAttribute(</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    DIE &amp;Die, <span class="keyword">const</span> DWARFFile &amp;File, CompileUnit &amp;Unit, <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keyword">const</span> DWARFFormValue &amp;Val, <span class="keywordtype">unsigned</span> AttrSize, <span class="keywordtype">bool</span> IsLittleEndian) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  DIEValueList *Attr;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  DIEValue <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  DIELoc *Loc = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  DIEBlock *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Form == dwarf::DW_FORM_exprloc) {</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    Loc = <span class="keyword">new</span> (DIEAlloc) DIELoc;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    Linker.DIELocs.push_back(Loc);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a> = <span class="keyword">new</span> (DIEAlloc) DIEBlock;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    Linker.DIEBlocks.push_back(Block);</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  }</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  Attr = Loc ? <span class="keyword">static_cast&lt;</span>DIEValueList *<span class="keyword">&gt;</span>(Loc)</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;             : <span class="keyword">static_cast&lt;</span>DIEValueList *<span class="keyword">&gt;</span>(Block);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160; </div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">if</span> (Loc)</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = DIEValue(<a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                     <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), Loc);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = DIEValue(<a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                     <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), Block);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160; </div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  <span class="comment">// If the block is a DWARF Expression, clone it into the temporary</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// buffer using cloneExpression(), otherwise copy the data directly.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  SmallVector&lt;uint8_t, 32&gt; Buffer;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  ArrayRef&lt;uint8_t&gt; Bytes = *Val.getAsBlock();</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1DWARFAttribute.html#abcfbc296ea65dfc9205a4211bfb2d45b">DWARFAttribute::mayHaveLocationExpr</a>(AttrSpec.Attr) &amp;&amp;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      (Val.isFormClass(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228ab7f7ffb183c98435d2b766c0bd9412eb">DWARFFormValue::FC_Block</a>) ||</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;       Val.isFormClass(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228a5a1c5d88ff1af292b7f88f4c8a4fa8f1">DWARFFormValue::FC_Exprloc</a>))) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    DWARFUnit &amp;OrigUnit = Unit.getOrigUnit();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    DataExtractor <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>(StringRef((<span class="keyword">const</span> <span class="keywordtype">char</span> *)Bytes.data(), Bytes.size()),</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                       IsLittleEndian, OrigUnit.getAddressByteSize());</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    DWARFExpression Expr(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, OrigUnit.getAddressByteSize(),</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                         OrigUnit.getFormParams().Format);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    cloneExpression(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, Expr, File, Unit, Buffer);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    Bytes = Buffer;</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  }</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Byte : Bytes)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    Attr-&gt;addValue(DIEAlloc, <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a><span class="keyword">&gt;</span>(0),</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                   dwarf::DW_FORM_data1, DIEInteger(Byte));</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160; </div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="comment">// FIXME: If DIEBlock and DIELoc just reuses the Size field of</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="comment">// the DIE class, this &quot;if&quot; could be replaced by</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <span class="comment">// Attr-&gt;setSize(Bytes.size()).</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;  <span class="keywordflow">if</span> (Loc)</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    Loc-&gt;setSize(Bytes.size());</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">Block</a>-&gt;setSize(Bytes.size());</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="keywordflow">return</span> AttrSize;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;<span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneAddressAttribute(</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    DIE &amp;Die, <span class="keyword">const</span> DWARFDie &amp;InputDIE, <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec,</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <span class="keywordtype">unsigned</span> AttrSize, <span class="keyword">const</span> DWARFFormValue &amp;Val, <span class="keyword">const</span> CompileUnit &amp;Unit,</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    AttributesInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>) {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_low_pc)</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.HasLowPc = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Linker.Options.Update)) {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                 <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), DIEInteger(Val.getRawUValue()));</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">return</span> AttrSize;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160; </div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">// Cloned Die may have address attributes relocated to a</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">// totally unrelated value. This can happen:</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">//   - If high_pc is an address (Dwarf version == 2), then it might have been</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">//     relocated to a totally unrelated value (because the end address in the</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">//     object file might be start address of another function which got moved</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">//     independently by the linker).</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">//   - If address relocated in an inline_subprogram that happens at the</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">//     beginning of its inlining function.</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">//  To avoid above cases and to not apply relocation twice (in applyValidRelocs</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">//  and here), read address attribute from InputDIE and apply Info.PCOffset</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">//  here.</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160; </div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  std::optional&lt;DWARFFormValue&gt; AddrAttribute = InputDIE.find(AttrSpec.Attr);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="keywordflow">if</span> (!AddrAttribute)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Cann&#39;t find attribute.&quot;</span>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160; </div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  std::optional&lt;uint64_t&gt; <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = AddrAttribute-&gt;getAsAddress();</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    Linker.reportWarning(<span class="stringliteral">&quot;Cann&#39;t read address attribute value.&quot;</span>, ObjFile);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = 0;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  }</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160; </div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordflow">if</span> (InputDIE.getTag() == dwarf::DW_TAG_compile_unit &amp;&amp;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;      AttrSpec.Attr == dwarf::DW_AT_low_pc) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; LowPC = Unit.getLowPc())</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = *LowPC;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (InputDIE.getTag() == dwarf::DW_TAG_compile_unit &amp;&amp;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;             AttrSpec.Attr == dwarf::DW_AT_high_pc) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> HighPc = Unit.getHighPc())</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;      <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = HighPc;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> += <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.PCOffset;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160; </div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a> <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">Form</a> = AttrSpec.Form;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// FIXME: Generation of DWARFv5 .debug_addr table is not supported yet.</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// Convert attribute into the dwarf::DW_FORM_addr.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">Form</a> == dwarf::DW_FORM_addrx)</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">Form</a> = dwarf::DW_FORM_addr;</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160; </div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  Die.addValue(DIEAlloc, <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a><span class="keyword">&gt;</span>(AttrSpec.Attr),</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;               <span class="keyword">static_cast&lt;</span><a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a><span class="keyword">&gt;</span>(<a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">Form</a>), DIEInteger(*<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>));</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">return</span> Unit.getOrigUnit().getAddressByteSize();</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneScalarAttribute(</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    DIE &amp;Die, <span class="keyword">const</span> DWARFDie &amp;InputDIE, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    CompileUnit &amp;Unit, <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec, <span class="keyword">const</span> DWARFFormValue &amp;Val,</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordtype">unsigned</span> AttrSize, AttributesInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>) {</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>;</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160; </div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  <span class="comment">// Check for the offset to the macro table. If offset is incorrect then we</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="comment">// need to remove the attribute.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_macro_info) {</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Val.getAsSectionOffset()) {</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keyword">const</span> DWARFDebugMacro *<a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114">Macro</a> = <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Dwarf-&gt;getDebugMacinfo();</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">if</span> (Macro == <span class="keyword">nullptr</span> || !<a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114">Macro</a>-&gt;hasEntryForOffset(*<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  }</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_macros) {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = Val.getAsSectionOffset()) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      <span class="keyword">const</span> DWARFDebugMacro *<a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114">Macro</a> = <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Dwarf-&gt;getDebugMacro();</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">if</span> (Macro == <span class="keyword">nullptr</span> || !<a class="code" href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114">Macro</a>-&gt;hasEntryForOffset(*<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>))</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;  }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Linker.Options.Update)) {</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> OptionalValue = Val.getAsUnsignedConstant())</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;      <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *OptionalValue;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> OptionalValue = Val.getAsSignedConstant())</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *OptionalValue;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> OptionalValue = Val.getAsSectionOffset())</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *OptionalValue;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      Linker.reportWarning(</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;          <span class="stringliteral">&quot;Unsupported scalar attribute form. Dropping attribute.&quot;</span>, File,</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;          &amp;InputDIE);</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;    }</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_declaration &amp;&amp; <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>)</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IsDeclaration = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;                 <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), DIEInteger(<a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>));</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> AttrSize;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_high_pc &amp;&amp;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      Die.getTag() == dwarf::DW_TAG_compile_unit) {</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    std::optional&lt;uint64_t&gt; LowPC = Unit.getLowPc();</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordflow">if</span> (!LowPC)</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    <span class="comment">// Dwarf &gt;= 4 high_pc is an size, not an address.</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = Unit.getHighPc() - *LowPC;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AttrSpec.Form == dwarf::DW_FORM_sec_offset)</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *Val.getAsSectionOffset();</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AttrSpec.Form == dwarf::DW_FORM_sdata)</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *Val.getAsSignedConstant();</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> OptionalValue = Val.getAsUnsignedConstant())</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a> = *OptionalValue;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    Linker.reportWarning(</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;        <span class="stringliteral">&quot;Unsupported scalar attribute form. Dropping attribute.&quot;</span>, File,</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        &amp;InputDIE);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  }</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  PatchLocation Patch =</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      Die.addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(AttrSpec.Attr),</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                   <a class="code" href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">dwarf::Form</a>(AttrSpec.Form), DIEInteger(<a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>));</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_ranges) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    Unit.noteRangeAttribute(Die, Patch);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.HasRanges = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">// A more generic way to check for location attributes would be</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  <span class="comment">// nice, but it&#39;s very unlikely that any other attribute needs a</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// location list.</span></div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// FIXME: use DWARFAttribute::mayHaveLocationDescription().</span></div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_location ||</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;           AttrSpec.Attr == dwarf::DW_AT_frame_base) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    Unit.noteLocationAttribute(Patch, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.PCOffset);</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (AttrSpec.Attr == dwarf::DW_AT_declaration &amp;&amp; <a class="code" href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">Value</a>)</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.IsDeclaration = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160; </div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">return</span> AttrSize;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;<span class="comment">/// Clone \p InputDIE&#39;s attribute described by \p AttrSpec with</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;<span class="comment">/// value \p Val, and add it to \p Die.</span></div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;<span class="comment">/// \returns the size of the cloned attribute.</span></div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> DWARFLinker::DIECloner::cloneAttribute(</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    DIE &amp;Die, <span class="keyword">const</span> DWARFDie &amp;InputDIE, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    CompileUnit &amp;Unit, <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool, <span class="keyword">const</span> DWARFFormValue &amp;Val,</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">AttributeSpec</a> AttrSpec, <span class="keywordtype">unsigned</span> AttrSize, AttributesInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>,</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordtype">bool</span> IsLittleEndian) {</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;  <span class="keyword">const</span> DWARFUnit &amp;U = Unit.getOrigUnit();</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;  <span class="keywordflow">switch</span> (AttrSpec.Form) {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strp:</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_string:</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strx:</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strx1:</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strx2:</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strx3:</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_strx4:</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="keywordflow">return</span> cloneStringAttribute(Die, AttrSpec, Val, U, StringPool, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>);</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_ref_addr:</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_ref1:</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_ref2:</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_ref4:</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_ref8:</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">return</span> cloneDieReferenceAttribute(Die, InputDIE, AttrSpec, AttrSize, Val,</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;                                      File, Unit);</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_block:</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_block1:</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_block2:</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_block4:</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_exprloc:</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">return</span> cloneBlockAttribute(Die, File, Unit, AttrSpec, Val, AttrSize,</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;                               IsLittleEndian);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_addr:</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_addrx:</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    <span class="keywordflow">return</span> cloneAddressAttribute(Die, InputDIE, AttrSpec, AttrSize, Val, Unit,</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;                                 <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_data1:</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_data2:</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_data4:</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_data8:</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_udata:</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_sdata:</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_sec_offset:</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_flag:</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_FORM_flag_present:</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <span class="keywordflow">return</span> cloneScalarAttribute(Die, InputDIE, File, Unit, AttrSpec, Val,</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;                                AttrSize, <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>);</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    Linker.reportWarning(<span class="stringliteral">&quot;Unsupported attribute form &quot;</span> +</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;                             <a class="code" href="group__DwarfConstantsDumping.html#ga4863132f9f3dd24b6df4cfc6c9cfb676">dwarf::FormEncodingString</a>(AttrSpec.Form) +</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;                             <span class="stringliteral">&quot; in cloneAttribute. Dropping.&quot;</span>,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                         File, &amp;InputDIE);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;}</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160; </div>
<div class="line"><a name="l01358"></a><span class="lineno"><a class="line" href="namespacellvm.html#ad4a3b3f8e9a7e1dbac7444b5a756eed0"> 1358</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#ad4a3b3f8e9a7e1dbac7444b5a756eed0">isObjCSelector</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Name) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;  <span class="keywordflow">return</span> Name.size() &gt; 2 &amp;&amp; (Name[0] == <span class="charliteral">&#39;-&#39;</span> || Name[0] == <span class="charliteral">&#39;+&#39;</span>) &amp;&amp;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;         (Name[1] == <span class="charliteral">&#39;[&#39;</span>);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="keywordtype">void</span> DWARFLinker::DIECloner::addObjCAccelerator(CompileUnit &amp;Unit,</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                                                <span class="keyword">const</span> DIE *Die,</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;                                                DwarfStringPoolEntryRef Name,</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;                                                <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool,</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;                                                <span class="keywordtype">bool</span> SkipPubSection) {</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#ad4a3b3f8e9a7e1dbac7444b5a756eed0">isObjCSelector</a>(Name.getString()) &amp;&amp; <span class="stringliteral">&quot;not an objc selector&quot;</span>);</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="comment">// Objective C method or class function.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  <span class="comment">// &quot;- [Class(Category) selector :withArg ...]&quot;</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  StringRef ClassNameStart(Name.getString().drop_front(2));</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <span class="keywordtype">size_t</span> FirstSpace = ClassNameStart.find(<span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="keywordflow">if</span> (FirstSpace == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160; </div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  StringRef SelectorStart(ClassNameStart.data() + FirstSpace + 1);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="keywordflow">if</span> (!SelectorStart.size())</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160; </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  StringRef Selector(SelectorStart.data(), SelectorStart.size() - 1);</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  Unit.addNameAccelerator(Die, StringPool.getEntry(Selector), SkipPubSection);</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160; </div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  <span class="comment">// Add an entry for the class name that points to this</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="comment">// method/class function.</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;  StringRef ClassName(ClassNameStart.data(), FirstSpace);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;  Unit.addObjCAccelerator(Die, StringPool.getEntry(ClassName), SkipPubSection);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160; </div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;  <span class="keywordflow">if</span> (ClassName[ClassName.size() - 1] == <span class="charliteral">&#39;)&#39;</span>) {</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordtype">size_t</span> OpenParens = ClassName.find(<span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="keywordflow">if</span> (OpenParens != <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      StringRef ClassNameNoCategory(ClassName.data(), OpenParens);</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      Unit.addObjCAccelerator(Die, StringPool.getEntry(ClassNameNoCategory),</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;                              SkipPubSection);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160; </div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;      std::string MethodNameNoCategory(Name.getString().data(), OpenParens + 2);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;      <span class="comment">// FIXME: The missing space here may be a bug, but</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;      <span class="comment">//        dsymutil-classic also does it this way.</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      MethodNameNoCategory.append(std::string(SelectorStart));</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;      Unit.addNameAccelerator(Die, StringPool.getEntry(MethodNameNoCategory),</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                              SkipPubSection);</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  }</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;}</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"><a class="line" href="namespacellvm.html#aa66ef91afb15ef1fa0f27f28d8127c49"> 1405</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#aa66ef91afb15ef1fa0f27f28d8127c49">shouldSkipAttribute</a>(</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;    <span class="keywordtype">bool</span> Update, <a class="code" href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html">DWARFAbbreviationDeclaration::AttributeSpec</a> AttrSpec,</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, <span class="keywordtype">bool</span> InDebugMap, <span class="keywordtype">bool</span> SkipPC, <span class="keywordtype">bool</span> InFunctionScope) {</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  <span class="keywordflow">switch</span> (AttrSpec.<a class="code" href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html#a334610a585463d47be91041e10e9ba7a">Attr</a>) {</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_low_pc:</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_high_pc:</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_ranges:</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    <span class="keywordflow">return</span> !Update &amp;&amp; SkipPC;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_str_offsets_base:</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// FIXME: Use the string offset table with Dwarf 5.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_location:</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">case</span> dwarf::DW_AT_frame_base:</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="comment">// FIXME: for some reason dsymutil-classic keeps the location attributes</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <span class="comment">// when they are of block type (i.e. not location lists). This is totally</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <span class="comment">// wrong for globals where we will keep a wrong address. It is mostly</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="comment">// harmless for locals, but there is no point in keeping these anyway when</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// the function wasn&#39;t linked.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="keywordflow">return</span> !Update &amp;&amp;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;           (SkipPC || (!InFunctionScope &amp;&amp; <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_variable &amp;&amp;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                       !InDebugMap)) &amp;&amp;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;           !<a class="code" href="classllvm_1_1DWARFFormValue.html">DWARFFormValue</a>(AttrSpec.<a class="code" href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html#ae1a5d450fc1291db4a1981cfbd38fc0b">Form</a>).<a class="code" href="classllvm_1_1DWARFFormValue.html#a7f4acdd5d8a9b78623878262b10f8e4f">isFormClass</a>(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228ab7f7ffb183c98435d2b766c0bd9412eb">DWARFFormValue::FC_Block</a>);</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;  }</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;}</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160; </div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;DIE *DWARFLinker::DIECloner::cloneDIE(<span class="keyword">const</span> DWARFDie &amp;InputDIE,</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                                      <span class="keyword">const</span> DWARFFile &amp;File, CompileUnit &amp;Unit,</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                                      <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool,</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                                      int64_t PCOffset, <a class="code" href="classuint32__t.html">uint32_t</a> OutOffset,</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                                      <span class="keywordtype">unsigned</span> Flags, <span class="keywordtype">bool</span> IsLittleEndian,</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;                                      DIE *Die) {</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  DWARFUnit &amp;U = Unit.getOrigUnit();</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="keywordtype">unsigned</span> Idx = U.getDIEIndex(InputDIE);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  CompileUnit::DIEInfo &amp;<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a> = Unit.getInfo(Idx);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160; </div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;  <span class="comment">// Should the DIE appear in the output?</span></div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  <span class="keywordflow">if</span> (!Unit.getInfo(Idx).Keep)</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160; </div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = InputDIE.getOffset();</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(Die &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Clone) &amp;&amp; <span class="stringliteral">&quot;Can&#39;t supply a DIE and a cloned DIE&quot;</span>);</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <span class="keywordflow">if</span> (!Die) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;    <span class="comment">// The DIE might have been already created by a forward reference</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;    <span class="comment">// (see cloneDieReferenceAttribute()).</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Clone)</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Clone = <a class="code" href="classllvm_1_1DIE.html#aab8f847f2e32af5c966d00966adfe996">DIE::get</a>(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">dwarf::Tag</a>(InputDIE.getTag()));</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    Die = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Clone;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;  }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160; </div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Die-&gt;getTag() == InputDIE.getTag());</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  Die-&gt;setOffset(OutOffset);</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#acc6108333e358848db3db11c51d105ef">isODRCanonicalCandidate</a>(InputDIE, Unit) &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt &amp;&amp;</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;      (<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;getCanonicalDIEOffset() == 0)) {</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;hasCanonicalDIE())</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;      <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;setHasCanonicalDIE();</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    <span class="comment">// We are about to emit a DIE that is the root of its own valid</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    <span class="comment">// DeclContext tree. Make the current offset the canonical offset</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    <span class="comment">// for this context.</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;    <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.Ctxt-&gt;setCanonicalDIEOffset(OutOffset + Unit.getStartOffset());</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160; </div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">// Extract and clone every attribute.</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  DWARFDataExtractor <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> = U.getDebugInfoExtractor();</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="comment">// Point to the next DIE (generally there is always at least a NULL</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;  <span class="comment">// entry after the current one). If this is a lone</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  <span class="comment">// DW_TAG_compile_unit without any children, point to the next unit.</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NextOffset = (Idx + 1 &lt; U.getNumDIEs())</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;                            ? U.getDIEAtIndex(Idx + 1).getOffset()</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;                            : U.getNextUnitOffset();</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;  AttributesInfo AttrInfo;</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160; </div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="comment">// We could copy the data only if we need to apply a relocation to it. After</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;  <span class="comment">// testing, it seems there is no performance downside to doing the copy</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;  <span class="comment">// unconditionally, and it makes the code simpler.</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;  SmallString&lt;40&gt; DIECopy(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getData().substr(<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, NextOffset - <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>));</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;  <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a> =</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      DWARFDataExtractor(DIECopy, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.isLittleEndian(), <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getAddressSize());</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160; </div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <span class="comment">// Modify the copy with relocated addresses.</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  ObjFile.Addresses-&gt;applyValidRelocs(DIECopy, <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.isLittleEndian());</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160; </div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <span class="comment">// Reset the Offset to 0 as we will be working on the local copy of</span></div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <span class="comment">// the data.</span></div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = 0;</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *Abbrev = InputDIE.getAbbreviationDeclarationPtr();</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;  <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> += <a class="code" href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">getULEB128Size</a>(Abbrev-&gt;getCode());</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160; </div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;  <span class="comment">// We are entering a subprogram. Get and propagate the PCOffset.</span></div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;  <span class="keywordflow">if</span> (Die-&gt;getTag() == dwarf::DW_TAG_subprogram)</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;    PCOffset = <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.AddrAdjust;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  AttrInfo.PCOffset = PCOffset;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160; </div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <span class="keywordflow">if</span> (Abbrev-&gt;getTag() == dwarf::DW_TAG_subprogram) {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> |= TF_InFunctionScope;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InDebugMap &amp;&amp; <a class="code" href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a>(!Update))</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> |= TF_SkipPC;</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Abbrev-&gt;getTag() == dwarf::DW_TAG_variable) {</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="comment">// Function-local globals could be in the debug map even when the function</span></div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">// is not, e.g., inlined functions.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="keywordflow">if</span> ((Flags &amp; TF_InFunctionScope) &amp;&amp; <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InDebugMap)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <a class="code" href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">Flags</a> &amp;= ~TF_SkipPC;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  }</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160; </div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;AttrSpec : Abbrev-&gt;attributes()) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aa66ef91afb15ef1fa0f27f28d8127c49">shouldSkipAttribute</a>(Update, AttrSpec, Die-&gt;getTag(), <a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InDebugMap,</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;                            Flags &amp; TF_SkipPC, Flags &amp; TF_InFunctionScope)) {</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;      <a class="code" href="classllvm_1_1DWARFFormValue.html#ad16686174287aeb36289484f271d5225">DWARFFormValue::skipValue</a>(AttrSpec.Form, <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>,</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;                                U.getFormParams());</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160; </div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    DWARFFormValue Val(AttrSpec.Form);</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AttrSize = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>;</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    Val.extractValue(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, U.getFormParams(), &amp;U);</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;    AttrSize = <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> - AttrSize;</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160; </div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    OutOffset += cloneAttribute(*Die, InputDIE, File, Unit, StringPool, Val,</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;                                AttrSpec, AttrSize, AttrInfo, IsLittleEndian);</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  }</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160; </div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="comment">// Look for accelerator entries.</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="classuint16__t.html">uint16_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = InputDIE.getTag();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">// FIXME: This is slightly wrong. An inline_subroutine without a</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// low_pc, but with AT_ranges might be interesting to get into the</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">// accelerator tables too. For now stick with dsymutil&#39;s behavior.</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a>.InDebugMap || AttrInfo.HasLowPc || AttrInfo.HasRanges) &amp;&amp;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      Tag != dwarf::DW_TAG_compile_unit &amp;&amp;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      getDIENames(InputDIE, AttrInfo, StringPool,</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                  Tag != dwarf::DW_TAG_inlined_subroutine)) {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordflow">if</span> (AttrInfo.MangledName &amp;&amp; AttrInfo.MangledName != AttrInfo.Name)</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      Unit.addNameAccelerator(Die, AttrInfo.MangledName,</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;                              Tag == dwarf::DW_TAG_inlined_subroutine);</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <span class="keywordflow">if</span> (AttrInfo.Name) {</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">if</span> (AttrInfo.NameWithoutTemplate)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;        Unit.addNameAccelerator(Die, AttrInfo.NameWithoutTemplate,</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                                <span class="comment">/* SkipPubSection */</span> <span class="keyword">true</span>);</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      Unit.addNameAccelerator(Die, AttrInfo.Name,</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                              Tag == dwarf::DW_TAG_inlined_subroutine);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    }</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">if</span> (AttrInfo.Name &amp;&amp; <a class="code" href="namespacellvm.html#ad4a3b3f8e9a7e1dbac7444b5a756eed0">isObjCSelector</a>(AttrInfo.Name.getString()))</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      addObjCAccelerator(Unit, Die, AttrInfo.Name, StringPool,</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;                         <span class="comment">/* SkipPubSection =*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160; </div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Tag == dwarf::DW_TAG_namespace) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="keywordflow">if</span> (!AttrInfo.Name)</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      AttrInfo.Name = StringPool.getEntry(<span class="stringliteral">&quot;(anonymous namespace)&quot;</span>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;    Unit.addNamespaceAccelerator(Die, AttrInfo.Name);</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Tag == dwarf::DW_TAG_imported_declaration &amp;&amp; AttrInfo.Name) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    Unit.addNamespaceAccelerator(Die, AttrInfo.Name);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7966c456ffb8277447854ce5db918863">isTypeTag</a>(Tag) &amp;&amp; !AttrInfo.IsDeclaration &amp;&amp;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;             getDIENames(InputDIE, AttrInfo, StringPool) &amp;&amp; AttrInfo.Name &amp;&amp;</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;             AttrInfo.Name.getString()[0]) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Hash = hashFullyQualifiedName(InputDIE, Unit, File);</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> RuntimeLang =</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <a class="code" href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">dwarf::toUnsigned</a>(InputDIE.find(dwarf::DW_AT_APPLE_runtime_class))</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;            .value_or(0);</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="keywordtype">bool</span> ObjCClassIsImplementation =</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        (RuntimeLang == dwarf::DW_LANG_ObjC ||</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;         RuntimeLang == dwarf::DW_LANG_ObjC_plus_plus) &amp;&amp;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        <a class="code" href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">dwarf::toUnsigned</a>(InputDIE.find(dwarf::DW_AT_APPLE_objc_complete_type))</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            .value_or(0);</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    Unit.addTypeAccelerator(Die, AttrInfo.Name, ObjCClassIsImplementation,</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                            Hash);</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  }</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160; </div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  <span class="comment">// Determine whether there are any children that we want to keep.</span></div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  <span class="keywordtype">bool</span> HasChildren = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Child : InputDIE.children()) {</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordtype">unsigned</span> Idx = U.getDIEIndex(Child);</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    <span class="keywordflow">if</span> (Unit.getInfo(Idx).Keep) {</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      HasChildren = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;  }</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;  DIEAbbrev NewAbbrev = Die-&gt;generateAbbrev();</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="keywordflow">if</span> (HasChildren)</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    NewAbbrev.setChildrenFlag(<a class="code" href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255a4b8a3f1fe8eed309f0b034064b508050">dwarf::DW_CHILDREN_yes</a>);</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// Assign a permanent abbrev number</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  Linker.assignAbbrev(NewAbbrev);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  Die-&gt;setAbbrevNumber(NewAbbrev.getNumber());</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="comment">// Add the size of the abbreviation number to the output offset.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  OutOffset += <a class="code" href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">getULEB128Size</a>(Die-&gt;getAbbrevNumber());</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160; </div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;  <span class="keywordflow">if</span> (!HasChildren) {</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">// Update our size.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    Die-&gt;setSize(OutOffset - Die-&gt;getOffset());</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">return</span> Die;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;  }</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160; </div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// Recursively clone children.</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Child : InputDIE.children()) {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    <span class="keywordflow">if</span> (DIE *Clone = cloneDIE(Child, File, Unit, StringPool, PCOffset,</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;                              OutOffset, Flags, IsLittleEndian)) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      Die-&gt;addChild(Clone);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;      OutOffset = Clone-&gt;getOffset() + Clone-&gt;getSize();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;    }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160; </div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;  <span class="comment">// Account for the end of children marker.</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  OutOffset += <span class="keyword">sizeof</span>(int8_t);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <span class="comment">// Update our size.</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  Die-&gt;setSize(OutOffset - Die-&gt;getOffset());</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordflow">return</span> Die;</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;}</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">/// Patch the input object file relevant debug_ranges entries</span></div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;<span class="comment">/// and emit them in the output file. Update the relevant attributes</span></div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;<span class="comment">/// to point at the new entries.</span></div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::patchRangesForUnit(<span class="keyword">const</span> CompileUnit &amp;Unit,</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;                                     DWARFContext &amp;OrigDwarf,</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;                                     <span class="keyword">const</span> DWARFFile &amp;File)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  DWARFDebugRangeList RangeList;</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;FunctionRanges = Unit.getFunctionRanges();</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;  <span class="keywordtype">unsigned</span> AddressSize = Unit.getOrigUnit().getAddressByteSize();</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  DWARFDataExtractor RangeExtractor(OrigDwarf.getDWARFObj(),</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                                    OrigDwarf.getDWARFObj().getRangesSection(),</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;                                    OrigDwarf.isLittleEndian(), AddressSize);</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  std::optional&lt;AddressRangeValuePair&gt; CachedRange;</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;  DWARFUnit &amp;OrigUnit = Unit.getOrigUnit();</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;  <span class="keyword">auto</span> OrigUnitDie = OrigUnit.getUnitDIE(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> UnitBaseAddress =</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#a32d6cab5518ad6e61e0fe37bf9c2264a">dwarf::toAddress</a>(OrigUnitDie.find(dwarf::DW_AT_low_pc), 0);</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160; </div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;RangeAttribute : Unit.getRangesAttributes()) {</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = RangeAttribute.get();</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    RangeAttribute.set(TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a949b7dd3887168dc04a14ec1fec5f781">getRangesSectionSize</a>());</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">if</span> (Error <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = RangeList.extract(RangeExtractor, &amp;<a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>)) {</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      <a class="code" href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">llvm::consumeError</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>));</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      reportWarning(<span class="stringliteral">&quot;invalid range list ignored.&quot;</span>, File);</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      RangeList.clear();</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    }</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Entries = RangeList.getEntries();</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160; </div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BaseAddress = UnitBaseAddress;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    AddressRanges LinkedRanges;</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;    <span class="keywordflow">if</span> (!Entries.empty()) {</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Range : Entries) {</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.isBaseAddressSelectionEntry(</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                Unit.getOrigUnit().getAddressByteSize())) {</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;          BaseAddress = <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.EndAddress;</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;        }</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160; </div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;        <span class="keywordflow">if</span> (!CachedRange ||</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            !CachedRange-&gt;Range.contains(<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.StartAddress + BaseAddress))</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;          CachedRange = FunctionRanges.getRangeThatContains(<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.StartAddress +</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                                                            BaseAddress);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160; </div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="comment">// All range entries should lie in the function range.</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        <span class="keywordflow">if</span> (!CachedRange) {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;          reportWarning(<span class="stringliteral">&quot;inconsistent range data.&quot;</span>, File);</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        LinkedRanges.insert(</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            {<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.StartAddress + BaseAddress + CachedRange-&gt;Value,</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;             <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>.EndAddress + BaseAddress + CachedRange-&gt;Value});</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;      }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    }</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160; </div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a26c0eb984ee329a788eda57a3cd4892e">emitDwarfDebugRangesTableFragment</a>(Unit, LinkedRanges);</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  }</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;}</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;<span class="comment">/// Generate the debug_aranges entries for \p Unit and if the</span></div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;<span class="comment">/// unit has a DW_AT_ranges attribute, also emit the debug_ranges</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;<span class="comment">/// contribution for this attribute.</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;<span class="comment">/// FIXME: this could actually be done right in patchRangesForUnit,</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;<span class="comment">/// but for the sake of initial bit-for-bit compatibility with legacy</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">/// dsymutil, we have to do it in a delayed pass.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::generateUnitRanges(CompileUnit &amp;Unit)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;  <span class="keyword">auto</span> Attr = Unit.getUnitRangesAttribute();</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  <span class="keywordflow">if</span> (Attr)</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    Attr-&gt;set(TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a949b7dd3887168dc04a14ec1fec5f781">getRangesSectionSize</a>());</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#ab7fb8b3d5ded21578be77575d78f533c">emitUnitRangesEntries</a>(Unit, <span class="keyword">static_cast&lt;</span><span class="keywordtype">bool</span><span class="keyword">&gt;</span>(Attr));</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;}</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;<span class="comment">/// Insert the new line info sequence \p Seq into the current</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;<span class="comment">/// set of already linked line info \p Rows.</span></div>
<div class="line"><a name="l01690"></a><span class="lineno"><a class="line" href="namespacellvm.html#a5d668d5ff205ff14cea6f8579329c874"> 1690</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#a5d668d5ff205ff14cea6f8579329c874">insertLineSequence</a>(std::vector&lt;DWARFDebugLine::Row&gt; &amp;Seq,</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;                               std::vector&lt;DWARFDebugLine::Row&gt; &amp;Rows) {</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">if</span> (Seq.empty())</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160; </div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;  <span class="keywordflow">if</span> (!Rows.empty() &amp;&amp; Rows.back().Address &lt; Seq.front().Address) {</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <a class="code" href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a>(Rows, Seq);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    Seq.clear();</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;  <a class="code" href="structllvm_1_1object_1_1SectionedAddress.html">object::SectionedAddress</a> Front = Seq.front().<a class="code" href="structllvm_1_1object_1_1SectionedAddress.html#a8807f1e455c2c5a36f3f2aaf617f823b">Address</a>;</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;  <span class="keyword">auto</span> InsertPoint = <a class="code" href="namespacellvm.html#a327a399b9f6ef414a29ddeffba934d26">partition_point</a>(</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      Rows, [=](<span class="keyword">const</span> <a class="code" href="structllvm_1_1DWARFDebugLine_1_1Row.html">DWARFDebugLine::Row</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>.Address &lt; Front; });</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="comment">// FIXME: this only removes the unneeded end_sequence if the</span></div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  <span class="comment">// sequences have been inserted in order. Using a global sort like</span></div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  <span class="comment">// described in patchLineTableForUnit() and delaying the end_sequene</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="comment">// elimination to emitLineTableForUnit() we can get rid of all of them.</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  <span class="keywordflow">if</span> (InsertPoint != Rows.end() &amp;&amp; InsertPoint-&gt;Address == Front &amp;&amp;</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      InsertPoint-&gt;EndSequence) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    *InsertPoint = Seq.front();</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    Rows.insert(InsertPoint + 1, Seq.begin() + 1, Seq.end());</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    Rows.insert(InsertPoint, Seq.begin(), Seq.end());</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  }</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  Seq.clear();</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;}</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160; </div>
<div class="line"><a name="l01720"></a><span class="lineno"><a class="line" href="namespacellvm.html#af1e1e95c63fcd767a556f71b3800e641"> 1720</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#af1e1e95c63fcd767a556f71b3800e641">patchStmtList</a>(<a class="code" href="classllvm_1_1DIE.html">DIE</a> &amp;Die, <a class="code" href="classllvm_1_1DIEInteger.html">DIEInteger</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : Die.<a class="code" href="classllvm_1_1DIEValueList.html#aaac0a2276b1fe9c13ec247892a7c3703">values</a>())</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (V.getAttribute() == dwarf::DW_AT_stmt_list) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      V = <a class="code" href="classllvm_1_1DIEValue.html">DIEValue</a>(V.getAttribute(), V.getForm(), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160; </div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Didn&#39;t find DW_AT_stmt_list in cloned DIE!&quot;</span>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">/// Extract the line table for \p Unit from \p OrigDwarf, and</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;<span class="comment">/// recreate a relocated version of these for the address ranges that</span></div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="comment">/// are present in the binary.</span></div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::patchLineTableForUnit(CompileUnit &amp;Unit,</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;                                        DWARFContext &amp;OrigDwarf,</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;                                        <span class="keyword">const</span> DWARFFile &amp;File) {</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;  DWARFDie CUDie = Unit.getOrigUnit().getUnitDIE();</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="keyword">auto</span> StmtList = <a class="code" href="namespacellvm_1_1dwarf.html#ade8a2f04649248655c8f083bc4d233fd">dwarf::toSectionOffset</a>(CUDie.find(dwarf::DW_AT_stmt_list));</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordflow">if</span> (!StmtList)</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="comment">// Update the cloned DW_AT_stmt_list with the correct debug_line offset.</span></div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *OutputDIE = Unit.getOutputUnitDIE())</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="namespacellvm.html#af1e1e95c63fcd767a556f71b3800e641">patchStmtList</a>(*OutputDIE,</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                  DIEInteger(TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a2330a01ae3e92cdb7667ea339577410f">getLineSectionSize</a>()));</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160; </div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">RangesTy</a> &amp;Ranges = File.Addresses-&gt;getValidAddressRanges();</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160; </div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="comment">// Parse the original line info for the unit.</span></div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  DWARFDebugLine::LineTable LineTable;</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StmtOffset = *StmtList;</div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  DWARFDataExtractor LineExtractor(</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      OrigDwarf.getDWARFObj(), OrigDwarf.getDWARFObj().getLineSection(),</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;      OrigDwarf.isLittleEndian(), Unit.getOrigUnit().getAddressByteSize());</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  <span class="keywordflow">if</span> (needToTranslateStrings())</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">return</span> TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a4a7da435db043dcb277653eabfa5b532">translateLineTable</a>(LineExtractor, StmtOffset);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160; </div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  <span class="keywordflow">if</span> (Error Err =</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;          LineTable.parse(LineExtractor, &amp;StmtOffset, OrigDwarf,</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                          &amp;Unit.getOrigUnit(), OrigDwarf.getWarningHandler()))</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    OrigDwarf.getWarningHandler()(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err));</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160; </div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// This vector is the output line table.</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  std::vector&lt;DWARFDebugLine::Row&gt; NewRows;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  NewRows.reserve(LineTable.Rows.size());</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160; </div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;  <span class="comment">// Current sequence of rows being extracted, before being inserted</span></div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  <span class="comment">// in NewRows.</span></div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;  std::vector&lt;DWARFDebugLine::Row&gt; Seq;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> &amp;FunctionRanges = Unit.getFunctionRanges();</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  std::optional&lt;AddressRangeValuePair&gt; CurrRange;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160; </div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="comment">// FIXME: This logic is meant to generate exactly the same output as</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;  <span class="comment">// Darwin&#39;s classic dsymutil. There is a nicer way to implement this</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="comment">// by simply putting all the relocated line info in NewRows and simply</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;  <span class="comment">// sorting NewRows before passing it to emitLineTableForUnit. This</span></div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <span class="comment">// should be correct as sequences for a function should stay</span></div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <span class="comment">// together in the sorted output. There are a few corner cases that</span></div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <span class="comment">// look suspicious though, and that required to implement the logic</span></div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;  <span class="comment">// this way. Revisit that once initial validation is finished.</span></div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160; </div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="comment">// Iterate over the object file line info and extract the sequences</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="comment">// that correspond to linked functions.</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Row : LineTable.Rows) {</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;    <span class="comment">// Check whether we stepped out of the range. The range is</span></div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="comment">// half-open, but consider accept the end address of the range if</span></div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    <span class="comment">// it is marked as end_sequence in the input (because in that</span></div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="comment">// case, the relocation offset is accurate and that entry won&#39;t</span></div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    <span class="comment">// serve as the start of another function).</span></div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">if</span> (!CurrRange || !CurrRange-&gt;Range.contains(Row.Address.Address) ||</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        (Row.Address.Address == CurrRange-&gt;Range.end() &amp;&amp; !Row.EndSequence)) {</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;      <span class="comment">// We just stepped out of a known range. Insert a end_sequence</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      <span class="comment">// corresponding to the end of the range.</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StopAddress =</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;          CurrRange ? CurrRange-&gt;Range.end() + CurrRange-&gt;Value : -1ULL;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;      CurrRange = FunctionRanges.getRangeThatContains(Row.Address.Address);</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;      <span class="keywordflow">if</span> (!CurrRange) {</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <span class="keywordflow">if</span> (StopAddress != -1ULL) {</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;          <span class="comment">// Try harder by looking in the Address ranges map.</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;          <span class="comment">// There are corner cases where this finds a</span></div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;          <span class="comment">// valid entry. It&#39;s unclear if this is right or wrong, but</span></div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;          <span class="comment">// for now do as dsymutil.</span></div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;          <span class="comment">// FIXME: Understand exactly what cases this addresses and</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;          <span class="comment">// potentially remove it along with the Ranges map.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;          <span class="keywordflow">if</span> (std::optional&lt;AddressRangeValuePair&gt; Range =</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                  Ranges.getRangeThatContains(Row.Address.Address))</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;            StopAddress = Row.Address.Address + (*Range).Value;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        }</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;      }</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      <span class="keywordflow">if</span> (StopAddress != -1ULL &amp;&amp; !Seq.empty()) {</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;        <span class="comment">// Insert end sequence row with the computed end address, but</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;        <span class="comment">// the same line as the previous one.</span></div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        <span class="keyword">auto</span> NextLine = Seq.back();</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        NextLine.Address.Address = StopAddress;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        NextLine.EndSequence = 1;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        NextLine.PrologueEnd = 0;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        NextLine.BasicBlock = 0;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;        NextLine.EpilogueBegin = 0;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        Seq.push_back(NextLine);</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        <a class="code" href="namespacellvm.html#a5d668d5ff205ff14cea6f8579329c874">insertLineSequence</a>(Seq, NewRows);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;      }</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordflow">if</span> (!CurrRange)</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    }</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160; </div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="comment">// Ignore empty sequences.</span></div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;    <span class="keywordflow">if</span> (Row.EndSequence &amp;&amp; Seq.empty())</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160; </div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;    <span class="comment">// Relocate row address and add it to the current sequence.</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    Row.Address.Address += CurrRange-&gt;Value;</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    Seq.emplace_back(Row);</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160; </div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;    <span class="keywordflow">if</span> (Row.EndSequence)</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;      <a class="code" href="namespacellvm.html#a5d668d5ff205ff14cea6f8579329c874">insertLineSequence</a>(Seq, NewRows);</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  }</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160; </div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;  <span class="comment">// Finished extracting, now emit the line tables.</span></div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;  <span class="comment">// FIXME: LLVM hard-codes its prologue values. We just copy the</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  <span class="comment">// prologue over and that works because we act as both producer and</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;  <span class="comment">// consumer. It would be nicer to have a real configurable line</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="comment">// table emitter.</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordflow">if</span> (LineTable.Prologue.getVersion() &lt; 2 ||</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;      LineTable.Prologue.getVersion() &gt; 5 ||</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;      LineTable.Prologue.DefaultIsStmt != <a class="code" href="MCDwarf_8h.html#abc3534e4318dd6126f55a94635209c93">DWARF2_LINE_DEFAULT_IS_STMT</a> ||</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;      LineTable.Prologue.OpcodeBase &gt; 13)</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    reportWarning(<span class="stringliteral">&quot;line table parameters mismatch. Cannot emit.&quot;</span>, File);</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> PrologueEnd = *StmtList + 10 + LineTable.Prologue.PrologueLength;</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;    <span class="comment">// DWARF v5 has an extra 2 bytes of information before the header_length</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    <span class="comment">// field.</span></div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    <span class="keywordflow">if</span> (LineTable.Prologue.getVersion() == 5)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      PrologueEnd += 2;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    StringRef LineData = OrigDwarf.getDWARFObj().getLineSection().Data;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;    MCDwarfLineTableParams Params;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    Params.DWARF2LineOpcodeBase = LineTable.Prologue.OpcodeBase;</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    Params.DWARF2LineBase = LineTable.Prologue.LineBase;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    Params.DWARF2LineRange = LineTable.Prologue.LineRange;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;    TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a9a22c4526f93e9142fbcc1786084748b">emitLineTableForUnit</a>(</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        Params, LineData.slice(*StmtList + 4, PrologueEnd),</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        LineTable.Prologue.MinInstLength, NewRows,</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;        Unit.getOrigUnit().getAddressByteSize());</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;}</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160; </div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;<span class="keywordtype">void</span> DWARFLinker::DIECloner::rememberUnitForMacroOffset(CompileUnit &amp;Unit) {</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  DWARFUnit &amp;OrigUnit = Unit.getOrigUnit();</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  DWARFDie OrigUnitDie = OrigUnit.getUnitDIE();</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160; </div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;  <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; MacroAttr =</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;          <a class="code" href="namespacellvm_1_1dwarf.html#ade8a2f04649248655c8f083bc4d233fd">dwarf::toSectionOffset</a>(OrigUnitDie.find(dwarf::DW_AT_macros))) {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;    UnitMacroMap.insert(std::make_pair(*MacroAttr, &amp;Unit));</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;  }</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160; </div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="keywordflow">if</span> (std::optional&lt;uint64_t&gt; MacroAttr =</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;          <a class="code" href="namespacellvm_1_1dwarf.html#ade8a2f04649248655c8f083bc4d233fd">dwarf::toSectionOffset</a>(OrigUnitDie.find(dwarf::DW_AT_macro_info))) {</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    UnitMacroMap.insert(std::make_pair(*MacroAttr, &amp;Unit));</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  }</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;}</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160; </div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;<span class="keywordtype">void</span> DWARFLinker::emitAcceleratorEntriesForUnit(CompileUnit &amp;Unit) {</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0">DwarfLinkerAccelTableKind</a> <a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51f">AccelTableKind</a> : Options.AccelTables) {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51f">AccelTableKind</a>) {</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a9f6290f4436e5a2351f12e03b6433c3c">DwarfLinkerAccelTableKind::Apple</a>: {</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <span class="comment">// Add namespaces.</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Namespace : Unit.getNamespaces())</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;        AppleNamespaces.addName(Namespace.Name, Namespace.Die-&gt;getOffset() +</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                                                    Unit.getStartOffset());</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;      <span class="comment">// Add names.</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pubname : Unit.getPubnames())</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        AppleNames.addName(Pubname.Name,</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                           Pubname.Die-&gt;getOffset() + Unit.getStartOffset());</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="comment">// Add types.</span></div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pubtype : Unit.getPubtypes())</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        AppleTypes.addName(</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            Pubtype.Name, Pubtype.Die-&gt;getOffset() + Unit.getStartOffset(),</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;            Pubtype.Die-&gt;getTag(),</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            Pubtype.ObjcClassImplementation ? <a class="code" href="namespacellvm_1_1dwarf.html#addd759aec534bc0671ea60c8e9779e5da5209d785d6f9540a65239398210353f9">dwarf::DW_FLAG_type_implementation</a></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                                            : 0,</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            Pubtype.QualifiedNameHash);</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;      <span class="comment">// Add ObjC names.</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ObjC : Unit.getObjC())</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        AppleObjc.addName(ObjC.Name,</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                          ObjC.Die-&gt;getOffset() + Unit.getStartOffset());</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0aa29bdd003ef6c0c34279807341f450f2">DwarfLinkerAccelTableKind::Pub</a>: {</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;      TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a157d879e437656fdac9801ff4c11d7f4">emitPubNamesForUnit</a>(Unit);</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;      TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a64c94d817ebf67e4b89bc5d7c0635ec4">emitPubTypesForUnit</a>(Unit);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a20f18d4a28570b83b8f5bd6c9d26d7b8">DwarfLinkerAccelTableKind::DebugNames</a>: {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Namespace : Unit.getNamespaces())</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        DebugNames.addName(Namespace.Name, Namespace.Die-&gt;getOffset(),</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;                           Namespace.Die-&gt;getTag(), Unit.getUniqueID());</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pubname : Unit.getPubnames())</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;        DebugNames.addName(Pubname.Name, Pubname.Die-&gt;getOffset(),</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                           Pubname.Die-&gt;getTag(), Unit.getUniqueID());</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Pubtype : Unit.getPubtypes())</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        DebugNames.addName(Pubtype.Name, Pubtype.Die-&gt;getOffset(),</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                           Pubtype.Die-&gt;getTag(), Unit.getUniqueID());</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    } <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;  }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;}</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">/// Read the frame info stored in the object, and emit the</span></div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">/// patched frame descriptions for the resulting file.</span></div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">/// This is actually pretty easy as the data of the CIEs and FDEs can</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">/// be considered as black boxes and moved as is. The only thing to do</span></div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">/// is to patch the addresses in the headers.</span></div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> DWARFLinker::patchFrameInfoForObject(<span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                                          <a class="code" href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">RangesTy</a> &amp;Ranges,</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                                          DWARFContext &amp;OrigDwarf,</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                                          <span class="keywordtype">unsigned</span> AddrSize) {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  StringRef <a class="code" href="namespacellvm_1_1codeview.html#a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4">FrameData</a> = OrigDwarf.getDWARFObj().getFrameSection().Data;</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1codeview.html#a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4">FrameData</a>.empty())</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160; </div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  DataExtractor <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>(FrameData, OrigDwarf.isLittleEndian(), 0);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InputOffset = 0;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160; </div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  <span class="comment">// Store the data of the CIEs defined in this object, keyed by their</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">// offsets.</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  DenseMap&lt;uint64_t, StringRef&gt; LocalCIES;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160; </div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.isValidOffset(InputOffset)) {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> EntryOffset = InputOffset;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> InitialLength = <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getU32(&amp;InputOffset);</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">if</span> (InitialLength == 0xFFFFFFFF)</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;      <span class="keywordflow">return</span> reportWarning(<span class="stringliteral">&quot;Dwarf64 bits no supported&quot;</span>, File);</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160; </div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> CIEId = <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getU32(&amp;InputOffset);</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (CIEId == 0xFFFFFFFF) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="comment">// This is a CIE, store it.</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      StringRef CIEData = <a class="code" href="namespacellvm_1_1codeview.html#a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4">FrameData</a>.substr(EntryOffset, InitialLength + 4);</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      LocalCIES[EntryOffset] = CIEData;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="comment">// The -4 is to account for the CIEId we just read.</span></div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;      InputOffset += InitialLength - 4;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    }</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160; </div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Loc = <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>.getUnsigned(&amp;InputOffset, AddrSize);</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160; </div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="comment">// Some compilers seem to emit frame info that doesn&#39;t start at</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    <span class="comment">// the function entry point, thus we can&#39;t just lookup the address</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;    <span class="comment">// in the debug map. Use the AddressInfo&#39;s range map to see if the FDE</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    <span class="comment">// describes something that we can relocate.</span></div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    std::optional&lt;AddressRangeValuePair&gt; <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a> =</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <a class="code" href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">Ranges</a>.getRangeThatContains(Loc);</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">if</span> (!Range) {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;      <span class="comment">// The +4 is to account for the size of the InitialLength field itself.</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      InputOffset = EntryOffset + InitialLength + 4;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160; </div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="comment">// This is an FDE, and we have a mapping.</span></div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    <span class="comment">// Have we already emitted a corresponding CIE?</span></div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    StringRef CIEData = LocalCIES[CIEId];</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;    <span class="keywordflow">if</span> (CIEData.empty())</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      <span class="keywordflow">return</span> reportWarning(<span class="stringliteral">&quot;Inconsistent debug_frame content. Dropping.&quot;</span>, File);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160; </div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="comment">// Look if we already emitted a CIE that corresponds to the</span></div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">// referenced one (the CIE data is the key of that lookup).</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keyword">auto</span> IteratorInserted = EmittedCIEs.<a class="code" href="classllvm_1_1StringMap.html#afea367cbdd62e85c20d3ebe044253ce7">insert</a>(</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        std::make_pair(CIEData, TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#afd87851170be53e96a85ea87f44d5fef">getFrameSectionSize</a>()));</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="comment">// If there is no CIE yet for this ID, emit it.</span></div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> (IteratorInserted.second) {</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      LastCIEOffset = TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#afd87851170be53e96a85ea87f44d5fef">getFrameSectionSize</a>();</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;      IteratorInserted.first-&gt;getValue() = LastCIEOffset;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;      TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a0ac988cf2e3facee3508094765dad7d4">emitCIE</a>(CIEData);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    }</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160; </div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;    <span class="comment">// Emit the FDE with updated address and CIE pointer.</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">// (4 + AddrSize) is the size of the CIEId + initial_location</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="comment">// fields that will get reconstructed by emitFDE().</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="keywordtype">unsigned</span> FDERemainingBytes = InitialLength - (4 + AddrSize);</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a9038f082d0cee814c962ee66b2cebb5e">emitFDE</a>(IteratorInserted.first-&gt;getValue(), AddrSize,</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                             Loc + <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">Range</a>-&gt;Value,</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                             <a class="code" href="namespacellvm_1_1codeview.html#a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4">FrameData</a>.substr(InputOffset, FDERemainingBytes));</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    InputOffset += FDERemainingBytes;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;  }</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;}</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160; </div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> DWARFLinker::DIECloner::hashFullyQualifiedName(DWARFDie DIE,</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                                                        CompileUnit &amp;U,</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                                                        <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                                                        <span class="keywordtype">int</span> ChildRecurseDepth) {</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;  DWARFUnit *OrigUnit = &amp;U.getOrigUnit();</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  CompileUnit *<a class="code" href="namespaceCU.html">CU</a> = &amp;U;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;  std::optional&lt;DWARFFormValue&gt; <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>;</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160; </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *CurrentName = DIE.getName(<a class="code" href="namespacellvm.html#aad87d874f7944b5838f7881938d18870ad26b007baa81cc3cd38d8d6c93e6df42">DINameKind::ShortName</a>))</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = CurrentName;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160; </div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">if</span> (!(Ref = DIE.find(dwarf::DW_AT_specification)) &amp;&amp;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;        !(Ref = DIE.find(dwarf::DW_AT_abstract_origin)))</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160; </div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">Ref</a>-&gt;isFormClass(<a class="code" href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228aecc352ab32050f10e6c1d07d39eca711">DWARFFormValue::FC_Reference</a>))</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160; </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;    CompileUnit *RefCU;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> RefDIE =</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            Linker.resolveDIEReference(File, CompileUnits, *Ref, DIE, RefCU)) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;      <a class="code" href="namespaceCU.html">CU</a> = RefCU;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      OrigUnit = &amp;RefCU-&gt;getOrigUnit();</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      DIE = RefDIE;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;  }</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160; </div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  <span class="keywordtype">unsigned</span> Idx = OrigUnit-&gt;getDIEIndex(DIE);</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordflow">if</span> (!Name &amp;&amp; DIE.getTag() == dwarf::DW_TAG_namespace)</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    <a class="code" href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">Name</a> = <span class="stringliteral">&quot;(anonymous namespace)&quot;</span>;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160; </div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespaceCU.html">CU</a>-&gt;getInfo(Idx).ParentIdx == 0 ||</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="comment">// FIXME: dsymutil-classic compatibility. Ignore modules.</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <a class="code" href="namespaceCU.html">CU</a>-&gt;getOrigUnit().getDIEAtIndex(<a class="code" href="namespaceCU.html">CU</a>-&gt;getInfo(Idx).ParentIdx).getTag() ==</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;          dwarf::DW_TAG_module)</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aba816fb56fad484d9cd712825dcacaa6">djbHash</a>(Name ? Name : <span class="stringliteral">&quot;&quot;</span>, <a class="code" href="namespacellvm.html#aba816fb56fad484d9cd712825dcacaa6">djbHash</a>(ChildRecurseDepth ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;::&quot;</span>));</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160; </div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  DWARFDie Die = OrigUnit-&gt;getDIEAtIndex(<a class="code" href="namespaceCU.html">CU</a>-&gt;getInfo(Idx).ParentIdx);</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aba816fb56fad484d9cd712825dcacaa6">djbHash</a>(</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      (Name ? Name : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      <a class="code" href="namespacellvm.html#aba816fb56fad484d9cd712825dcacaa6">djbHash</a>((Name ? <span class="stringliteral">&quot;::&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;              hashFullyQualifiedName(Die, *<a class="code" href="namespaceCU.html">CU</a>, File, ++ChildRecurseDepth)));</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;}</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160; </div>
<div class="line"><a name="l02052"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8aeafac87842fc748625b83753887067"> 2052</a></span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm.html#a8aeafac87842fc748625b83753887067">getDwoId</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;CUDie) {</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <span class="keyword">auto</span> DwoId = <a class="code" href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">dwarf::toUnsigned</a>(</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      CUDie.<a class="code" href="classllvm_1_1DWARFDie.html#a315f90678bfa85d85d71a9dd12d5457a">find</a>({dwarf::DW_AT_dwo_id, dwarf::DW_AT_GNU_dwo_id}));</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;  <span class="keywordflow">if</span> (DwoId)</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    <span class="keywordflow">return</span> *DwoId;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;}</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160; </div>
<div class="line"><a name="l02060"></a><span class="lineno"><a class="line" href="namespacellvm.html#a9b945b5a6ebd26eb6fa4b80fd53cbb9c"> 2060</a></span>&#160;<span class="keyword">static</span> std::string <a class="code" href="namespacellvm.html#a9b945b5a6ebd26eb6fa4b80fd53cbb9c">remapPath</a>(<a class="code" href="classllvm_1_1StringRef.html">StringRef</a> Path,</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;                             <span class="keyword">const</span> <a class="code" href="namespacellvm.html#ab5f3fa0d81caa90b51d7c5ce8e6863fc">objectPrefixMap</a> &amp;ObjectPrefixMap) {</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  <span class="keywordflow">if</span> (ObjectPrefixMap.empty())</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    <span class="keywordflow">return</span> Path.str();</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160; </div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a> = Path;</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Entry : ObjectPrefixMap)</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sys_1_1path.html#acb31f2db6f0fe5eaa5b28464141223aa">llvm::sys::path::replace_path_prefix</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>, Entry.first, Entry.second))</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a>.str().str();</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;}</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160; </div>
<div class="line"><a name="l02072"></a><span class="lineno"><a class="line" href="namespacellvm.html#a06406e542c2dd932a8ddf0390fbfcb49"> 2072</a></span>&#160;<span class="keyword">static</span> std::string <a class="code" href="namespacellvm.html#a06406e542c2dd932a8ddf0390fbfcb49">getPCMFile</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;CUDie,</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;                              <a class="code" href="namespacellvm.html#ab5f3fa0d81caa90b51d7c5ce8e6863fc">objectPrefixMap</a> *ObjectPrefixMap) {</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  std::string PCMFile = <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;      CUDie.<a class="code" href="classllvm_1_1DWARFDie.html#a315f90678bfa85d85d71a9dd12d5457a">find</a>({dwarf::DW_AT_dwo_name, dwarf::DW_AT_GNU_dwo_name}), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160; </div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  <span class="keywordflow">if</span> (PCMFile.empty())</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;    <span class="keywordflow">return</span> PCMFile;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160; </div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordflow">if</span> (ObjectPrefixMap)</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;    PCMFile = <a class="code" href="namespacellvm.html#a9b945b5a6ebd26eb6fa4b80fd53cbb9c">remapPath</a>(PCMFile, *ObjectPrefixMap);</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160; </div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <span class="keywordflow">return</span> PCMFile;</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;}</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160; </div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;std::pair&lt;bool, bool&gt; DWARFLinker::isClangModuleRef(<span class="keyword">const</span> DWARFDie &amp;CUDie,</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                                                    std::string &amp;PCMFile,</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                                                    LinkContext &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                                                    <span class="keywordtype">unsigned</span> Indent,</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                                                    <span class="keywordtype">bool</span> Quiet) {</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">if</span> (PCMFile.empty())</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160; </div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;  <span class="comment">// Clang module DWARF skeleton CUs abuse this for the path to the module.</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DwoId = <a class="code" href="namespacellvm.html#a8aeafac87842fc748625b83753887067">getDwoId</a>(CUDie);</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160; </div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;  std::string Name = <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(CUDie.find(dwarf::DW_AT_name), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  <span class="keywordflow">if</span> (Name.empty()) {</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;    <span class="keywordflow">if</span> (!Quiet)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;      reportWarning(<span class="stringliteral">&quot;Anonymous module skeleton CU for &quot;</span> + PCMFile,</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File);</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;  }</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160; </div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;  <span class="keywordflow">if</span> (!Quiet &amp;&amp; Options.Verbose) {</div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>().<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(Indent);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;Found clang module reference &quot;</span> &lt;&lt; PCMFile;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;  }</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160; </div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  <span class="keyword">auto</span> Cached = ClangModules.<a class="code" href="classllvm_1_1StringMap.html#a49e68e4c86fe0b96c633adea0c366d74">find</a>(PCMFile);</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  <span class="keywordflow">if</span> (Cached != ClangModules.<a class="code" href="classllvm_1_1StringMap.html#a16e5eaf2df56249e87019be23ee07695">end</a>()) {</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;    <span class="comment">// FIXME: Until PR27449 (https://llvm.org/bugs/show_bug.cgi?id=27449) is</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;    <span class="comment">// fixed in clang, only warn about DWO_id mismatches in verbose mode.</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;    <span class="comment">// ASTFileSignatures will change randomly when a module is rebuilt.</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;    <span class="keywordflow">if</span> (!Quiet &amp;&amp; Options.Verbose &amp;&amp; (Cached-&gt;second != DwoId))</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;      reportWarning(Twine(<span class="stringliteral">&quot;hash mismatch: this object file was built against a &quot;</span></div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                          <span class="stringliteral">&quot;different version of the module &quot;</span>) +</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                        PCMFile,</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;                    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File);</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">if</span> (!Quiet &amp;&amp; Options.Verbose)</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot; [cached].\n&quot;</span>;</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;    <span class="keywordflow">return</span> std::make_pair(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160; </div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;  <span class="keywordflow">return</span> std::make_pair(<span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;}</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160; </div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;<span class="keywordtype">bool</span> DWARFLinker::registerModuleReference(<span class="keyword">const</span> DWARFDie &amp;CUDie,</div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                                          LinkContext &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                                          <a class="code" href="namespacellvm.html#a2c3c895efbf609583a8e09f87b18d949">objFileLoader</a> Loader,</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                                          <a class="code" href="namespacellvm.html#a3b44ec82eb1d979633b4c864f704c5a3">CompileUnitHandler</a> OnCUDieLoaded,</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                                          <span class="keywordtype">unsigned</span> Indent) {</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;  std::string PCMFile = <a class="code" href="namespacellvm.html#a06406e542c2dd932a8ddf0390fbfcb49">getPCMFile</a>(CUDie, Options.ObjectPrefixMap);</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;  std::pair&lt;bool, bool&gt; IsClangModuleRef =</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;      isClangModuleRef(CUDie, PCMFile, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Indent, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160; </div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;  <span class="keywordflow">if</span> (!IsClangModuleRef.first)</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160; </div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;  <span class="keywordflow">if</span> (IsClangModuleRef.second)</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160; </div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">if</span> (Options.Verbose)</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot; ...\n&quot;</span>;</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160; </div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="comment">// Cyclic dependencies are disallowed by Clang, but we still</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="comment">// shouldn&#39;t run into an infinite loop, so mark it as processed now.</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;  ClangModules.<a class="code" href="classllvm_1_1StringMap.html#afea367cbdd62e85c20d3ebe044253ce7">insert</a>({PCMFile, <a class="code" href="namespacellvm.html#a8aeafac87842fc748625b83753887067">getDwoId</a>(CUDie)});</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160; </div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">if</span> (Error <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = loadClangModule(Loader, CUDie, PCMFile, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, OnCUDieLoaded,</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;                                Indent + 2)) {</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">consumeError</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>));</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  }</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;}</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160; </div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;<a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">Error</a> DWARFLinker::loadClangModule(<a class="code" href="namespacellvm.html#a2c3c895efbf609583a8e09f87b18d949">objFileLoader</a> Loader, <span class="keyword">const</span> DWARFDie &amp;CUDie,</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;                                   <span class="keyword">const</span> std::string &amp;PCMFile,</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;                                   LinkContext &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>,</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;                                   <a class="code" href="namespacellvm.html#a3b44ec82eb1d979633b4c864f704c5a3">CompileUnitHandler</a> OnCUDieLoaded,</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;                                   <span class="keywordtype">unsigned</span> Indent) {</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160; </div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DwoId = <a class="code" href="namespacellvm.html#a8aeafac87842fc748625b83753887067">getDwoId</a>(CUDie);</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;  std::string <a class="code" href="structModuleName.html">ModuleName</a> = <a class="code" href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">dwarf::toString</a>(CUDie.find(dwarf::DW_AT_name), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;<span class="comment">  /// Using a SmallString&lt;0&gt; because loadClangModule() is recursive.</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="comment"></span>  SmallString&lt;0&gt; <a class="code" href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">Path</a>(Options.PrependPath);</div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1sys_1_1path.html#a59d172f36ecf079548e9c539ae54e5a4">sys::path::is_relative</a>(PCMFile))</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <a class="code" href="namespacellvm.html#a562e5e47a3837612432809e480b901e3">resolveRelativeObjectPath</a>(Path, CUDie);</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;  <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">sys::path::append</a>(Path, PCMFile);</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  <span class="comment">// Don&#39;t use the cached binary holder because we have no thread-safety</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="comment">// guarantee and the lifetime is limited.</span></div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160; </div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  <span class="keywordflow">if</span> (Loader == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;    reportError(<span class="stringliteral">&quot;Could not load clang module: loader is not specified.\n&quot;</span>,</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;                <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File);</div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  }</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160; </div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;  <span class="keyword">auto</span> ErrOrObj = Loader(<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File.FileName, Path);</div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">if</span> (!ErrOrObj)</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160; </div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;  std::unique_ptr&lt;CompileUnit&gt; Unit;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespaceCU.html">CU</a> : ErrOrObj-&gt;Dwarf-&gt;compile_units()) {</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;    OnCUDieLoaded(*<a class="code" href="namespaceCU.html">CU</a>);</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    <span class="comment">// Recursively get all modules imported by this one.</span></div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    <span class="keyword">auto</span> ChildCUDie = <a class="code" href="namespaceCU.html">CU</a>-&gt;getUnitDIE();</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    <span class="keywordflow">if</span> (!ChildCUDie)</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">if</span> (!registerModuleReference(ChildCUDie, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, Loader, OnCUDieLoaded,</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;                                 Indent)) {</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;      <span class="keywordflow">if</span> (Unit) {</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        std::string Err =</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;            (PCMFile +</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;             <span class="stringliteral">&quot;: Clang modules are expected to have exactly 1 compile unit.\n&quot;</span>);</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;        reportError(Err, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File);</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <span class="keywordflow">return</span> make_error&lt;StringError&gt;(Err, <a class="code" href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">inconvertibleErrorCode</a>());</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;      }</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;      <span class="comment">// FIXME: Until PR27449 (https://llvm.org/bugs/show_bug.cgi?id=27449) is</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;      <span class="comment">// fixed in clang, only warn about DWO_id mismatches in verbose mode.</span></div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;      <span class="comment">// ASTFileSignatures will change randomly when a module is rebuilt.</span></div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;      <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> PCMDwoId = <a class="code" href="namespacellvm.html#a8aeafac87842fc748625b83753887067">getDwoId</a>(ChildCUDie);</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;      <span class="keywordflow">if</span> (PCMDwoId != DwoId) {</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;        <span class="keywordflow">if</span> (Options.Verbose)</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;          reportWarning(</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;              Twine(<span class="stringliteral">&quot;hash mismatch: this object file was built against a &quot;</span></div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;                    <span class="stringliteral">&quot;different version of the module &quot;</span>) +</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;                  PCMFile,</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;              <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File);</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <span class="comment">// Update the cache entry with the DwoId of the module loaded from disk.</span></div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;        ClangModules[PCMFile] = PCMDwoId;</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;      }</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160; </div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;      <span class="comment">// Add this module.</span></div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;      Unit = std::make_unique&lt;CompileUnit&gt;(*<a class="code" href="namespaceCU.html">CU</a>, UniqueUnitID++, !Options.NoODR,</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;                                           <a class="code" href="structModuleName.html">ModuleName</a>);</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    }</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  }</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160; </div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">if</span> (Unit)</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.ModuleUnits.emplace_back(RefModuleUnit{*ErrOrObj, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Unit)});</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160; </div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;}</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160; </div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> DWARFLinker::DIECloner::cloneAllCompileUnits(</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    DWARFContext &amp;DwarfContext, <span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool, <span class="keywordtype">bool</span> IsLittleEndian) {</div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> OutputDebugInfoSize =</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;      Linker.Options.NoOutput ? 0 : <a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;getDebugInfoSectionSize();</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> StartOutputDebugInfoSize = OutputDebugInfoSize;</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160; </div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CurrentUnit : CompileUnits) {</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuint16__t.html">uint16_t</a> DwarfVersion = CurrentUnit-&gt;getOrigUnit().getVersion();</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    <span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> UnitHeaderSize = DwarfVersion &gt;= 5 ? 12 : 11;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keyword">auto</span> InputDIE = CurrentUnit-&gt;getOrigUnit().getUnitDIE();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    CurrentUnit-&gt;setStartOffset(OutputDebugInfoSize);</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">if</span> (!InputDIE) {</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;      OutputDebugInfoSize = CurrentUnit-&gt;computeNextUnitOffset(DwarfVersion);</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;    }</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;    <span class="keywordflow">if</span> (CurrentUnit-&gt;getInfo(0).Keep) {</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      <span class="comment">// Clone the InputDIE into your Unit DIE in our compile unit since it</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;      <span class="comment">// already has a DIE inside of it.</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;      CurrentUnit-&gt;createOutputDIE();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      rememberUnitForMacroOffset(*CurrentUnit);</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;      cloneDIE(InputDIE, File, *CurrentUnit, StringPool, 0 <span class="comment">/* PC offset */</span>,</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;               UnitHeaderSize, 0, IsLittleEndian,</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;               CurrentUnit-&gt;getOutputUnitDIE());</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;    }</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160; </div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;    OutputDebugInfoSize = CurrentUnit-&gt;computeNextUnitOffset(DwarfVersion);</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160; </div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;    <span class="keywordflow">if</span> (!Linker.Options.NoOutput) {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>);</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160; </div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a>(!Linker.Options.Update) ||</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;          Linker.needToTranslateStrings())</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        Linker.patchLineTableForUnit(*CurrentUnit, DwarfContext, File);</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160; </div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;      Linker.emitAcceleratorEntriesForUnit(*CurrentUnit);</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160; </div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Linker.Options.Update))</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160; </div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;      Linker.patchRangesForUnit(*CurrentUnit, DwarfContext, File);</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;      <span class="keyword">auto</span> ProcessExpr = [&amp;](StringRef Bytes,</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;                             SmallVectorImpl&lt;uint8_t&gt; &amp;Buffer) {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;        DWARFUnit &amp;OrigUnit = CurrentUnit-&gt;getOrigUnit();</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        DataExtractor <a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>(Bytes, IsLittleEndian,</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;                           OrigUnit.getAddressByteSize());</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        cloneExpression(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>,</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;                        DWARFExpression(<a class="code" href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">Data</a>, OrigUnit.getAddressByteSize(),</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;                                        OrigUnit.getFormParams().Format),</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;                        File, *CurrentUnit, Buffer);</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;      };</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;      <a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;emitLocationsForUnit(*CurrentUnit, DwarfContext, ProcessExpr);</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;    }</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;  }</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160; </div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <span class="keywordflow">if</span> (!Linker.Options.NoOutput) {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>);</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="comment">// Emit macro tables.</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;    <a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;emitMacroTables(<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Dwarf, UnitMacroMap, StringPool);</div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160; </div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;    <span class="comment">// Emit all the compile unit&#39;s debug information.</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CurrentUnit : CompileUnits) {</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a>(!Linker.Options.Update))</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;        Linker.generateUnitRanges(*CurrentUnit);</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160; </div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;      CurrentUnit-&gt;fixupForwardReferences();</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160; </div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;      <span class="keywordflow">if</span> (!CurrentUnit-&gt;getOutputUnitDIE())</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160; </div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;      <span class="keywordtype">unsigned</span> DwarfVersion = CurrentUnit-&gt;getOrigUnit().getVersion();</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160; </div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;getDebugInfoSectionSize() ==</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;             CurrentUnit-&gt;getStartOffset());</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;      <a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;emitCompileUnitHeader(*CurrentUnit, DwarfVersion);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;      <a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;emitDIE(*CurrentUnit-&gt;getOutputUnitDIE());</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a>-&gt;getDebugInfoSectionSize() ==</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;             CurrentUnit-&gt;computeNextUnitOffset(DwarfVersion));</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    }</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;  }</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160; </div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">return</span> OutputDebugInfoSize - StartOutputDebugInfoSize;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;}</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160; </div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;<span class="keywordtype">bool</span> DWARFLinker::emitPaperTrailWarnings(<span class="keyword">const</span> DWARFFile &amp;File,</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;                                         <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a> &amp;StringPool) {</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160; </div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Warnings.empty())</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160; </div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;  DIE *CUDie = <a class="code" href="classllvm_1_1DIE.html#aab8f847f2e32af5c966d00966adfe996">DIE::get</a>(DIEAlloc, dwarf::DW_TAG_compile_unit);</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  CUDie-&gt;setOffset(11);</div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  StringRef <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefaa6ad87aadc206f6491720e309821904a">Producer</a>;</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;  StringRef WarningHeader;</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160; </div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;  <span class="keywordflow">switch</span> (DwarfLinkerClientID) {</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#a61afa8f3b6e8559d9f960165fbfaa9efa8f3c12e4235cf90bc1eddf49d9e087b0">DwarfLinkerClient::Dsymutil</a>:</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefaa6ad87aadc206f6491720e309821904a">Producer</a> = StringPool.internString(<span class="stringliteral">&quot;dsymutil&quot;</span>);</div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    WarningHeader = <span class="stringliteral">&quot;dsymutil_warning&quot;</span>;</div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160; </div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    <a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefaa6ad87aadc206f6491720e309821904a">Producer</a> = StringPool.internString(<span class="stringliteral">&quot;dwarfopt&quot;</span>);</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;    WarningHeader = <span class="stringliteral">&quot;dwarfopt_warning&quot;</span>;</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160; </div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  StringRef FileName = StringPool.internString(<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.FileName);</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  CUDie-&gt;addValue(DIEAlloc, dwarf::DW_AT_producer, dwarf::DW_FORM_strp,</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;                  DIEInteger(StringPool.getStringOffset(Producer)));</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  DIEBlock *<a class="code" href="namespacellvm_1_1pdb.html#a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e">String</a> = <span class="keyword">new</span> (DIEAlloc) DIEBlock();</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;  DIEBlocks.push_back(String);</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : FileName)</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    <a class="code" href="namespacellvm_1_1pdb.html#a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e">String</a>-&gt;addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(0), dwarf::DW_FORM_data1,</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;                     DIEInteger(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>));</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;  <a class="code" href="namespacellvm_1_1pdb.html#a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e">String</a>-&gt;addValue(DIEAlloc, <a class="code" href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">dwarf::Attribute</a>(0), dwarf::DW_FORM_data1,</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;                   DIEInteger(0));</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160; </div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;  CUDie-&gt;addValue(DIEAlloc, dwarf::DW_AT_name, dwarf::DW_FORM_string, String);</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Warning : <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Warnings) {</div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    DIE &amp;ConstDie = CUDie-&gt;addChild(<a class="code" href="classllvm_1_1DIE.html#aab8f847f2e32af5c966d00966adfe996">DIE::get</a>(DIEAlloc, dwarf::DW_TAG_constant));</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;    ConstDie.addValue(DIEAlloc, dwarf::DW_AT_name, dwarf::DW_FORM_strp,</div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;                      DIEInteger(StringPool.getStringOffset(WarningHeader)));</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    ConstDie.addValue(DIEAlloc, dwarf::DW_AT_artificial, dwarf::DW_FORM_flag,</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;                      DIEInteger(1));</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    ConstDie.addValue(DIEAlloc, dwarf::DW_AT_const_value, dwarf::DW_FORM_strp,</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;                      DIEInteger(StringPool.getStringOffset(Warning)));</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  }</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> = 4 <span class="comment">/* FORM_strp */</span> + FileName.size() + 1 +</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;                  <a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Warnings.size() * (4 + 1 + 4) + 1 <span class="comment">/* End of children */</span>;</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  DIEAbbrev Abbrev = CUDie-&gt;generateAbbrev();</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  assignAbbrev(Abbrev);</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  CUDie-&gt;setAbbrevNumber(Abbrev.getNumber());</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> += <a class="code" href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">getULEB128Size</a>(Abbrev.getNumber());</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;  <span class="comment">// Abbreviation ordering needed for classic compatibility.</span></div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Child : CUDie-&gt;children()) {</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    Abbrev = Child.generateAbbrev();</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    assignAbbrev(Abbrev);</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    Child.setAbbrevNumber(Abbrev.getNumber());</div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    <a class="code" href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">Size</a> += <a class="code" href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">getULEB128Size</a>(Abbrev.getNumber());</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  }</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  CUDie-&gt;setSize(Size);</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a00df2d1a53c88895982c6d689c2bba77">emitPaperTrailWarningsDie</a>(*CUDie);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160; </div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
<div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160; </div>
<div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;<span class="keywordtype">void</span> DWARFLinker::copyInvariantDebugSection(DWARFContext &amp;Dwarf) {</div>
<div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <span class="keywordflow">if</span> (!needToTranslateStrings())</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">emitSectionContents</a>(</div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;        <a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.getDWARFObj().getLineSection().Data, <span class="stringliteral">&quot;debug_line&quot;</span>);</div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">emitSectionContents</a>(<a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.getDWARFObj().getLocSection().Data,</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;                                       <span class="stringliteral">&quot;debug_loc&quot;</span>);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">emitSectionContents</a>(</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;      <a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.getDWARFObj().getRangesSection().Data, <span class="stringliteral">&quot;debug_ranges&quot;</span>);</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">emitSectionContents</a>(</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;      <a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.getDWARFObj().getFrameSection().Data, <span class="stringliteral">&quot;debug_frame&quot;</span>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">emitSectionContents</a>(<a class="code" href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">Dwarf</a>.getDWARFObj().getArangesSection(),</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;                                       <span class="stringliteral">&quot;debug_aranges&quot;</span>);</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;}</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160; </div>
<div class="line"><a name="l02389"></a><span class="lineno"><a class="line" href="classllvm_1_1DWARFLinker.html#ad1bf4d4b6afceb8ca5643f08aa2975e8"> 2389</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1DWARFLinker.html#ad1bf4d4b6afceb8ca5643f08aa2975e8">DWARFLinker::addObjectFile</a>(<a class="code" href="classllvm_1_1DWARFFile.html">DWARFFile</a> &amp;File, <a class="code" href="namespacellvm.html#a2c3c895efbf609583a8e09f87b18d949">objFileLoader</a> Loader,</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;                                <a class="code" href="classllvm_1_1function__ref.html">CompileUnitHandler</a> OnCUDieLoaded) {</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;  ObjectContexts.emplace_back(LinkContext(File));</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160; </div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;  <span class="keywordflow">if</span> (ObjectContexts.back().File.Dwarf) {</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> std::unique_ptr&lt;DWARFUnit&gt; &amp;<a class="code" href="namespaceCU.html">CU</a> :</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;         ObjectContexts.back().File.Dwarf-&gt;compile_units()) {</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> CUDie = <a class="code" href="namespaceCU.html">CU</a>-&gt;getUnitDIE();</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160; </div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      <span class="keywordflow">if</span> (!CUDie)</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160; </div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;      OnCUDieLoaded(*<a class="code" href="namespaceCU.html">CU</a>);</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160; </div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Options.Update))</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;        registerModuleReference(CUDie, ObjectContexts.back(), Loader,</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;                                OnCUDieLoaded);</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    }</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;  }</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;}</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160; </div>
<div class="line"><a name="l02410"></a><span class="lineno"><a class="line" href="classllvm_1_1DWARFLinker.html#a5d0195ef531cf321edf25d9f9b4f34cc"> 2410</a></span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> <a class="code" href="classllvm_1_1DWARFLinker.html#a5d0195ef531cf321edf25d9f9b4f34cc">DWARFLinker::link</a>() {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Options.NoOutput || TheDwarfEmitter);</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Options.TargetDWARFVersion != 0) &amp;&amp;</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;         <span class="stringliteral">&quot;TargetDWARFVersion should be set&quot;</span>);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160; </div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;  <span class="comment">// First populate the data structure we need for each iteration of the</span></div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;  <span class="comment">// parallel loop.</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;  <span class="keywordtype">unsigned</span> NumObjects = ObjectContexts.size();</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160; </div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;  <span class="comment">// This Dwarf string pool which is used for emission. It must be used</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;  <span class="comment">// serially as the order of calling getStringOffset matters for</span></div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;  <span class="comment">// reproducibility.</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;  <a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a> <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a>(StringsTranslator, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160; </div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;  <span class="comment">// ODR Contexts for the optimize.</span></div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;  <a class="code" href="classllvm_1_1DeclContextTree.html">DeclContextTree</a> ODRContexts;</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160; </div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;  <span class="keywordflow">for</span> (LinkContext &amp;OptContext : ObjectContexts) {</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    <span class="keywordflow">if</span> (Options.Verbose) {</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;      <span class="keywordflow">if</span> (DwarfLinkerClientID == <a class="code" href="namespacellvm.html#a61afa8f3b6e8559d9f960165fbfaa9efa8f3c12e4235cf90bc1eddf49d9e087b0">DwarfLinkerClient::Dsymutil</a>)</div>
<div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;        <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;DEBUG MAP OBJECT: &quot;</span> &lt;&lt; OptContext.File.FileName &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;        <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;OBJECT FILE: &quot;</span> &lt;&lt; OptContext.File.FileName &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;    }</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160; </div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;    <span class="keywordflow">if</span> (emitPaperTrailWarnings(OptContext.File, <a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a>))</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160; </div>
<div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;    <span class="keywordflow">if</span> (!OptContext.File.Dwarf)</div>
<div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160; </div>
<div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;    <span class="keywordflow">if</span> (Options.VerifyInputDWARF)</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;      verify(OptContext.File);</div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160; </div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    <span class="comment">// Look for relocations that correspond to address map entries.</span></div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160; </div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;    <span class="comment">// there was findvalidrelocations previously ... probably we need to gather</span></div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <span class="comment">// info here</span></div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a>(!Options.Update) &amp;&amp;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;        !OptContext.File.Addresses-&gt;hasValidRelocs()) {</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;      <span class="keywordflow">if</span> (Options.Verbose)</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;        <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;No valid relocations found. Skipping.\n&quot;</span>;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160; </div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;      <span class="comment">// Set &quot;Skip&quot; flag as a signal to other loops that we should not</span></div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;      <span class="comment">// process this iteration.</span></div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;      OptContext.Skip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;    }</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160; </div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    <span class="comment">// Setup access to the debug info.</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="keywordflow">if</span> (!OptContext.File.Dwarf)</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160; </div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <span class="comment">// Check whether type units are presented.</span></div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <span class="keywordflow">if</span> (!OptContext.File.Dwarf-&gt;types_section_units().empty()) {</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;      reportWarning(<span class="stringliteral">&quot;type units are not currently supported: file will &quot;</span></div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                    <span class="stringliteral">&quot;be skipped&quot;</span>,</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                    OptContext.File);</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;      OptContext.Skip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    }</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160; </div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="comment">// Check for unsupported sections. Following sections can be referenced</span></div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="comment">// from .debug_info section. Current DWARFLinker implementation does not</span></div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    <span class="comment">// support or update references to these tables. Thus we report warning</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;    <span class="comment">// and skip corresponding object file.</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;    <span class="keywordflow">if</span> (!OptContext.File.Dwarf-&gt;getDWARFObj()</div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;             .getRnglistsSection()</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;             .Data.empty()) {</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;      reportWarning(<span class="stringliteral">&quot;&#39;.debug_rnglists&#39; is not currently supported: file &quot;</span></div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;                    <span class="stringliteral">&quot;will be skipped&quot;</span>,</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                    OptContext.File);</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;      OptContext.Skip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    }</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160; </div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;    <span class="keywordflow">if</span> (!OptContext.File.Dwarf-&gt;getDWARFObj()</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;             .getLoclistsSection()</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;             .Data.empty()) {</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;      reportWarning(<span class="stringliteral">&quot;&#39;.debug_loclists&#39; is not currently supported: file &quot;</span></div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                    <span class="stringliteral">&quot;will be skipped&quot;</span>,</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;                    OptContext.File);</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;      OptContext.Skip = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    }</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160; </div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="comment">// In a first phase, just read in the debug info and load all clang modules.</span></div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;    OptContext.CompileUnits.reserve(</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;        OptContext.File.Dwarf-&gt;getNumCompileUnits());</div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160; </div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespaceCU.html">CU</a> : OptContext.File.Dwarf-&gt;compile_units()) {</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;      <span class="keyword">auto</span> CUDie = <a class="code" href="namespaceCU.html">CU</a>-&gt;getUnitDIE(<span class="keyword">false</span>);</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;      <span class="keywordflow">if</span> (Options.Verbose) {</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;        <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;Input compilation unit:&quot;</span>;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <a class="code" href="structllvm_1_1DIDumpOptions.html">DIDumpOptions</a> DumpOpts;</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        DumpOpts.<a class="code" href="structllvm_1_1DIDumpOptions.html#ae396b319b15cbecf51ec8dc4ee2719b0">ChildRecurseDepth</a> = 0;</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;        DumpOpts.<a class="code" href="structllvm_1_1DIDumpOptions.html#add6a33649e764a95f041d7b8358a019e">Verbose</a> = Options.Verbose;</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;        CUDie.dump(<a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>(), 0, DumpOpts);</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;      }</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    }</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160; </div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespaceCU.html">CU</a> : OptContext.ModuleUnits) {</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Error.html">Error</a> Err =</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;              cloneModuleUnit(OptContext, <a class="code" href="namespaceCU.html">CU</a>, ODRContexts, <a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a>))</div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        reportWarning(<a class="code" href="namespacellvm.html#a63540526d092e2f4bbc70590b6034f4e">toString</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Err)), <a class="code" href="namespaceCU.html">CU</a>.File);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;  }</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160; </div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;  <span class="comment">// At this point we know how much data we have emitted. We use this value to</span></div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;  <span class="comment">// compare canonical DIE offsets in analyzeContextInfo to see if a definition</span></div>
<div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;  <span class="comment">// is already emitted, without being affected by canonical die offsets set</span></div>
<div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;  <span class="comment">// later. This prevents undeterminism when analyze and clone execute</span></div>
<div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;  <span class="comment">// concurrently, as clone set the canonical DIE offset and analyze reads it.</span></div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ModulesEndOffset =</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;      Options.NoOutput ? 0 : TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a9df047cb80bd5170abbe1295a719d18f">getDebugInfoSectionSize</a>();</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160; </div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;  <span class="comment">// These variables manage the list of processed object files.</span></div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;  <span class="comment">// The mutex and condition variable are to ensure that this is thread safe.</span></div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;  std::mutex ProcessedFilesMutex;</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;  std::condition_variable ProcessedFilesConditionVariable;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;  <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> ProcessedFiles(NumObjects, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160; </div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;  <span class="comment">//  Analyzing the context info is particularly expensive so it is executed in</span></div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;  <span class="comment">//  parallel with emitting the previous compile unit.</span></div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;  <span class="keyword">auto</span> AnalyzeLambda = [&amp;](<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;    <span class="keyword">auto</span> &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a> = ObjectContexts[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160; </div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.Skip || !<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File.Dwarf)</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160; </div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="namespaceCU.html">CU</a> : <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.File.Dwarf-&gt;compile_units()) {</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;      <span class="comment">// The !isClangModuleRef condition effectively skips over fully resolved</span></div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;      <span class="comment">// skeleton units.</span></div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;      <span class="keyword">auto</span> CUDie = <a class="code" href="namespaceCU.html">CU</a>-&gt;getUnitDIE();</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;      std::string PCMFile = <a class="code" href="namespacellvm.html#a06406e542c2dd932a8ddf0390fbfcb49">getPCMFile</a>(CUDie, Options.ObjectPrefixMap);</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160; </div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;      <span class="keywordflow">if</span> (!CUDie || <a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Options.Update) ||</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;          !isClangModuleRef(CUDie, PCMFile, <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, 0, <span class="keyword">true</span>).first) {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;        <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.CompileUnits.push_back(std::make_unique&lt;CompileUnit&gt;(</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;            *<a class="code" href="namespaceCU.html">CU</a>, UniqueUnitID++, !Options.NoODR &amp;&amp; !Options.Update, <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;      }</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;    }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160; </div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;    <span class="comment">// Now build the DIE parent links that we will use during the next phase.</span></div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CurrentUnit : <a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>.CompileUnits) {</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;      <span class="keyword">auto</span> CUDie = CurrentUnit-&gt;getOrigUnit().getUnitDIE();</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;      <span class="keywordflow">if</span> (!CUDie)</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;      <a class="code" href="namespacellvm.html#a5ed1af7cb2318866ee685b7de7bd4f9e">analyzeContextInfo</a>(CurrentUnit-&gt;getOrigUnit().getUnitDIE(), 0,</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                         *CurrentUnit, &amp;ODRContexts.<a class="code" href="classllvm_1_1DeclContextTree.html#a87e5a22eec313bd68abad58d556aae24">getRoot</a>(), ODRContexts,</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;                         ModulesEndOffset, Options.ParseableSwiftInterfaces,</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                         [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;Warning, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DWARFDie.html">DWARFDie</a> &amp;<a class="code" href="classllvm_1_1DIE.html">DIE</a>) {</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;                           reportWarning(Warning, Context.File, &amp;DIE);</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                         });</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;    }</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;  };</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160; </div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;  <span class="comment">// For each object file map how many bytes were emitted.</span></div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;  <a class="code" href="classllvm_1_1StringMap.html">StringMap&lt;DebugInfoSize&gt;</a> SizeByObject;</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160; </div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;  <span class="comment">// And then the remaining work in serial again.</span></div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;  <span class="comment">// Note, although this loop runs in serial, it can run in parallel with</span></div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;  <span class="comment">// the analyzeContextInfo loop so long as we process files with indices &gt;=</span></div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;  <span class="comment">// than those processed by analyzeContextInfo.</span></div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;  <span class="keyword">auto</span> CloneLambda = [&amp;](<span class="keywordtype">size_t</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;    <span class="keyword">auto</span> &amp;OptContext = ObjectContexts[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>];</div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    <span class="keywordflow">if</span> (OptContext.Skip || !OptContext.File.Dwarf)</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160; </div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="comment">// Then mark all the DIEs that need to be present in the generated output</span></div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    <span class="comment">// and collect some information about them.</span></div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;    <span class="comment">// Note that this loop can not be merged with the previous one because</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    <span class="comment">// cross-cu references require the ParentIdx to be setup for every CU in</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="comment">// the object file before calling this.</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Options.Update)) {</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CurrentUnit : OptContext.CompileUnits)</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        CurrentUnit-&gt;markEverythingAsKept();</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;      copyInvariantDebugSection(*OptContext.File.Dwarf);</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CurrentUnit : OptContext.CompileUnits) {</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;        lookForDIEsToKeep(*OptContext.File.Addresses,</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;                          OptContext.File.Addresses-&gt;getValidAddressRanges(),</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;                          OptContext.CompileUnits,</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;                          CurrentUnit-&gt;getOrigUnit().getUnitDIE(),</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;                          OptContext.File, *CurrentUnit, 0);</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        <a class="code" href="namespacellvm.html#a02b44f93159b4b08e7998a4fb4d7705f">verifyKeepChain</a>(*CurrentUnit);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;      }</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    }</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160; </div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="comment">// The calls to applyValidRelocs inside cloneDIE will walk the reloc</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    <span class="comment">// array again (in the same way findValidRelocsInDebugInfo() did). We</span></div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="comment">// need to reset the NextValidReloc index to the beginning.</span></div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;    <span class="keywordflow">if</span> (OptContext.File.Addresses-&gt;hasValidRelocs() ||</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;        <a class="code" href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a>(Options.Update)) {</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;      SizeByObject[OptContext.File.FileName].Input =</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;          <a class="code" href="namespacellvm.html#a78afeb48a64a0f1d800ab10827de4f8b">getDebugInfoSize</a>(*OptContext.File.Dwarf);</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;      SizeByObject[OptContext.File.FileName].Output =</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;          DIECloner(*<span class="keyword">this</span>, TheDwarfEmitter, OptContext.File, DIEAlloc,</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;                    OptContext.CompileUnits, Options.Update)</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;              .cloneAllCompileUnits(*OptContext.File.Dwarf, OptContext.File,</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;                                    <a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a>,</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;                                    OptContext.File.Dwarf-&gt;isLittleEndian());</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;    }</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="keywordflow">if</span> (!Options.NoOutput &amp;&amp; !OptContext.CompileUnits.empty() &amp;&amp;</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <a class="code" href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a>(!Options.Update))</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;      patchFrameInfoForObject(</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;          OptContext.File, OptContext.File.Addresses-&gt;getValidAddressRanges(),</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;          *OptContext.File.Dwarf,</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;          OptContext.CompileUnits[0]-&gt;getOrigUnit().getAddressByteSize());</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160; </div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    <span class="comment">// Clean-up before starting working on the next object.</span></div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;    cleanupAuxiliarryData(OptContext);</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;  };</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160; </div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;  <span class="keyword">auto</span> EmitLambda = [&amp;]() {</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    <span class="comment">// Emit everything that&#39;s global.</span></div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;    <span class="keywordflow">if</span> (!Options.NoOutput) {</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;      TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a9e433cbf5fc196b2a358ca8538dfa3dc">emitAbbrevs</a>(Abbreviations, Options.TargetDWARFVersion);</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;      TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a60085982643eb4b8ec9ed3f478904860">emitStrings</a>(<a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a>);</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0">DwarfLinkerAccelTableKind</a> TableKind : Options.AccelTables) {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <span class="keywordflow">switch</span> (TableKind) {</div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a9f6290f4436e5a2351f12e03b6433c3c">DwarfLinkerAccelTableKind::Apple</a>:</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;          TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a6e05c764df8acc1ac37b5133f7059842">emitAppleNamespaces</a>(AppleNamespaces);</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;          TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a266e231081824b362f79d5a1ce60cd45">emitAppleNames</a>(AppleNames);</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;          TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#ae1cc3bd169d4f05da1fdf331f52c26b9">emitAppleTypes</a>(AppleTypes);</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;          TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#afeb09684a37e9237c09a236c0af70cea">emitAppleObjc</a>(AppleObjc);</div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0aa29bdd003ef6c0c34279807341f450f2">DwarfLinkerAccelTableKind::Pub</a>:</div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;          <span class="comment">// Already emitted by emitAcceleratorEntriesForUnit.</span></div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;          <span class="comment">// Already emitted by emitAcceleratorEntriesForUnit.</span></div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a20f18d4a28570b83b8f5bd6c9d26d7b8">DwarfLinkerAccelTableKind::DebugNames</a>:</div>
<div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;          TheDwarfEmitter-&gt;<a class="code" href="classllvm_1_1DwarfEmitter.html#a48da052fd032fa60d4810127383fb7d1">emitDebugNames</a>(DebugNames);</div>
<div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;        }</div>
<div class="line"><a name="l02647"></a><span class="lineno"> 2647</span>&#160;      }</div>
<div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    }</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;  };</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160; </div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;  <span class="keyword">auto</span> AnalyzeAll = [&amp;]() {</div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NumObjects; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;      AnalyzeLambda(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160; </div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;      std::unique_lock&lt;std::mutex&gt; LockGuard(ProcessedFilesMutex);</div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;      ProcessedFiles.<a class="code" href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">set</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;      ProcessedFilesConditionVariable.notify_one();</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    }</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;  };</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160; </div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;  <span class="keyword">auto</span> CloneAll = [&amp;]() {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NumObjects; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;      {</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        std::unique_lock&lt;std::mutex&gt; LockGuard(ProcessedFilesMutex);</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">if</span> (!ProcessedFiles[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]) {</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;          ProcessedFilesConditionVariable.wait(</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;              LockGuard, [&amp;]() { <span class="keywordflow">return</span> ProcessedFiles[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]; });</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;      }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160; </div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;      CloneLambda(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;    }</div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    EmitLambda();</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;  };</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160; </div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;  <span class="comment">// To limit memory usage in the single threaded case, analyze and clone are</span></div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;  <span class="comment">// run sequentially so the OptContext is freed after processing each object</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;  <span class="comment">// in endDebugObject.</span></div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;  <span class="keywordflow">if</span> (Options.Threads == 1) {</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = NumObjects; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;      AnalyzeLambda(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;      CloneLambda(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;    }</div>
<div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    EmitLambda();</div>
<div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <a class="code" href="classllvm_1_1ThreadPool.html">ThreadPool</a> Pool(<a class="code" href="namespacellvm.html#a00440f10281348fd9f7be52e23c7c874">hardware_concurrency</a>(2));</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    Pool.<a class="code" href="classllvm_1_1ThreadPool.html#ac439316d32bbc9928047d569f07def4b">async</a>(AnalyzeAll);</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;    Pool.<a class="code" href="classllvm_1_1ThreadPool.html#ac439316d32bbc9928047d569f07def4b">async</a>(CloneAll);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;    Pool.<a class="code" href="classllvm_1_1ThreadPool.html#a41dde4c256785b525a0334c060932a64">wait</a>();</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;  }</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160; </div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;  <span class="keywordflow">if</span> (Options.Statistics) {</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="comment">// Create a vector sorted in descending order by output size.</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    std::vector&lt;std::pair&lt;StringRef, DebugInfoSize&gt;&gt; Sorted;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> : SizeByObject)</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;      Sorted.emplace_back(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.first(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second);</div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Sorted, [](<span class="keyword">auto</span> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>, <span class="keyword">auto</span> &amp;<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>) {</div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a>.second.Output &gt; <a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>.second.Output;</div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    });</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160; </div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keyword">auto</span> ComputePercentange = [](int64_t Input, int64_t Output) -&gt; <span class="keywordtype">float</span> {</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> Difference = Output - Input;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">float</span> Sum = Input + Output;</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;      <span class="keywordflow">if</span> (Sum == 0)</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;      <span class="keywordflow">return</span> (Difference / (Sum / 2));</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;    };</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160; </div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    int64_t InputTotal = 0;</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;    int64_t OutputTotal = 0;</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *FormatStr = <span class="stringliteral">&quot;{0,-45} {1,10}b  {2,10}b {3,8:P}\n&quot;</span>;</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160; </div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="comment">// Print header.</span></div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;.debug_info section size (in bytes)\n&quot;</span>;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------------------------------------------&quot;</span></div>
<div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;              <span class="stringliteral">&quot;---------------\n&quot;</span>;</div>
<div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;Filename                                           Object       &quot;</span></div>
<div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;              <span class="stringliteral">&quot;  dSYM   Change\n&quot;</span>;</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------------------------------------------&quot;</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;              <span class="stringliteral">&quot;---------------\n&quot;</span>;</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160; </div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="comment">// Print body.</span></div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> : Sorted) {</div>
<div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;      InputTotal += <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Input;</div>
<div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;      OutputTotal += <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Output;</div>
<div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;      <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">llvm::outs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;          FormatStr, <a class="code" href="namespacellvm_1_1sys_1_1path.html#a5ab6bf136f12ce0bfe2a9754cf1644c7">sys::path::filename</a>(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.first).<a class="code" href="classllvm_1_1StringRef.html#a9fe565cb0cc832480a9a9ed312dc2962">take_back</a>(45), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Input,</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;          <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Output, ComputePercentange(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Input, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>.second.Output));</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    }</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    <span class="comment">// Print total and footer.</span></div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------------------------------------------&quot;</span></div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;              <span class="stringliteral">&quot;---------------\n&quot;</span>;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">llvm::outs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">formatv</a>(FormatStr, <span class="stringliteral">&quot;Total&quot;</span>, InputTotal, OutputTotal,</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;                            ComputePercentange(InputTotal, OutputTotal));</div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;----------------------------------------------------------------&quot;</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;              <span class="stringliteral">&quot;---------------\n\n&quot;</span>;</div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;  }</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160; </div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;}</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160; </div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;<a class="code" href="classllvm_1_1Error.html">Error</a> DWARFLinker::cloneModuleUnit(LinkContext &amp;<a class="code" href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a>, RefModuleUnit &amp;Unit,</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;                                   <a class="code" href="classllvm_1_1DeclContextTree.html">DeclContextTree</a> &amp;ODRContexts,</div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;                                   <a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a> &amp;<a class="code" href="classllvm_1_1StrongType.html">OffsetsStringPool</a>,</div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;                                   <span class="keywordtype">unsigned</span> Indent) {</div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Unit.Unit.get() != <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160; </div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;  <span class="keywordflow">if</span> (!Unit.Unit-&gt;getOrigUnit().getUnitDIE().hasChildren())</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160; </div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;  <span class="keywordflow">if</span> (Options.Verbose) {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>().<a class="code" href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">indent</a>(Indent);</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    <a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">outs</a>() &lt;&lt; <span class="stringliteral">&quot;cloning .debug_info from &quot;</span> &lt;&lt; Unit.File.FileName &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;  }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160; </div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;  <span class="comment">// Analyze context for the module.</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;  <a class="code" href="namespacellvm.html#a5ed1af7cb2318866ee685b7de7bd4f9e">analyzeContextInfo</a>(Unit.Unit-&gt;getOrigUnit().getUnitDIE(), 0, *(Unit.Unit),</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;                     &amp;ODRContexts.<a class="code" href="classllvm_1_1DeclContextTree.html#a87e5a22eec313bd68abad58d556aae24">getRoot</a>(), ODRContexts, 0,</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;                     Options.ParseableSwiftInterfaces,</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;                     [&amp;](<span class="keyword">const</span> Twine &amp;Warning, <span class="keyword">const</span> DWARFDie &amp;DIE) {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;                       reportWarning(Warning, Context.File, &amp;DIE);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;                     });</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;  <span class="comment">// Keep everything.</span></div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;  Unit.Unit-&gt;markEverythingAsKept();</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160; </div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;  <span class="comment">// Clone unit.</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;  <a class="code" href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">UnitListTy</a> CompileUnits;</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;  CompileUnits.emplace_back(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(Unit.Unit));</div>
<div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(TheDwarfEmitter);</div>
<div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;  DIECloner(*<span class="keyword">this</span>, TheDwarfEmitter, Unit.File, DIEAlloc, CompileUnits,</div>
<div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;            Options.Update)</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;      .cloneAllCompileUnits(*Unit.File.Dwarf, Unit.File, <a class="code" href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">OffsetsStringPool</a>,</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;                            Unit.File.Dwarf-&gt;isLittleEndian());</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">Error::success</a>();</div>
<div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;}</div>
<div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160; </div>
<div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;<span class="keywordtype">bool</span> DWARFLinker::verify(<span class="keyword">const</span> DWARFFile &amp;File) {</div>
<div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Dwarf);</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160; </div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;  DIDumpOptions DumpOpts;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">File</a>.Dwarf-&gt;verify(<a class="code" href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">llvm::outs</a>(), DumpOpts.noImplicitRecursion())) {</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;    reportWarning(<span class="stringliteral">&quot;input verification failed&quot;</span>, File);</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;  }</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;}</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160; </div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;} <span class="comment">// namespace llvm</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1Check_html_a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396"><div class="ttname"><a href="namespacellvm_1_1Check.html#a067ee17412e800f03802fa9517685732a3450a9712780ac26b071f9da4288a396">llvm::Check::Size</a></div><div class="ttdeci">@ Size</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8h_source.html#l00077">FileCheck.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3ab0c4a842f0e5d114b2287b567b2924"><div class="ttname"><a href="namespacellvm.html#a3ab0c4a842f0e5d114b2287b567b2924">llvm::UnitListTy</a></div><div class="ttdeci">std::vector&lt; std::unique_ptr&lt; CompileUnit &gt; &gt; UnitListTy</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00202">DWARFLinker.h:202</a></div></div>
<div class="ttc" id="aDWARFFormValue_8h_html"><div class="ttname"><a href="DWARFFormValue_8h.html">DWARFFormValue.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BrokenLink_html_a4c9283f2eef5ac80854bc8b226694c6c"><div class="ttname"><a href="structllvm_1_1BrokenLink.html#a4c9283f2eef5ac80854bc8b226694c6c">llvm::BrokenLink::BrokenLink</a></div><div class="ttdeci">BrokenLink(DWARFDie Parent, DWARFDie Child)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00861">DWARFLinker.cpp:861</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a48da052fd032fa60d4810127383fb7d1"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a48da052fd032fa60d4810127383fb7d1">llvm::DwarfEmitter::emitDebugNames</a></div><div class="ttdeci">virtual void emitDebugNames(AccelTable&lt; DWARF5AccelTableStaticData &gt; &amp;Table)=0</div><div class="ttdoc">Emit DWARF debug names.</div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a60085982643eb4b8ec9ed3f478904860"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a60085982643eb4b8ec9ed3f478904860">llvm::DwarfEmitter::emitStrings</a></div><div class="ttdeci">virtual void emitStrings(const NonRelocatableStringpool &amp;Pool)=0</div><div class="ttdoc">Emit the string table described by Pool.</div></div>
<div class="ttc" id="anamespacellvm_html_a8ef90d9b5feaa6db6c9ffe84be328fc2"><div class="ttname"><a href="namespacellvm.html#a8ef90d9b5feaa6db6c9ffe84be328fc2">llvm::swiftInterfacesMap</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; swiftInterfacesMap</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00232">DWARFLinker.h:232</a></div></div>
<div class="ttc" id="aMCDwarf_8h_html"><div class="ttname"><a href="MCDwarf_8h.html">MCDwarf.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a00440f10281348fd9f7be52e23c7c874"><div class="ttname"><a href="namespacellvm.html#a00440f10281348fd9f7be52e23c7c874">llvm::hardware_concurrency</a></div><div class="ttdeci">ThreadPoolStrategy hardware_concurrency(unsigned ThreadCount=0)</div><div class="ttdoc">Returns a default thread strategy where all available hardware resources are to be used,...</div><div class="ttdef"><b>Definition:</b> <a href="Threading_8h_source.html#l00185">Threading.h:185</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a4a8673fef8926d6dc26b49ed727fd600"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a4a8673fef8926d6dc26b49ed727fd600">llvm::ContextWorklistItem::ParentIdx</a></div><div class="ttdeci">unsigned ParentIdx</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00260">DWARFLinker.cpp:260</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4b7d2ab11554bd10d15b6cb21b2c2787"><div class="ttname"><a href="namespacellvm.html#a4b7d2ab11554bd10d15b6cb21b2c2787">llvm::upper_bound</a></div><div class="ttdeci">auto upper_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::upper_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01936">STLExtras.h:1936</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_acb31f2db6f0fe5eaa5b28464141223aa"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#acb31f2db6f0fe5eaa5b28464141223aa">llvm::sys::path::replace_path_prefix</a></div><div class="ttdeci">bool replace_path_prefix(SmallVectorImpl&lt; char &gt; &amp;Path, StringRef OldPrefix, StringRef NewPrefix, Style style=Style::native)</div><div class="ttdoc">Replace matching path prefix with another path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00518">Path.cpp:518</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFLinker_html_a161ab942f02bb3c878af04bb2740ab08"><div class="ttname"><a href="classllvm_1_1DWARFLinker.html#a161ab942f02bb3c878af04bb2740ab08">llvm::DWARFLinker::DWARFLinker</a></div><div class="ttdeci">DWARFLinker(DwarfEmitter *Emitter, DwarfLinkerClient ClientID=DwarfLinkerClient::General)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00253">DWARFLinker.h:253</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1a3766a4dce43f4efc7208a749cc7ac605">llvm::lltok::Error</a></div><div class="ttdeci">@ Error</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00021">LLToken.h:21</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a266e231081824b362f79d5a1ce60cd45"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a266e231081824b362f79d5a1ce60cd45">llvm::DwarfEmitter::emitAppleNames</a></div><div class="ttdeci">virtual void emitAppleNames(AccelTable&lt; AppleAccelTableStaticOffsetData &gt; &amp;Table)=0</div><div class="ttdoc">Emit Apple names accelerator table.</div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html_a977c94ac0ef5e305e5cf40726351d88a"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html#a977c94ac0ef5e305e5cf40726351d88a">llvm::BumpPtrAllocatorImpl::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdoc">Deallocate all but the current slab and reset the current pointer to the beginning of it,...</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00123">Allocator.h:123</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b44ec82eb1d979633b4c864f704c5a3"><div class="ttname"><a href="namespacellvm.html#a3b44ec82eb1d979633b4c864f704c5a3">llvm::CompileUnitHandler</a></div><div class="ttdeci">function_ref&lt; void(const DWARFUnit &amp;Unit)&gt; CompileUnitHandler</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00235">DWARFLinker.h:235</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefaa6ad87aadc206f6491720e309821904a"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefaa6ad87aadc206f6491720e309821904a">llvm::logicalview::LVAttributeKind::Producer</a></div><div class="ttdeci">@ Producer</div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_abf54e3c115f6a44dcc026c893cd080f0"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#abf54e3c115f6a44dcc026c893cd080f0">llvm::ContextWorklistItem::Context</a></div><div class="ttdeci">DeclContext * Context</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00263">DWARFLinker.cpp:263</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9"><div class="ttname"><a href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51fabc5183644c3cfe8d28e144b1518446d9">llvm::AccelTableKind::Dwarf</a></div><div class="ttdeci">@ Dwarf</div><div class="ttdoc">DWARF v5 .debug_names.</div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_afd87851170be53e96a85ea87f44d5fef"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#afd87851170be53e96a85ea87f44d5fef">llvm::DwarfEmitter::getFrameSectionSize</a></div><div class="ttdeci">virtual uint64_t getFrameSectionSize() const =0</div><div class="ttdoc">Returns size of generated .debug_frame section.</div></div>
<div class="ttc" id="aDWARFDebugMacro_8h_html"><div class="ttname"><a href="DWARFDebugMacro_8h.html">DWARFDebugMacro.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DeclContext_html"><div class="ttname"><a href="classllvm_1_1DeclContext.html">llvm::DeclContext</a></div><div class="ttdoc">A DeclContext is a named program scope that is used for ODR uniquing of types.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerDeclContext_8h_source.html#l00078">DWARFLinkerDeclContext.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThreadPool_html"><div class="ttname"><a href="classllvm_1_1ThreadPool.html">llvm::ThreadPool</a></div><div class="ttdoc">A ThreadPool for asynchronous parallel execution on a defined number of threads.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPool_8h_source.html#l00052">ThreadPool.h:52</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a1964207fae81f04966b2a9dcfc21cf7b"><div class="ttname"><a href="classllvm_1_1BitVector.html#a1964207fae81f04966b2a9dcfc21cf7b">llvm::BitVector::set</a></div><div class="ttdeci">BitVector &amp; set()</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00344">BitVector.h:344</a></div></div>
<div class="ttc" id="astructllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec_html"><div class="ttname"><a href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html">llvm::DWARFAbbreviationDeclaration::AttributeSpec</a></div><div class="ttdef"><b>Definition:</b> <a href="DWARFAbbreviationDeclaration_8h_source.html#l00028">DWARFAbbreviationDeclaration.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIEValue_html"><div class="ttname"><a href="classllvm_1_1DIEValue.html">llvm::DIEValue</a></div><div class="ttdef"><b>Definition:</b> <a href="DIE_8h_source.html#l00369">DIE.h:369</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0f460e86ae0cf56bd21fd50ef7f5e2b6"><div class="ttname"><a href="namespacellvm.html#a0f460e86ae0cf56bd21fd50ef7f5e2b6">llvm::updateRefIncompleteness</a></div><div class="ttdeci">static void updateRefIncompleteness(const DWARFDie &amp;Die, CompileUnit &amp;CU, CompileUnit::DIEInfo &amp;RefInfo)</div><div class="ttdoc">Helper that updates the completeness of the current DIE based on the completeness of the DIEs it refe...</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00571">DWARFLinker.cpp:571</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8aeafac87842fc748625b83753887067"><div class="ttname"><a href="namespacellvm.html#a8aeafac87842fc748625b83753887067">llvm::getDwoId</a></div><div class="ttdeci">static uint64_t getDwoId(const DWARFDie &amp;CUDie)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l02052">DWARFLinker.cpp:2052</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad0f54a163ac500b144590640c6f1eb6b"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">llvm::StringRef::npos</a></div><div class="ttdeci">static constexpr size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00052">StringRef.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a8abd4504c67c2fe1d5440f92f70a8cd5"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a8abd4504c67c2fe1d5440f92f70a8cd5">llvm::dwarf::toUnsigned</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; toUnsigned(const std::optional&lt; DWARFFormValue &gt; &amp;V)</div><div class="ttdoc">Take an optional DWARFFormValue and try to extract an unsigned constant.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00225">DWARFFormValue.h:225</a></div></div>
<div class="ttc" id="aPath_8h_html"><div class="ttname"><a href="Path_8h.html">Path.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a689e21394b9f344a86cdcad5b30fdb26"><div class="ttname"><a href="namespacellvm.html#a689e21394b9f344a86cdcad5b30fdb26">llvm::getUnitForOffset</a></div><div class="ttdeci">static CompileUnit * getUnitForOffset(const UnitListTy &amp;Units, uint64_t Offset)</div><div class="ttdoc">Similar to DWARFUnitSection::getUnitForOffset(), but returning our CompileUnit object instead.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00056">DWARFLinker.cpp:56</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a6c06a10ffac779879f6b62a1a904517b"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a6c06a10ffac779879f6b62a1a904517b">llvm::dwarf::Form</a></div><div class="ttdeci">Form</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00130">Dwarf.h:130</a></div></div>
<div class="ttc" id="astructllvm_1_1object_1_1SectionedAddress_html_a8807f1e455c2c5a36f3f2aaf617f823b"><div class="ttname"><a href="structllvm_1_1object_1_1SectionedAddress.html#a8807f1e455c2c5a36f3f2aaf617f823b">llvm::object::SectionedAddress::Address</a></div><div class="ttdeci">uint64_t Address</div><div class="ttdef"><b>Definition:</b> <a href="ObjectFile_8h_source.html#l00147">ObjectFile.h:147</a></div></div>
<div class="ttc" id="aclassllvm_1_1AddressesMap_html_abb9844cef38e5476dcafe39faa25765d"><div class="ttname"><a href="classllvm_1_1AddressesMap.html#abb9844cef38e5476dcafe39faa25765d">llvm::AddressesMap::~AddressesMap</a></div><div class="ttdeci">virtual ~AddressesMap()</div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a9a22c4526f93e9142fbcc1786084748b"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a9a22c4526f93e9142fbcc1786084748b">llvm::DwarfEmitter::emitLineTableForUnit</a></div><div class="ttdeci">virtual void emitLineTableForUnit(MCDwarfLineTableParams Params, StringRef PrologueBytes, unsigned MinInstLength, std::vector&lt; DWARFDebugLine::Row &gt; &amp;Rows, unsigned AdddressSize)=0</div><div class="ttdoc">Emit the line table described in Rows into the .debug_line section.</div></div>
<div class="ttc" id="aclassllvm_1_1Error_html_a4dfd0813c3d0e0a30439b5a3e9196b59"><div class="ttname"><a href="classllvm_1_1Error.html#a4dfd0813c3d0e0a30439b5a3e9196b59">llvm::Error::success</a></div><div class="ttdeci">static ErrorSuccess success()</div><div class="ttdoc">Create a success value.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00330">Error.h:330</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad5883fb838a32efa088e5cd355992fc1a0f21fc12a5217183be792c5e6f3e00b5"><div class="ttname"><a href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a0f21fc12a5217183be792c5e6f3e00b5">llvm::ContextWorklistItemType::AnalyzeContextInfo</a></div><div class="ttdeci">@ AnalyzeContextInfo</div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a2330a01ae3e92cdb7667ea339577410f"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a2330a01ae3e92cdb7667ea339577410f">llvm::DwarfEmitter::getLineSectionSize</a></div><div class="ttdeci">virtual uint64_t getLineSectionSize() const =0</div><div class="ttdoc">Returns size of generated .debug_line section.</div></div>
<div class="ttc" id="aDWARFDebugLine_8h_html"><div class="ttname"><a href="DWARFDebugLine_8h.html">DWARFDebugLine.h</a></div></div>
<div class="ttc" id="aDWARFContext_8h_html"><div class="ttname"><a href="DWARFContext_8h.html">DWARFContext.h</a></div></div>
<div class="ttc" id="aSupport_2Error_8h_html"><div class="ttname"><a href="Support_2Error_8h.html">Error.h</a></div></div>
<div class="ttc" id="astructllvm_1_1CompileUnit_1_1DIEInfo_html_acc16bbb246f88379240143791de831d7"><div class="ttname"><a href="structllvm_1_1CompileUnit_1_1DIEInfo.html#acc16bbb246f88379240143791de831d7">llvm::CompileUnit::DIEInfo::Prune</a></div><div class="ttdeci">bool Prune</div><div class="ttdoc">Is this a pure forward declaration we can strip?</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerCompileUnit_8h_source.html#l00071">DWARFLinkerCompileUnit.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html_a16e5eaf2df56249e87019be23ee07695"><div class="ttname"><a href="classllvm_1_1StringMap.html#a16e5eaf2df56249e87019be23ee07695">llvm::StringMap::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00204">StringMap.h:204</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa02a1d8fb0f561ab81f4a2570db7dc28"><div class="ttname"><a href="namespacellvm.html#aa02a1d8fb0f561ab81f4a2570db7dc28">llvm::getULEB128Size</a></div><div class="ttdeci">unsigned getULEB128Size(uint64_t Value)</div><div class="ttdoc">Utility function to get the size of the ULEB128-encoded value.</div><div class="ttdef"><b>Definition:</b> <a href="LEB128_8cpp_source.html#l00019">LEB128.cpp:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFContext_html"><div class="ttname"><a href="classllvm_1_1DWARFContext.html">llvm::DWARFContext</a></div><div class="ttdoc">DWARFContext This data structure is the top level entity that deals with dwarf debug information pars...</div><div class="ttdef"><b>Definition:</b> <a href="DWARFContext_8h_source.html#l00046">DWARFContext.h:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_af1e1e95c63fcd767a556f71b3800e641"><div class="ttname"><a href="namespacellvm.html#af1e1e95c63fcd767a556f71b3800e641">llvm::patchStmtList</a></div><div class="ttdeci">static void patchStmtList(DIE &amp;Die, DIEInteger Offset)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l01720">DWARFLinker.cpp:1720</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61afa8f3b6e8559d9f960165fbfaa9efa8f3c12e4235cf90bc1eddf49d9e087b0"><div class="ttname"><a href="namespacellvm.html#a61afa8f3b6e8559d9f960165fbfaa9efa8f3c12e4235cf90bc1eddf49d9e087b0">llvm::DwarfLinkerClient::Dsymutil</a></div><div class="ttdeci">@ Dsymutil</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html_a031683a2f97f9d8db3b493ada43e2228a5a1c5d88ff1af292b7f88f4c8a4fa8f1"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228a5a1c5d88ff1af292b7f88f4c8a4fa8f1">llvm::DWARFFormValue::FC_Exprloc</a></div><div class="ttdeci">@ FC_Exprloc</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00038">DWARFFormValue.h:38</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ab4fde659cfd2ad21ef1920dca7f22255a4b8a3f1fe8eed309f0b034064b508050"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ab4fde659cfd2ad21ef1920dca7f22255a4b8a3f1fe8eed309f0b034064b508050">llvm::dwarf::DW_CHILDREN_yes</a></div><div class="ttdeci">@ DW_CHILDREN_yes</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00513">Dwarf.h:513</a></div></div>
<div class="ttc" id="aMips16ISelLowering_8cpp_html_a0acb682b8260ab1c60b918599864e2e5"><div class="ttname"><a href="Mips16ISelLowering_8cpp.html#a0acb682b8260ab1c60b918599864e2e5">T</a></div><div class="ttdeci">#define T</div><div class="ttdef"><b>Definition:</b> <a href="Mips16ISelLowering_8cpp_source.html#l00341">Mips16ISelLowering.cpp:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a9df047cb80bd5170abbe1295a719d18f"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a9df047cb80bd5170abbe1295a719d18f">llvm::DwarfEmitter::getDebugInfoSectionSize</a></div><div class="ttdeci">virtual uint64_t getDebugInfoSectionSize() const =0</div><div class="ttdoc">Returns size of generated .debug_info section.</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFExpression_1_1Operation_html_a8f965a4aa6c5f05ac1b790daf7835212"><div class="ttname"><a href="classllvm_1_1DWARFExpression_1_1Operation.html#a8f965a4aa6c5f05ac1b790daf7835212">llvm::DWARFExpression::Operation::Encoding</a></div><div class="ttdeci">Encoding</div><div class="ttdoc">Size and signedness of expression operations' operands.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFExpression_8h_source.html#l00036">DWARFExpression.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a9e433cbf5fc196b2a358ca8538dfa3dc"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a9e433cbf5fc196b2a358ca8538dfa3dc">llvm::DwarfEmitter::emitAbbrevs</a></div><div class="ttdeci">virtual void emitAbbrevs(const std::vector&lt; std::unique_ptr&lt; DIEAbbrev &gt;&gt; &amp;Abbrevs, unsigned DwarfVersion)=0</div><div class="ttdoc">Emit the abbreviation table Abbrevs to the .debug_abbrev section.</div></div>
<div class="ttc" id="aclassllvm_1_1DIE_html"><div class="ttname"><a href="classllvm_1_1DIE.html">llvm::DIE</a></div><div class="ttdoc">A structured debug information entry.</div><div class="ttdef"><b>Definition:</b> <a href="DIE_8h_source.html#l00739">DIE.h:739</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a64c94d817ebf67e4b89bc5d7c0635ec4"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a64c94d817ebf67e4b89bc5d7c0635ec4">llvm::DwarfEmitter::emitPubTypesForUnit</a></div><div class="ttdeci">virtual void emitPubTypesForUnit(const CompileUnit &amp;Unit)=0</div><div class="ttdoc">Emit the .debug_pubtypes contribution for Unit.</div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed"><div class="ttname"><a href="namespacellvm_1_1codeview.html#af3d64ff2173fb2f45fdc714699cad09fa2c9872869dd005fe6811d69f88583bed">llvm::codeview::Link</a></div><div class="ttdeci">@ Link</div><div class="ttdef"><b>Definition:</b> <a href="CodeView_8h_source.html#l00151">CodeView.h:151</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a78afeb48a64a0f1d800ab10827de4f8b"><div class="ttname"><a href="namespacellvm.html#a78afeb48a64a0f1d800ab10827de4f8b">llvm::getDebugInfoSize</a></div><div class="ttdeci">static uint64_t getDebugInfoSize(DWARFContext &amp;Dwarf)</div><div class="ttdoc">Compute the total size of the debug info.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00046">DWARFLinker.cpp:46</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFDie_html_a315f90678bfa85d85d71a9dd12d5457a"><div class="ttname"><a href="classllvm_1_1DWARFDie.html#a315f90678bfa85d85d71a9dd12d5457a">llvm::DWARFDie::find</a></div><div class="ttdeci">std::optional&lt; DWARFFormValue &gt; find(dwarf::Attribute Attr) const</div><div class="ttdoc">Extract the specified attribute from this DIE.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDie_8cpp_source.html#l00247">DWARFDie.cpp:247</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html_a031683a2f97f9d8db3b493ada43e2228aecc352ab32050f10e6c1d07d39eca711"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228aecc352ab32050f10e6c1d07d39eca711">llvm::DWARFFormValue::FC_Reference</a></div><div class="ttdeci">@ FC_Reference</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00035">DWARFFormValue.h:35</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html_a49e68e4c86fe0b96c633adea0c366d74"><div class="ttname"><a href="classllvm_1_1StringMap.html#a49e68e4c86fe0b96c633adea0c366d74">llvm::StringMap::find</a></div><div class="ttdeci">iterator find(StringRef Key)</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00217">StringMap.h:217</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a508c1ba28bbae0cdb086a94f9c20c1de"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a508c1ba28bbae0cdb086a94f9c20c1de">llvm::ContextWorklistItem::InImportedModule</a></div><div class="ttdeci">bool InImportedModule</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00266">DWARFLinker.cpp:266</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ac94a19fc8c57bf0350fc4e9f45897828"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">llvm::dwarf::Tag</a></div><div class="ttdeci">Tag</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00103">Dwarf.h:103</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae79a071346e5add135a53348cbc7ed47"><div class="ttname"><a href="namespacellvm.html#ae79a071346e5add135a53348cbc7ed47">llvm::RangesTy</a></div><div class="ttdeci">AddressRangesMap RangesTy</div><div class="ttdoc">Mapped value in the address map is the offset to apply to the linked address.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerCompileUnit_8h_source.html#l00024">DWARFLinkerCompileUnit.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFDie_html_a1fa7cbc55eb0808d9fc434ef3efb5bca"><div class="ttname"><a href="classllvm_1_1DWARFDie.html#a1fa7cbc55eb0808d9fc434ef3efb5bca">llvm::DWARFDie::children</a></div><div class="ttdeci">iterator_range&lt; iterator &gt; children() const</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDie_8h_source.html#l00395">DWARFDie.h:395</a></div></div>
<div class="ttc" id="anamespacellvm_html_aee0e70be66536b9ef7b65ae2e5a45959"><div class="ttname"><a href="namespacellvm.html#aee0e70be66536b9ef7b65ae2e5a45959">llvm::consumeError</a></div><div class="ttdeci">void consumeError(Error Err)</div><div class="ttdoc">Consume a Error without doing anything.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l01043">Error.h:1043</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d"><div class="ttname"><a href="namespacellvm.html#ae551fe3e2b167b36005b26473e993884a26aa2e7865f749b52f3b77991776c40d">llvm::Data</a></div><div class="ttdeci">@ Data</div><div class="ttdef"><b>Definition:</b> <a href="SIMachineScheduler_8h_source.html#l00055">SIMachineScheduler.h:55</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a38e79c83dad9b9a5f38c9693371a8709"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a38e79c83dad9b9a5f38c9693371a8709">p</a></div><div class="ttdeci">the resulting code requires compare and branches when and if * p</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00396">README.txt:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a949b7dd3887168dc04a14ec1fec5f781"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a949b7dd3887168dc04a14ec1fec5f781">llvm::DwarfEmitter::getRangesSectionSize</a></div><div class="ttdeci">virtual uint64_t getRangesSectionSize() const =0</div><div class="ttdoc">Returns size of generated .debug_ranges section.</div></div>
<div class="ttc" id="aclassllvm_1_1DeclContextTree_html_a87e5a22eec313bd68abad58d556aae24"><div class="ttname"><a href="classllvm_1_1DeclContextTree.html#a87e5a22eec313bd68abad58d556aae24">llvm::DeclContextTree::getRoot</a></div><div class="ttdeci">DeclContext &amp; getRoot()</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerDeclContext_8h_source.html#l00145">DWARFLinkerDeclContext.h:145</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a1424c28b6a65587442fbd9d87726c2c7"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a1424c28b6a65587442fbd9d87726c2c7">llvm::dwarf::Attribute</a></div><div class="ttdeci">Attribute</div><div class="ttdoc">Attributes.</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00123">Dwarf.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html_a59d59f7f8aa89b08f44ad6a87e8ebb1a"><div class="ttname"><a href="classllvm_1_1WithColor.html#a59d59f7f8aa89b08f44ad6a87e8ebb1a">llvm::WithColor::error</a></div><div class="ttdeci">static raw_ostream &amp; error()</div><div class="ttdoc">Convenience method for printing &quot;error: &quot; to stderr.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8cpp_source.html#l00083">WithColor.cpp:83</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIEValueList_html_aaac0a2276b1fe9c13ec247892a7c3703"><div class="ttname"><a href="classllvm_1_1DIEValueList.html#aaac0a2276b1fe9c13ec247892a7c3703">llvm::DIEValueList::values</a></div><div class="ttdeci">value_range values()</div><div class="ttdef"><b>Definition:</b> <a href="DIE_8h_source.html#l00727">DIE.h:727</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_acb80894344c78dacf8d5ff8c23be697d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">llvm::sys::path::append</a></div><div class="ttdeci">void append(SmallVectorImpl&lt; char &gt; &amp;path, const Twine &amp;a, const Twine &amp;b=&quot;&quot;, const Twine &amp;c=&quot;&quot;, const Twine &amp;d=&quot;&quot;)</div><div class="ttdoc">Append to path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00456">Path.cpp:456</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_aa10731e4d6c303386a70337b0e0668d0"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#aa10731e4d6c303386a70337b0e0668d0">llvm::dwarf::toStringRef</a></div><div class="ttdeci">StringRef toStringRef(const std::optional&lt; DWARFFormValue &gt; &amp;V, StringRef Default={})</div><div class="ttdoc">Take an optional DWARFFormValue and try to extract a string value from it.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00192">DWARFFormValue.h:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a00df2d1a53c88895982c6d689c2bba77"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a00df2d1a53c88895982c6d689c2bba77">llvm::DwarfEmitter::emitPaperTrailWarningsDie</a></div><div class="ttdeci">virtual void emitPaperTrailWarningsDie(DIE &amp;Die)=0</div><div class="ttdoc">Emit DIE containing warnings.</div></div>
<div class="ttc" id="aNVVMIntrRange_8cpp_html_afad351d7bf10ac0446b64e7827634e94"><div class="ttname"><a href="NVVMIntrRange_8cpp.html#afad351d7bf10ac0446b64e7827634e94">Context</a></div><div class="ttdeci">LLVMContext &amp; Context</div><div class="ttdef"><b>Definition:</b> <a href="NVVMIntrRange_8cpp_source.html#l00066">NVVMIntrRange.cpp:66</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a9e1483f7215664a2315c53c3558d9a8d"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a9e1483f7215664a2315c53c3558d9a8d">LHS</a></div><div class="ttdeci">Value * LHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00075">X86PartialReduction.cpp:75</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07eb6e84b522073e52d92dccf5015c01"><div class="ttname"><a href="namespacellvm.html#a07eb6e84b522073e52d92dccf5015c01">llvm::formatv</a></div><div class="ttdeci">auto formatv(const char *Fmt, Ts &amp;&amp;... Vals) -&gt; formatv_object&lt; decltype(std::make_tuple(detail::build_format_adapter(std::forward&lt; Ts &gt;(Vals))...))&gt;</div><div class="ttdef"><b>Definition:</b> <a href="FormatVariadic_8h_source.html#l00251">FormatVariadic.h:251</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html">llvm::ContextWorklistItem</a></div><div class="ttdoc">This class represents an item in the work list.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00258">DWARFLinker.cpp:258</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa4dacf6fb21eac86e6221ca60d2aa8d0aa29bdd003ef6c0c34279807341f450f2"><div class="ttname"><a href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0aa29bdd003ef6c0c34279807341f450f2">llvm::DwarfLinkerAccelTableKind::Pub</a></div><div class="ttdeci">@ Pub</div><div class="ttdoc">.debug_pubnames, .debug_pubtypes</div></div>
<div class="ttc" id="astructllvm_1_1CompileUnit_1_1DIEInfo_html"><div class="ttname"><a href="structllvm_1_1CompileUnit_1_1DIEInfo.html">llvm::CompileUnit::DIEInfo</a></div><div class="ttdoc">Information gathered about a DIE in the object file.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerCompileUnit_8h_source.html#l00051">DWARFLinkerCompileUnit.h:51</a></div></div>
<div class="ttc" id="aDXContainerGlobals_8cpp_html_a4e37c99d7f846fd82966c68def83c4fc"><div class="ttname"><a href="DXContainerGlobals_8cpp.html#a4e37c99d7f846fd82966c68def83c4fc">Emitter</a></div><div class="ttdeci">dxil DXContainer Global Emitter</div><div class="ttdef"><b>Definition:</b> <a href="DXContainerGlobals_8cpp_source.html#l00108">DXContainerGlobals.cpp:108</a></div></div>
<div class="ttc" id="aDWARFDebugRangeList_8h_html"><div class="ttname"><a href="DWARFDebugRangeList_8h.html">DWARFDebugRangeList.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DWARFDebugLine_1_1Row_html"><div class="ttname"><a href="structllvm_1_1DWARFDebugLine_1_1Row.html">llvm::DWARFDebugLine::Row</a></div><div class="ttdoc">Standard .debug_line state machine structure.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDebugLine_8h_source.html#l00132">DWARFDebugLine.h:132</a></div></div>
<div class="ttc" id="astructllvm_1_1DIDumpOptions_html_add6a33649e764a95f041d7b8358a019e"><div class="ttname"><a href="structllvm_1_1DIDumpOptions.html#add6a33649e764a95f041d7b8358a019e">llvm::DIDumpOptions::Verbose</a></div><div class="ttdeci">bool Verbose</div><div class="ttdef"><b>Definition:</b> <a href="DIContext_8h_source.html#l00200">DIContext.h:200</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="anamespacellvm_html_a2d79a00fa7c56f57b87f2fe2a3f118c7"><div class="ttname"><a href="namespacellvm.html#a2d79a00fa7c56f57b87f2fe2a3f118c7">llvm::outs</a></div><div class="ttdeci">raw_fd_ostream &amp; outs()</div><div class="ttdoc">This returns a reference to a raw_fd_ostream for standard output.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00891">raw_ostream.cpp:891</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a0bc9c63c9734c8c7d7822306b4c2beac"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a0bc9c63c9734c8c7d7822306b4c2beac">llvm::ContextWorklistItem::OtherInfo</a></div><div class="ttdeci">CompileUnit::DIEInfo * OtherInfo</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00262">DWARFLinker.cpp:262</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aNonRelocatableStringpool_8h_html"><div class="ttname"><a href="NonRelocatableStringpool_8h.html">NonRelocatableStringpool.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa4dacf6fb21eac86e6221ca60d2aa8d0a9f6290f4436e5a2351f12e03b6433c3c"><div class="ttname"><a href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a9f6290f4436e5a2351f12e03b6433c3c">llvm::DwarfLinkerAccelTableKind::Apple</a></div><div class="ttdeci">@ Apple</div><div class="ttdoc">.apple_names, .apple_namespaces, .apple_types, .apple_objc.</div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html_afea367cbdd62e85c20d3ebe044253ce7"><div class="ttname"><a href="classllvm_1_1StringMap.html#afea367cbdd62e85c20d3ebe044253ce7">llvm::StringMap::insert</a></div><div class="ttdeci">bool insert(MapEntryTy *KeyValue)</div><div class="ttdoc">insert - Insert the specified key/value pair into the map.</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00275">StringMap.h:275</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5ed1af7cb2318866ee685b7de7bd4f9e"><div class="ttname"><a href="namespacellvm.html#a5ed1af7cb2318866ee685b7de7bd4f9e">llvm::analyzeContextInfo</a></div><div class="ttdeci">static void analyzeContextInfo(const DWARFDie &amp;DIE, unsigned ParentIdx, CompileUnit &amp;CU, DeclContext *CurrentDeclContext, DeclContextTree &amp;Contexts, uint64_t ModulesEndOffset, swiftInterfacesMap *ParseableSwiftInterfaces, std::function&lt; void(const Twine &amp;, const DWARFDie &amp;)&gt; ReportWarning)</div><div class="ttdoc">Recursive helper to build the global DeclContext information and gather the child-&gt;parent relationshi...</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00316">DWARFLinker.cpp:316</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_addd759aec534bc0671ea60c8e9779e5da5209d785d6f9540a65239398210353f9"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#addd759aec534bc0671ea60c8e9779e5da5209d785d6f9540a65239398210353f9">llvm::dwarf::DW_FLAG_type_implementation</a></div><div class="ttdeci">@ DW_FLAG_type_implementation</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00600">Dwarf.h:600</a></div></div>
<div class="ttc" id="aDWARFSection_8h_html"><div class="ttname"><a href="DWARFSection_8h.html">DWARFSection.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa4dacf6fb21eac86e6221ca60d2aa8d0"><div class="ttname"><a href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0">llvm::DwarfLinkerAccelTableKind</a></div><div class="ttdeci">DwarfLinkerAccelTableKind</div><div class="ttdoc">The kind of accelerator tables we should emit.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00034">DWARFLinker.h:34</a></div></div>
<div class="ttc" id="astructllvm_1_1DebugInfoSize_html"><div class="ttname"><a href="structllvm_1_1DebugInfoSize.html">llvm::DebugInfoSize</a></div><div class="ttdoc">Hold the input and output of the debug info size in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00040">DWARFLinker.cpp:40</a></div></div>
<div class="ttc" id="astructllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec_html_a334610a585463d47be91041e10e9ba7a"><div class="ttname"><a href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html#a334610a585463d47be91041e10e9ba7a">llvm::DWARFAbbreviationDeclaration::AttributeSpec::Attr</a></div><div class="ttdeci">dwarf::Attribute Attr</div><div class="ttdef"><b>Definition:</b> <a href="DWARFAbbreviationDeclaration_8h_source.html#l00042">DWARFAbbreviationDeclaration.h:42</a></div></div>
<div class="ttc" id="ac_2DataTypes_8h_html_a30654b4b67d97c42ca3f9b6052dda916"><div class="ttname"><a href="c_2DataTypes_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a></div><div class="ttdeci">#define UINT64_MAX</div><div class="ttdef"><b>Definition:</b> <a href="c_2DataTypes_8h_source.html#l00077">DataTypes.h:77</a></div></div>
<div class="ttc" id="aDWARFDie_8h_html"><div class="ttname"><a href="DWARFDie_8h.html">DWARFDie.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="astructllvm_1_1BrokenLink_html_af64390f74646910a7c6b5979fc84ba94"><div class="ttname"><a href="structllvm_1_1BrokenLink.html#af64390f74646910a7c6b5979fc84ba94">llvm::BrokenLink::Child</a></div><div class="ttdeci">DWARFDie Child</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00863">DWARFLinker.cpp:863</a></div></div>
<div class="ttc" id="astructllvm_1_1DIDumpOptions_html_ae396b319b15cbecf51ec8dc4ee2719b0"><div class="ttname"><a href="structllvm_1_1DIDumpOptions.html#ae396b319b15cbecf51ec8dc4ee2719b0">llvm::DIDumpOptions::ChildRecurseDepth</a></div><div class="ttdeci">unsigned ChildRecurseDepth</div><div class="ttdef"><b>Definition:</b> <a href="DIContext_8h_source.html#l00191">DIContext.h:191</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a4eed15451574edcabb8e694227d547e8"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a4eed15451574edcabb8e694227d547e8">llvm::dwarf::toString</a></div><div class="ttdeci">std::optional&lt; const char * &gt; toString(const std::optional&lt; DWARFFormValue &gt; &amp;V)</div><div class="ttdoc">Take an optional DWARFFormValue and try to extract a string value from it.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00176">DWARFFormValue.h:176</a></div></div>
<div class="ttc" id="anamespacellvm_html_a562e5e47a3837612432809e480b901e3"><div class="ttname"><a href="namespacellvm.html#a562e5e47a3837612432809e480b901e3">llvm::resolveRelativeObjectPath</a></div><div class="ttdeci">static void resolveRelativeObjectPath(SmallVectorImpl&lt; char &gt; &amp;Buf, DWARFDie CU)</div><div class="ttdoc">Resolve the relative path to a build artifact referenced by DWARF by applying DW_AT_comp_dir.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00204">DWARFLinker.cpp:204</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html">llvm::DWARFFormValue</a></div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00026">DWARFFormValue.h:26</a></div></div>
<div class="ttc" id="aBitVector_8h_html"><div class="ttname"><a href="BitVector_8h.html">BitVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIEInteger_html"><div class="ttname"><a href="classllvm_1_1DIEInteger.html">llvm::DIEInteger</a></div><div class="ttdoc">An integer value DIE.</div><div class="ttdef"><b>Definition:</b> <a href="DIE_8h_source.html#l00163">DIE.h:163</a></div></div>
<div class="ttc" id="aCSEInfo_8cpp_html_a75f8a8519c2c9b30e7c06dc5e256fffa"><div class="ttname"><a href="CSEInfo_8cpp.html#a75f8a8519c2c9b30e7c06dc5e256fffa">Info</a></div><div class="ttdeci">Analysis containing CSE Info</div><div class="ttdef"><b>Definition:</b> <a href="CSEInfo_8cpp_source.html#l00027">CSEInfo.cpp:27</a></div></div>
<div class="ttc" id="astructllvm_1_1BrokenLink_html"><div class="ttname"><a href="structllvm_1_1BrokenLink.html">llvm::BrokenLink</a></div><div class="ttdoc">A broken link in the keep chain.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00860">DWARFLinker.cpp:860</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_ac6a5341743131e94c7eaf16d5abec2ec"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#ac6a5341743131e94c7eaf16d5abec2ec">llvm::logicalview::AttributeSpec</a></div><div class="ttdeci">DWARFAbbreviationDeclaration::AttributeSpec AttributeSpec</div><div class="ttdef"><b>Definition:</b> <a href="LVELFReader_8h_source.html#l00031">LVELFReader.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1DeclContextTree_html_a4bd9844a95feccd824a78e62c476f423"><div class="ttname"><a href="classllvm_1_1DeclContextTree.html#a4bd9844a95feccd824a78e62c476f423">llvm::DeclContextTree::getChildDeclContext</a></div><div class="ttdeci">PointerIntPair&lt; DeclContext *, 1 &gt; getChildDeclContext(DeclContext &amp;Context, const DWARFDie &amp;DIE, CompileUnit &amp;Unit, bool InClangModule)</div><div class="ttdoc">Get the child of Context described by DIE in Unit.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerDeclContext_8cpp_source.html#l00045">DWARFLinkerDeclContext.cpp:45</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b"><div class="ttname"><a href="namespacellvm_1_1pdb.html#ac10322dc19a928c2dbb83ec9689dc23caac70412e939d72a9234cdebb1af5867b">llvm::pdb::PDB_ColorItem::Path</a></div><div class="ttdeci">@ Path</div></div>
<div class="ttc" id="aFormatVariadic_8h_html"><div class="ttname"><a href="FormatVariadic_8h.html">FormatVariadic.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa66ef91afb15ef1fa0f27f28d8127c49"><div class="ttname"><a href="namespacellvm.html#aa66ef91afb15ef1fa0f27f28d8127c49">llvm::shouldSkipAttribute</a></div><div class="ttdeci">static bool shouldSkipAttribute(bool Update, DWARFAbbreviationDeclaration::AttributeSpec AttrSpec, uint16_t Tag, bool InDebugMap, bool SkipPC, bool InFunctionScope)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l01405">DWARFLinker.cpp:1405</a></div></div>
<div class="ttc" id="agroup__DwarfConstantsDumping_html_ga4863132f9f3dd24b6df4cfc6c9cfb676"><div class="ttname"><a href="group__DwarfConstantsDumping.html#ga4863132f9f3dd24b6df4cfc6c9cfb676">llvm::dwarf::FormEncodingString</a></div><div class="ttdeci">StringRef FormEncodingString(unsigned Encoding)</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8cpp_source.html#l00105">Dwarf.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringMap_html"><div class="ttname"><a href="classllvm_1_1StringMap.html">llvm::StringMap</a></div><div class="ttdoc">StringMap - This is an unconventional map that is specialized for handling keys that are &quot;strings&quot;,...</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2StringMap_8h_source.html#l00110">StringMap.h:110</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 128 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html_ad16686174287aeb36289484f271d5225"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html#ad16686174287aeb36289484f271d5225">llvm::DWARFFormValue::skipValue</a></div><div class="ttdeci">bool skipValue(DataExtractor DebugInfoData, uint64_t *OffsetPtr, const dwarf::FormParams Params) const</div><div class="ttdoc">Skip a form's value in DebugInfoData at the offset specified by OffsetPtr.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00145">DWARFFormValue.h:145</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aDWARFLinker_8h_html"><div class="ttname"><a href="DWARFLinker_8h.html">DWARFLinker.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aThreadPool_8h_html"><div class="ttname"><a href="ThreadPool_8h.html">ThreadPool.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="anamespacellvm_html_aad87d874f7944b5838f7881938d18870ad26b007baa81cc3cd38d8d6c93e6df42"><div class="ttname"><a href="namespacellvm.html#aad87d874f7944b5838f7881938d18870ad26b007baa81cc3cd38d8d6c93e6df42">llvm::DINameKind::ShortName</a></div><div class="ttdeci">@ ShortName</div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a4a7da435db043dcb277653eabfa5b532"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a4a7da435db043dcb277653eabfa5b532">llvm::DwarfEmitter::translateLineTable</a></div><div class="ttdeci">virtual void translateLineTable(DataExtractor LineData, uint64_t Offset)=0</div><div class="ttdoc">Copy the .debug_line over to the updated binary while unobfuscating the file names and directories.</div></div>
<div class="ttc" id="astructllvm_1_1BrokenLink_html_a40eaa74bacded0e57e9d9c79c49920ea"><div class="ttname"><a href="structllvm_1_1BrokenLink.html#a40eaa74bacded0e57e9d9c79c49920ea">llvm::BrokenLink::Parent</a></div><div class="ttdeci">DWARFDie Parent</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00862">DWARFLinker.cpp:862</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad5883fb838a32efa088e5cd355992fc1a09c9d2b4c0b0438b8b323b6cb3e317fd"><div class="ttname"><a href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a09c9d2b4c0b0438b8b323b6cb3e317fd">llvm::ContextWorklistItemType::UpdateChildPruning</a></div><div class="ttdeci">@ UpdateChildPruning</div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a862d854faaa0b2b0d27f44fdb785636a"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a862d854faaa0b2b0d27f44fdb785636a">llvm::ContextWorklistItem::Die</a></div><div class="ttdeci">DWARFDie Die</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00259">DWARFLinker.cpp:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1CompileUnit_html"><div class="ttname"><a href="classllvm_1_1CompileUnit.html">llvm::CompileUnit</a></div><div class="ttdoc">Stores all information relating to a compile unit, be it in its original instance in the object file ...</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerCompileUnit_8h_source.html#l00048">DWARFLinkerCompileUnit.h:48</a></div></div>
<div class="ttc" id="aLEB128_8h_html"><div class="ttname"><a href="LEB128_8h.html">LEB128.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="aErrorOr_8h_html"><div class="ttname"><a href="ErrorOr_8h.html">ErrorOr.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeee8b531d94fa4ec29e2dbffaf9f3a7e"><div class="ttname"><a href="namespacellvm.html#aeee8b531d94fa4ec29e2dbffaf9f3a7e">llvm::isODRAttribute</a></div><div class="ttdeci">static bool isODRAttribute(uint16_t Attr)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00088">DWARFLinker.cpp:88</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aDWARFUnit_8h_html"><div class="ttname"><a href="DWARFUnit_8h.html">DWARFUnit.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DeclContextTree_html"><div class="ttname"><a href="classllvm_1_1DeclContextTree.html">llvm::DeclContextTree</a></div><div class="ttdoc">This class gives a tree-like API to the DenseMap that stores the DeclContext objects.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerDeclContext_8h_source.html#l00127">DWARFLinkerDeclContext.h:127</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a9038f082d0cee814c962ee66b2cebb5e"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a9038f082d0cee814c962ee66b2cebb5e">llvm::DwarfEmitter::emitFDE</a></div><div class="ttdeci">virtual void emitFDE(uint32_t CIEOffset, uint32_t AddreSize, uint64_t Address, StringRef Bytes)=0</div><div class="ttdoc">Emit an FDE with data Bytes.</div></div>
<div class="ttc" id="astructllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec_html_ae1a5d450fc1291db4a1981cfbd38fc0b"><div class="ttname"><a href="structllvm_1_1DWARFAbbreviationDeclaration_1_1AttributeSpec.html#ae1a5d450fc1291db4a1981cfbd38fc0b">llvm::DWARFAbbreviationDeclaration::AttributeSpec::Form</a></div><div class="ttdeci">dwarf::Form Form</div><div class="ttdef"><b>Definition:</b> <a href="DWARFAbbreviationDeclaration_8h_source.html#l00043">DWARFAbbreviationDeclaration.h:43</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114"><div class="ttname"><a href="namespacellvm.html#ac226f3d2b9ca090171a8e0a8cb92c343a4374cf34c5d58482ffae982196bd2114">llvm::HighlightColor::Macro</a></div><div class="ttdeci">@ Macro</div></div>
<div class="ttc" id="aDWARFAbbreviationDeclaration_8h_html"><div class="ttname"><a href="DWARFAbbreviationDeclaration_8h.html">DWARFAbbreviationDeclaration.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a157d879e437656fdac9801ff4c11d7f4"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a157d879e437656fdac9801ff4c11d7f4">llvm::DwarfEmitter::emitPubNamesForUnit</a></div><div class="ttdeci">virtual void emitPubNamesForUnit(const CompileUnit &amp;Unit)=0</div><div class="ttdoc">Emit the .debug_pubnames contribution for Unit.</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html_a031683a2f97f9d8db3b493ada43e2228ab7f7ffb183c98435d2b766c0bd9412eb"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html#a031683a2f97f9d8db3b493ada43e2228ab7f7ffb183c98435d2b766c0bd9412eb">llvm::DWARFFormValue::FC_Block</a></div><div class="ttdeci">@ FC_Block</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00031">DWARFFormValue.h:31</a></div></div>
<div class="ttc" id="astructllvm_1_1DebugInfoSize_html_aeac837a4321808c7cd71cf40d23ee7af"><div class="ttname"><a href="structllvm_1_1DebugInfoSize.html#aeac837a4321808c7cd71cf40d23ee7af">llvm::DebugInfoSize::Output</a></div><div class="ttdeci">uint64_t Output</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00042">DWARFLinker.cpp:42</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="astructModuleName_html"><div class="ttname"><a href="structModuleName.html">ModuleName</a></div><div class="ttdef"><b>Definition:</b> <a href="ItaniumDemangle_8h_source.html#l00999">ItaniumDemangle.h:999</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFLinker_html_a5d0195ef531cf321edf25d9f9b4f34cc"><div class="ttname"><a href="classllvm_1_1DWARFLinker.html#a5d0195ef531cf321edf25d9f9b4f34cc">llvm::DWARFLinker::link</a></div><div class="ttdeci">Error link()</div><div class="ttdoc">Link debug info for added objFiles.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l02410">DWARFLinker.cpp:2410</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac81564f1aa9d37fc1057ba3e6c569a13"><div class="ttname"><a href="namespacellvm.html#ac81564f1aa9d37fc1057ba3e6c569a13">llvm::dieNeedsChildrenToBeMeaningful</a></div><div class="ttdeci">static bool dieNeedsChildrenToBeMeaningful(uint32_t Tag)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00393">DWARFLinker.cpp:393</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5d668d5ff205ff14cea6f8579329c874"><div class="ttname"><a href="namespacellvm.html#a5d668d5ff205ff14cea6f8579329c874">llvm::insertLineSequence</a></div><div class="ttdeci">static void insertLineSequence(std::vector&lt; DWARFDebugLine::Row &gt; &amp;Seq, std::vector&lt; DWARFDebugLine::Row &gt; &amp;Rows)</div><div class="ttdoc">Insert the new line info sequence Seq into the current set of already linked line info Rows.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l01690">DWARFLinker.cpp:1690</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a9fe565cb0cc832480a9a9ed312dc2962"><div class="ttname"><a href="classllvm_1_1StringRef.html#a9fe565cb0cc832480a9a9ed312dc2962">llvm::StringRef::take_back</a></div><div class="ttdeci">StringRef take_back(size_t N=1) const</div><div class="ttdoc">Return a StringRef equal to 'this' but with only the last N elements remaining.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00577">StringRef.h:577</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a0ac988cf2e3facee3508094765dad7d4"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a0ac988cf2e3facee3508094765dad7d4">llvm::DwarfEmitter::emitCIE</a></div><div class="ttdeci">virtual void emitCIE(StringRef CIEBytes)=0</div><div class="ttdoc">Emit a CIE.</div></div>
<div class="ttc" id="anamespacellvm_html_a02b44f93159b4b08e7998a4fb4d7705f"><div class="ttname"><a href="namespacellvm.html#a02b44f93159b4b08e7998a4fb4d7705f">llvm::verifyKeepChain</a></div><div class="ttdeci">static void verifyKeepChain(CompileUnit &amp;CU)</div><div class="ttdoc">Verify the keep chain by looking for DIEs that are kept but who's parent isn't.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00868">DWARFLinker.cpp:868</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefa87ba2ecc8b6915e8bd6f5089918229fd">llvm::logicalview::LVAttributeKind::Range</a></div><div class="ttdeci">@ Range</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c132b1813b2fc5a623ee2e82c8c14c0"><div class="ttname"><a href="namespacellvm.html#a7c132b1813b2fc5a623ee2e82c8c14c0">llvm::OffsetsStringPool</a></div><div class="ttdeci">StrongType&lt; NonRelocatableStringpool, OffsetsTag &gt; OffsetsStringPool</div><div class="ttdef"><b>Definition:</b> <a href="NonRelocatableStringpool_8h_source.html#l00079">NonRelocatableStringpool.h:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThreadPool_html_ac439316d32bbc9928047d569f07def4b"><div class="ttname"><a href="classllvm_1_1ThreadPool.html#ac439316d32bbc9928047d569f07def4b">llvm::ThreadPool::async</a></div><div class="ttdeci">auto async(Function &amp;&amp;F, Args &amp;&amp;...ArgList)</div><div class="ttdoc">Asynchronous submission of a task to the pool.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPool_8h_source.html#l00066">ThreadPool.h:66</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="anamespacellvm_html_a39d3d23a084c4544ee5903203db10e8a"><div class="ttname"><a href="namespacellvm.html#a39d3d23a084c4544ee5903203db10e8a">llvm::append_range</a></div><div class="ttdeci">void append_range(Container &amp;C, Range &amp;&amp;R)</div><div class="ttdoc">Wrapper function to append a range to a container.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02014">STLExtras.h:2014</a></div></div>
<div class="ttc" id="aMCDwarf_8h_html_abc3534e4318dd6126f55a94635209c93"><div class="ttname"><a href="MCDwarf_8h.html#abc3534e4318dd6126f55a94635209c93">DWARF2_LINE_DEFAULT_IS_STMT</a></div><div class="ttdeci">#define DWARF2_LINE_DEFAULT_IS_STMT</div><div class="ttdef"><b>Definition:</b> <a href="MCDwarf_8h_source.html#l00111">MCDwarf.h:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIE_html_aab8f847f2e32af5c966d00966adfe996"><div class="ttname"><a href="classllvm_1_1DIE.html#aab8f847f2e32af5c966d00966adfe996">llvm::DIE::get</a></div><div class="ttdeci">static DIE * get(BumpPtrAllocator &amp;Alloc, dwarf::Tag Tag)</div><div class="ttdef"><b>Definition:</b> <a href="DIE_8h_source.html#l00769">DIE.h:769</a></div></div>
<div class="ttc" id="anamespacellvm_html_abf48b2db44853558ca75ace8d111e467"><div class="ttname"><a href="namespacellvm.html#abf48b2db44853558ca75ace8d111e467">llvm::analyzeImportedModule</a></div><div class="ttdeci">static void analyzeImportedModule(const DWARFDie &amp;DIE, CompileUnit &amp;CU, swiftInterfacesMap *ParseableSwiftInterfaces, std::function&lt; void(const Twine &amp;, const DWARFDie &amp;)&gt; ReportWarning)</div><div class="ttdoc">Collect references to parseable Swift interfaces in imported DW_TAG_module blocks.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00210">DWARFLinker.cpp:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_aa0348262277f611dc95cf92bb654b0c6"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#aa0348262277f611dc95cf92bb654b0c6">llvm::DwarfEmitter::~DwarfEmitter</a></div><div class="ttdeci">virtual ~DwarfEmitter()</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFile_html"><div class="ttname"><a href="classllvm_1_1DWARFFile.html">llvm::DWARFFile</a></div><div class="ttdoc">This class represents DWARF information for source file and its address map.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00206">DWARFLinker.h:206</a></div></div>
<div class="ttc" id="astructllvm_1_1DWARFAttribute_html_abcfbc296ea65dfc9205a4211bfb2d45b"><div class="ttname"><a href="structllvm_1_1DWARFAttribute.html#abcfbc296ea65dfc9205a4211bfb2d45b">llvm::DWARFAttribute::mayHaveLocationExpr</a></div><div class="ttdeci">static bool mayHaveLocationExpr(dwarf::Attribute Attr)</div><div class="ttdoc">Identifies DWARF attributes that may contain a reference to a DWARF expression.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDie_8cpp_source.html#l00721">DWARFDie.cpp:721</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_ab7fb8b3d5ded21578be77575d78f533c"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#ab7fb8b3d5ded21578be77575d78f533c">llvm::DwarfEmitter::emitUnitRangesEntries</a></div><div class="ttdeci">virtual void emitUnitRangesEntries(CompileUnit &amp;Unit, bool DoRangesSection)=0</div><div class="ttdoc">Emit .debug_aranges entries for Unit and if DoRangesSection is true, also emit the ....</div></div>
<div class="ttc" id="anamespacellvm_html_ab4e285e28ea8fd6b3a8ab702133c5d97"><div class="ttname"><a href="namespacellvm.html#ab4e285e28ea8fd6b3a8ab702133c5d97">llvm::updateChildPruning</a></div><div class="ttdeci">static void updateChildPruning(const DWARFDie &amp;Die, CompileUnit &amp;CU, CompileUnit::DIEInfo &amp;ChildInfo)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00302">DWARFLinker.cpp:302</a></div></div>
<div class="ttc" id="anamespacellvm_html_a327a399b9f6ef414a29ddeffba934d26"><div class="ttname"><a href="namespacellvm.html#a327a399b9f6ef414a29ddeffba934d26">llvm::partition_point</a></div><div class="ttdeci">auto partition_point(R &amp;&amp;Range, Predicate P)</div><div class="ttdoc">Binary search for the first iterator in a range where a predicate is false.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01961">STLExtras.h:1961</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad4a3b3f8e9a7e1dbac7444b5a756eed0"><div class="ttname"><a href="namespacellvm.html#ad4a3b3f8e9a7e1dbac7444b5a756eed0">llvm::isObjCSelector</a></div><div class="ttdeci">static bool isObjCSelector(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l01358">DWARFLinker.cpp:1358</a></div></div>
<div class="ttc" id="anamespacellvm_html_a1caa6b732dcb111acba6636287246a36"><div class="ttname"><a href="namespacellvm.html#a1caa6b732dcb111acba6636287246a36">llvm::StripTemplateParameters</a></div><div class="ttdeci">static std::optional&lt; StringRef &gt; StripTemplateParameters(StringRef Name)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00141">DWARFLinker.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="anamespacellvm_1_1GraphProgram_html_a0ad4685976f8c4d4a697a53fbe05d10b"><div class="ttname"><a href="namespacellvm_1_1GraphProgram.html#a0ad4685976f8c4d4a697a53fbe05d10b">llvm::GraphProgram::Name</a></div><div class="ttdeci">Name</div><div class="ttdef"><b>Definition:</b> <a href="GraphWriter_8h_source.html#l00050">GraphWriter.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa6fc3382b3caf1e509384c91f5457db7"><div class="ttname"><a href="namespacellvm.html#aa6fc3382b3caf1e509384c91f5457db7">llvm::updateChildIncompleteness</a></div><div class="ttdeci">static void updateChildIncompleteness(const DWARFDie &amp;Die, CompileUnit &amp;CU, CompileUnit::DIEInfo &amp;ChildInfo)</div><div class="ttdoc">Helper that updates the completeness of the current DIE based on the completeness of one of its child...</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00551">DWARFLinker.cpp:551</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2b43c21951d0948b34bcf7019949032d"><div class="ttname"><a href="namespacellvm.html#a2b43c21951d0948b34bcf7019949032d">llvm::inconvertibleErrorCode</a></div><div class="ttdeci">std::error_code inconvertibleErrorCode()</div><div class="ttdoc">The value returned by this function can be returned from convertToErrorCode for Error values where no...</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00079">Error.cpp:79</a></div></div>
<div class="ttc" id="aclassuint16__t_html"><div class="ttname"><a href="classuint16__t.html">uint16_t</a></div></div>
<div class="ttc" id="anamespacellvm_html_a63540526d092e2f4bbc70590b6034f4e"><div class="ttname"><a href="namespacellvm.html#a63540526d092e2f4bbc70590b6034f4e">llvm::toString</a></div><div class="ttdeci">const char * toString(DWARFSectionKind Kind)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFUnitIndex_8h_source.html#l00067">DWARFUnitIndex.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_af82d9a1882022c18451cbf165b82027b"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#af82d9a1882022c18451cbf165b82027b">llvm::DwarfEmitter::emitSectionContents</a></div><div class="ttdeci">virtual void emitSectionContents(StringRef SecData, StringRef SecName)=0</div><div class="ttdoc">Emit section named SecName with data SecData.</div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a26c0eb984ee329a788eda57a3cd4892e"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a26c0eb984ee329a788eda57a3cd4892e">llvm::DwarfEmitter::emitDwarfDebugRangesTableFragment</a></div><div class="ttdeci">virtual void emitDwarfDebugRangesTableFragment(const CompileUnit &amp;Unit, const AddressRanges &amp;LinkedRanges)=0</div><div class="ttdoc">Emit piece of .debug_ranges for Ranges.</div></div>
<div class="ttc" id="anamespacellvm_html_aa4dacf6fb21eac86e6221ca60d2aa8d0a20f18d4a28570b83b8f5bd6c9d26d7b8"><div class="ttname"><a href="namespacellvm.html#aa4dacf6fb21eac86e6221ca60d2aa8d0a20f18d4a28570b83b8f5bd6c9d26d7b8">llvm::DwarfLinkerAccelTableKind::DebugNames</a></div><div class="ttdeci">@ DebugNames</div><div class="ttdoc">.debug_names.</div></div>
<div class="ttc" id="aclassllvm_1_1Error_html"><div class="ttname"><a href="classllvm_1_1Error.html">llvm::Error</a></div><div class="ttdoc">Lightweight error class with error context and mandatory checking.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2Error_8h_source.html#l00156">Error.h:156</a></div></div>
<div class="ttc" id="aDataExtractor_8h_html"><div class="ttname"><a href="DataExtractor_8h.html">DataExtractor.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a2c3c895efbf609583a8e09f87b18d949"><div class="ttname"><a href="namespacellvm.html#a2c3c895efbf609583a8e09f87b18d949">llvm::objFileLoader</a></div><div class="ttdeci">std::function&lt; ErrorOr&lt; DWARFFile &amp; &gt;StringRef ContainerName, StringRef Path)&gt; objFileLoader</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00231">DWARFLinker.h:231</a></div></div>
<div class="ttc" id="anamespacellvm_1_1TargetStackID_html_a71392100eb15ba746b1f898986f5d8a5"><div class="ttname"><a href="namespacellvm_1_1TargetStackID.html#a71392100eb15ba746b1f898986f5d8a5">llvm::TargetStackID::Value</a></div><div class="ttdeci">Value</div><div class="ttdef"><b>Definition:</b> <a href="TargetFrameLowering_8h_source.html#l00027">TargetFrameLowering.h:27</a></div></div>
<div class="ttc" id="aDWARFExpression_8h_html"><div class="ttname"><a href="DWARFExpression_8h.html">DWARFExpression.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7966c456ffb8277447854ce5db918863"><div class="ttname"><a href="namespacellvm.html#a7966c456ffb8277447854ce5db918863">llvm::isTypeTag</a></div><div class="ttdeci">static bool isTypeTag(uint16_t Tag)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00102">DWARFLinker.cpp:102</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html_af5dd7241878be5eed07736eb156bb10b"><div class="ttname"><a href="classllvm_1_1SmallString.html#af5dd7241878be5eed07736eb156bb10b">llvm::SmallString::str</a></div><div class="ttdeci">StringRef str() const</div><div class="ttdoc">Explicit conversion to StringRef.</div><div class="ttdef"><b>Definition:</b> <a href="SmallString_8h_source.html#l00261">SmallString.h:261</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9b945b5a6ebd26eb6fa4b80fd53cbb9c"><div class="ttname"><a href="namespacellvm.html#a9b945b5a6ebd26eb6fa4b80fd53cbb9c">llvm::remapPath</a></div><div class="ttdeci">static std::string remapPath(StringRef Path, const objectPrefixMap &amp;ObjectPrefixMap)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l02060">DWARFLinker.cpp:2060</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad5883fb838a32efa088e5cd355992fc1"><div class="ttname"><a href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1">llvm::ContextWorklistItemType</a></div><div class="ttdeci">ContextWorklistItemType</div><div class="ttdoc">The distinct types of work performed by the work loop in analyzeContextInfo.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00249">DWARFLinker.cpp:249</a></div></div>
<div class="ttc" id="aclassOutputBuffer_html"><div class="ttname"><a href="classOutputBuffer.html">OutputBuffer</a></div><div class="ttdef"><b>Definition:</b> <a href="Utility_8h_source.html#l00031">Utility.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1ThreadPool_html_a41dde4c256785b525a0334c060932a64"><div class="ttname"><a href="classllvm_1_1ThreadPool.html#a41dde4c256785b525a0334c060932a64">llvm::ThreadPool::wait</a></div><div class="ttdeci">void wait()</div><div class="ttdoc">Blocking wait for all the threads to complete and the queue to be empty.</div><div class="ttdef"><b>Definition:</b> <a href="ThreadPool_8cpp_source.html#l00143">ThreadPool.cpp:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1StrongType_html"><div class="ttname"><a href="classllvm_1_1StrongType.html">llvm::StrongType</a></div><div class="ttdoc">Helper for making strong types.</div><div class="ttdef"><b>Definition:</b> <a href="NonRelocatableStringpool_8h_source.html#l00067">NonRelocatableStringpool.h:67</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a5ab6bf136f12ce0bfe2a9754cf1644c7"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a5ab6bf136f12ce0bfe2a9754cf1644c7">llvm::sys::path::filename</a></div><div class="ttdeci">StringRef filename(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get filename.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00577">Path.cpp:577</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFDie_html_ac07a6d11b09b4e2c92e9609b6843e9ea"><div class="ttname"><a href="classllvm_1_1DWARFDie.html#ac07a6d11b09b4e2c92e9609b6843e9ea">llvm::DWARFDie::getTag</a></div><div class="ttdeci">dwarf::Tag getTag() const</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDie_8h_source.html#l00071">DWARFDie.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html_a8fdf5cdf041c8aded7e3308c1c3efacc"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#a8fdf5cdf041c8aded7e3308c1c3efacc">llvm::raw_ostream::indent</a></div><div class="ttdeci">raw_ostream &amp; indent(unsigned NumSpaces)</div><div class="ttdoc">indent - Insert 'NumSpaces' spaces.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00495">raw_ostream.cpp:495</a></div></div>
<div class="ttc" id="aclassllvm_1_1DWARFFormValue_html_a7f4acdd5d8a9b78623878262b10f8e4f"><div class="ttname"><a href="classllvm_1_1DWARFFormValue.html#a7f4acdd5d8a9b78623878262b10f8e4f">llvm::DWARFFormValue::isFormClass</a></div><div class="ttdeci">bool isFormClass(FormClass FC) const</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8cpp_source.html#l00216">DWARFFormValue.cpp:216</a></div></div>
<div class="ttc" id="aDWARFLinkerDeclContext_8h_html"><div class="ttname"><a href="DWARFLinkerDeclContext_8h.html">DWARFLinkerDeclContext.h</a></div></div>
<div class="ttc" id="astructllvm_1_1object_1_1SectionedAddress_html"><div class="ttname"><a href="structllvm_1_1object_1_1SectionedAddress.html">llvm::object::SectionedAddress</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectFile_8h_source.html#l00144">ObjectFile.h:144</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a7678f2dc98b94e702a92baac0f3175fc"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a7678f2dc98b94e702a92baac0f3175fc">llvm::ContextWorklistItem::Type</a></div><div class="ttdeci">ContextWorklistItemType Type</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00265">DWARFLinker.cpp:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_ae1cc3bd169d4f05da1fdf331f52c26b9"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#ae1cc3bd169d4f05da1fdf331f52c26b9">llvm::DwarfEmitter::emitAppleTypes</a></div><div class="ttdeci">virtual void emitAppleTypes(AccelTable&lt; AppleAccelTableStaticTypeData &gt; &amp;Table)=0</div><div class="ttdoc">Emit Apple type accelerator table.</div></div>
<div class="ttc" id="aCompiler_8h_html_ae5b35beb6f127e5f47269e9124b886fb"><div class="ttname"><a href="Compiler_8h.html#ae5b35beb6f127e5f47269e9124b886fb">LLVM_LIKELY</a></div><div class="ttdeci">#define LLVM_LIKELY(EXPR)</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00209">Compiler.h:209</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad0f8c0e82cde3bb0849fc59e3510f05a"><div class="ttname"><a href="namespacellvm.html#ad0f8c0e82cde3bb0849fc59e3510f05a">llvm::encodeULEB128</a></div><div class="ttdeci">unsigned encodeULEB128(uint64_t Value, raw_ostream &amp;OS, unsigned PadTo=0)</div><div class="ttdoc">Utility function to encode a ULEB128 value to an output stream.</div><div class="ttdef"><b>Definition:</b> <a href="LEB128_8h_source.html#l00080">LEB128.h:80</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a8d4dd8d1ec9d9328d03bb2b99aa74744a92711ef5b0215a076fef4a3abbfc2258">llvm::logicalview::LVWarningKind::Ranges</a></div><div class="ttdeci">@ Ranges</div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; char &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a4a84ce93f65e459315ed3d92ed646d97"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a4a84ce93f65e459315ed3d92ed646d97">llvm::ContextWorklistItem::ContextWorklistItem</a></div><div class="ttdeci">ContextWorklistItem(DWARFDie Die, DeclContext *Context, unsigned ParentIdx, bool InImportedModule)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00273">DWARFLinker.cpp:273</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad5883fb838a32efa088e5cd355992fc1a3a73d4125c78c03d6b25946ca00dc67d"><div class="ttname"><a href="namespacellvm.html#ad5883fb838a32efa088e5cd355992fc1a3a73d4125c78c03d6b25946ca00dc67d">llvm::ContextWorklistItemType::UpdatePruning</a></div><div class="ttdeci">@ UpdatePruning</div></div>
<div class="ttc" id="anamespacellvm_1_1omp_html_a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443"><div class="ttname"><a href="namespacellvm_1_1omp.html#a16d7c5f77008a84ae20bf4a5c41e51f0a4ea7801f17a4e5485e8b050c052fb443">llvm::omp::RTLDependInfoFields::Flags</a></div><div class="ttdeci">@ Flags</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFDie_html"><div class="ttname"><a href="classllvm_1_1DWARFDie.html">llvm::DWARFDie</a></div><div class="ttdoc">Utility class that carries the DWARF compile/type unit and the debug info entry in an object.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFDie_8h_source.html#l00042">DWARFDie.h:42</a></div></div>
<div class="ttc" id="astructllvm_1_1ContextWorklistItem_html_a79f599e8e764cfbb0fdd807f88fce7c8"><div class="ttname"><a href="structllvm_1_1ContextWorklistItem.html#a79f599e8e764cfbb0fdd807f88fce7c8">llvm::ContextWorklistItem::ContextWorklistItem</a></div><div class="ttdeci">ContextWorklistItem(DWARFDie Die, ContextWorklistItemType T, CompileUnit::DIEInfo *OtherInfo=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00268">DWARFLinker.cpp:268</a></div></div>
<div class="ttc" id="anamespacellvm_html_aba816fb56fad484d9cd712825dcacaa6"><div class="ttname"><a href="namespacellvm.html#aba816fb56fad484d9cd712825dcacaa6">llvm::djbHash</a></div><div class="ttdeci">uint32_t djbHash(StringRef Buffer, uint32_t H=5381)</div><div class="ttdoc">The Bernstein hash function used by the DWARF accelerator tables.</div><div class="ttdef"><b>Definition:</b> <a href="DJB_8h_source.html#l00021">DJB.h:21</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a434cfa04e4ed34b7a901378557d4ca9ea4501cbae351ca0ef6f162f946ba58d0e">llvm::pdb::String</a></div><div class="ttdeci">@ String</div><div class="ttdef"><b>Definition:</b> <a href="PDBTypes_8h_source.html#l00408">PDBTypes.h:408</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARMBuildAttrs_html_aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd"><div class="ttname"><a href="namespacellvm_1_1ARMBuildAttrs.html#aea10ca6bf098a425d51ac7fe65d30ed6aecf09ba70b320e04fec09afb59d502cd">llvm::ARMBuildAttrs::File</a></div><div class="ttdeci">@ File</div><div class="ttdef"><b>Definition:</b> <a href="ARMBuildAttributes_8h_source.html#l00036">ARMBuildAttributes.h:36</a></div></div>
<div class="ttc" id="astructllvm_1_1CompileUnit_1_1DIEInfo_html_af5de0895585421fd67ab35182da7592b"><div class="ttname"><a href="structllvm_1_1CompileUnit_1_1DIEInfo.html#af5de0895585421fd67ab35182da7592b">llvm::CompileUnit::DIEInfo::Incomplete</a></div><div class="ttdeci">bool Incomplete</div><div class="ttdoc">Does DIE transitively refer an incomplete decl?</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinkerCompileUnit_8h_source.html#l00074">DWARFLinkerCompileUnit.h:74</a></div></div>
<div class="ttc" id="aCompiler_8h_html_a104cae72182bec0ab951e3faea6ce509"><div class="ttname"><a href="Compiler_8h.html#a104cae72182bec0ab951e3faea6ce509">LLVM_UNLIKELY</a></div><div class="ttdeci">#define LLVM_UNLIKELY(EXPR)</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00210">Compiler.h:210</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a32d6cab5518ad6e61e0fe37bf9c2264a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a32d6cab5518ad6e61e0fe37bf9c2264a">llvm::dwarf::toAddress</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; toAddress(const std::optional&lt; DWARFFormValue &gt; &amp;V)</div><div class="ttdoc">Take an optional DWARFFormValue and try to extract an address.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00293">DWARFFormValue.h:293</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ade8a2f04649248655c8f083bc4d233fd"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ade8a2f04649248655c8f083bc4d233fd">llvm::dwarf::toSectionOffset</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; toSectionOffset(const std::optional&lt; DWARFFormValue &gt; &amp;V)</div><div class="ttdoc">Take an optional DWARFFormValue and try to extract an section offset.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFFormValue_8h_source.html#l00323">DWARFFormValue.h:323</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bae1e4c8c9ccd9fc39c391da4bcd093fb2">llvm::pdb::PDB_SymType::Block</a></div><div class="ttdeci">@ Block</div></div>
<div class="ttc" id="anamespacellvm_html_acc6108333e358848db3db11c51d105ef"><div class="ttname"><a href="namespacellvm.html#acc6108333e358848db3db11c51d105ef">llvm::isODRCanonicalCandidate</a></div><div class="ttdeci">static bool isODRCanonicalCandidate(const DWARFDie &amp;Die, CompileUnit &amp;CU)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00623">DWARFLinker.cpp:623</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a59d172f36ecf079548e9c539ae54e5a4"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a59d172f36ecf079548e9c539ae54e5a4">llvm::sys::path::is_relative</a></div><div class="ttdeci">bool is_relative(const Twine &amp;path, Style style=Style::native)</div><div class="ttdoc">Is path relative?</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00699">Path.cpp:699</a></div></div>
<div class="ttc" id="anamespaceCU_html"><div class="ttname"><a href="namespaceCU.html">CU</a></div><div class="ttdef"><b>Definition:</b> <a href="AArch64AsmBackend_8cpp_source.html#l00505">AArch64AsmBackend.cpp:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_a6e05c764df8acc1ac37b5133f7059842"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#a6e05c764df8acc1ac37b5133f7059842">llvm::DwarfEmitter::emitAppleNamespaces</a></div><div class="ttdeci">virtual void emitAppleNamespaces(AccelTable&lt; AppleAccelTableStaticOffsetData &gt; &amp;Table)=0</div><div class="ttdoc">Emit Apple namespaces accelerator table.</div></div>
<div class="ttc" id="aclassllvm_1_1DWARFLinker_html_ad1bf4d4b6afceb8ca5643f08aa2975e8"><div class="ttname"><a href="classllvm_1_1DWARFLinker.html#ad1bf4d4b6afceb8ca5643f08aa2975e8">llvm::DWARFLinker::addObjectFile</a></div><div class="ttdeci">void addObjectFile(DWARFFile &amp;File, objFileLoader Loader=nullptr, CompileUnitHandler OnCUDieLoaded=[](const DWARFUnit &amp;) {})</div><div class="ttdoc">Add object file to be linked.</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l02389">DWARFLinker.cpp:2389</a></div></div>
<div class="ttc" id="anamespacellvm_html_a931cfa6e58e63d6d65fa10e8ce2e18ff"><div class="ttname"><a href="namespacellvm.html#a931cfa6e58e63d6d65fa10e8ce2e18ff">llvm::updatePruning</a></div><div class="ttdeci">static bool updatePruning(const DWARFDie &amp;Die, CompileUnit &amp;CU, uint64_t ModulesEndOffset)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00280">DWARFLinker.cpp:280</a></div></div>
<div class="ttc" id="anamespacellvm_html_a06406e542c2dd932a8ddf0390fbfcb49"><div class="ttname"><a href="namespacellvm.html#a06406e542c2dd932a8ddf0390fbfcb49">llvm::getPCMFile</a></div><div class="ttdeci">static std::string getPCMFile(const DWARFDie &amp;CUDie, objectPrefixMap *ObjectPrefixMap)</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l02072">DWARFLinker.cpp:2072</a></div></div>
<div class="ttc" id="astructllvm_1_1DebugInfoSize_html_ac86522ad41fb25428002ea8cd0a98a6f"><div class="ttname"><a href="structllvm_1_1DebugInfoSize.html#ac86522ad41fb25428002ea8cd0a98a6f">llvm::DebugInfoSize::Input</a></div><div class="ttdeci">uint64_t Input</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8cpp_source.html#l00041">DWARFLinker.cpp:41</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7af5fd6eac5e3429291e19a0bc6fd51f"><div class="ttname"><a href="namespacellvm.html#a7af5fd6eac5e3429291e19a0bc6fd51f">llvm::AccelTableKind</a></div><div class="ttdeci">AccelTableKind</div><div class="ttdoc">The kind of accelerator tables we should emit.</div><div class="ttdef"><b>Definition:</b> <a href="DwarfDebug_8h_source.html#l00288">DwarfDebug.h:288</a></div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4"><div class="ttname"><a href="namespacellvm_1_1codeview.html#a04eb43a6dc736c2d6ed8dcc6d636a2afad6e408b692f1e72c58127dbaed95ebe4">llvm::codeview::DebugSubsectionKind::FrameData</a></div><div class="ttdeci">@ FrameData</div></div>
<div class="ttc" id="aDWARFDataExtractor_8h_html"><div class="ttname"><a href="DWARFDataExtractor_8h.html">DWARFDataExtractor.h</a></div></div>
<div class="ttc" id="astructllvm_1_1DIDumpOptions_html"><div class="ttname"><a href="structllvm_1_1DIDumpOptions.html">llvm::DIDumpOptions</a></div><div class="ttdoc">Container for dump options that control which debug information will be dumped.</div><div class="ttdef"><b>Definition:</b> <a href="DIContext_8h_source.html#l00189">DIContext.h:189</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab5f3fa0d81caa90b51d7c5ce8e6863fc"><div class="ttname"><a href="namespacellvm.html#ab5f3fa0d81caa90b51d7c5ce8e6863fc">llvm::objectPrefixMap</a></div><div class="ttdeci">std::map&lt; std::string, std::string &gt; objectPrefixMap</div><div class="ttdef"><b>Definition:</b> <a href="DWARFLinker_8h_source.html#l00233">DWARFLinker.h:233</a></div></div>
<div class="ttc" id="aclassllvm_1_1DwarfEmitter_html_afeb09684a37e9237c09a236c0af70cea"><div class="ttname"><a href="classllvm_1_1DwarfEmitter.html#afeb09684a37e9237c09a236c0af70cea">llvm::DwarfEmitter::emitAppleObjc</a></div><div class="ttdeci">virtual void emitAppleObjc(AccelTable&lt; AppleAccelTableStaticOffsetData &gt; &amp;Table)=0</div><div class="ttdoc">Emit Apple Objective-C accelerator table.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:04:10 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
