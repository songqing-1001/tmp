<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: llvm::VFABI Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacellvm.html">llvm</a></li><li class="navelem"><a class="el" href="namespacellvm_1_1VFABI.html">VFABI</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">llvm::VFABI Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a33a344d32fa3f515cbb9e4cda3294eb6"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structllvm_1_1VFInfo.html">VFInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#a33a344d32fa3f515cbb9e4cda3294eb6">tryDemangleForVFABI</a> (<a class="el" href="classllvm_1_1StringRef.html">StringRef</a> MangledName, <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Module.html">Module</a> &amp;M)</td></tr>
<tr class="memdesc:a33a344d32fa3f515cbb9e4cda3294eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classllvm_1_1Function.html">Function</a> to construct a <a class="el" href="structllvm_1_1VFInfo.html" title="Holds the VFShape for a specific scalar to vector function mapping.">VFInfo</a> out of a mangled names in the following format:  <a href="namespacellvm_1_1VFABI.html#a33a344d32fa3f515cbb9e4cda3294eb6">More...</a><br /></td></tr>
<tr class="separator:a33a344d32fa3f515cbb9e4cda3294eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64353c34cb9dba37aa99ed7bbe63c903"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#a64353c34cb9dba37aa99ed7bbe63c903">mangleTLIVectorName</a> (<a class="el" href="classllvm_1_1StringRef.html">StringRef</a> VectorName, <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> ScalarName, <a class="el" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a> numArgs, <a class="el" href="classllvm_1_1ElementCount.html">ElementCount</a> VF)</td></tr>
<tr class="memdesc:a64353c34cb9dba37aa99ed7bbe63c903"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine mangles the given VectorName according to the LangRef specification for vector-function-abi-variant attribute and is specific to the TLI mappings.  <a href="namespacellvm_1_1VFABI.html#a64353c34cb9dba37aa99ed7bbe63c903">More...</a><br /></td></tr>
<tr class="separator:a64353c34cb9dba37aa99ed7bbe63c903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf19acac548dca3c8f263ceb6a860b57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39">VFParamKind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#aaf19acac548dca3c8f263ceb6a860b57">getVFParamKindFromString</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1StringRef.html">StringRef</a> Token)</td></tr>
<tr class="memdesc:aaf19acac548dca3c8f263ceb6a860b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the <code>VFParamKind</code> from a string token.  <a href="namespacellvm_1_1VFABI.html#aaf19acac548dca3c8f263ceb6a860b57">More...</a><br /></td></tr>
<tr class="separator:aaf19acac548dca3c8f263ceb6a860b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adf44ad04562ff150b0e8e352a38d46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#a8adf44ad04562ff150b0e8e352a38d46">getVectorVariantNames</a> (<a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1CallInst.html">CallInst</a> &amp;CI, <a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::string &gt; &amp;VariantMappings)</td></tr>
<tr class="memdesc:a8adf44ad04562ff150b0e8e352a38d46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates a set of strings representing the Vector <a class="el" href="classllvm_1_1Function.html">Function</a> ABI variants associated to the <a class="el" href="classllvm_1_1CallInst.html" title="This class represents a function call, abstracting a target machine&#39;s calling convention.">CallInst</a> CI.  <a href="namespacellvm_1_1VFABI.html#a8adf44ad04562ff150b0e8e352a38d46">More...</a><br /></td></tr>
<tr class="separator:a8adf44ad04562ff150b0e8e352a38d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad2ee389fa99a4c02f610183530735c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#a9ad2ee389fa99a4c02f610183530735c">setVectorVariantNames</a> (<a class="el" href="classllvm_1_1CallInst.html">CallInst</a> *CI, <a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::string &gt; VariantMappings)</td></tr>
<tr class="memdesc:a9ad2ee389fa99a4c02f610183530735c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrite the Vector <a class="el" href="classllvm_1_1Function.html">Function</a> ABI variants attribute with the names provide in <code>VariantMappings</code>.  <a href="namespacellvm_1_1VFABI.html#a9ad2ee389fa99a4c02f610183530735c">More...</a><br /></td></tr>
<tr class="separator:a9ad2ee389fa99a4c02f610183530735c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad93d3663541e084602d1da4c083cbd54"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#ad93d3663541e084602d1da4c083cbd54">_LLVM_</a> = &quot;_LLVM_&quot;</td></tr>
<tr class="memdesc:ad93d3663541e084602d1da4c083cbd54"><td class="mdescLeft">&#160;</td><td class="mdescRight">LLVM Internal <a class="el" href="namespacellvm_1_1VFABI.html">VFABI</a> ISA token for vector functions.  <a href="namespacellvm_1_1VFABI.html#ad93d3663541e084602d1da4c083cbd54">More...</a><br /></td></tr>
<tr class="separator:ad93d3663541e084602d1da4c083cbd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf566b5926814cab051282fb4f7a48c7"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#adf566b5926814cab051282fb4f7a48c7">_LLVM_Scalarize_</a> = &quot;_LLVM_Scalarize_&quot;</td></tr>
<tr class="memdesc:adf566b5926814cab051282fb4f7a48c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prefix for internal name redirection for vector function that tells the compiler to scalarize the call using the scalar name of the function.  <a href="namespacellvm_1_1VFABI.html#adf566b5926814cab051282fb4f7a48c7">More...</a><br /></td></tr>
<tr class="separator:adf566b5926814cab051282fb4f7a48c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cea39d6b2600871ef4d32e3535348f4"><td class="memItemLeft" align="right" valign="top">static constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacellvm_1_1VFABI.html#a0cea39d6b2600871ef4d32e3535348f4">MappingsAttrName</a> = &quot;vector-<a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">function</a>-abi-variant&quot;</td></tr>
<tr class="separator:a0cea39d6b2600871ef4d32e3535348f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8adf44ad04562ff150b0e8e352a38d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8adf44ad04562ff150b0e8e352a38d46">&#9670;&nbsp;</a></span>getVectorVariantNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::VFABI::getVectorVariantNames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1CallInst.html">CallInst</a> &amp;&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl</a>&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>VariantMappings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populates a set of strings representing the Vector <a class="el" href="classllvm_1_1Function.html">Function</a> ABI variants associated to the <a class="el" href="classllvm_1_1CallInst.html" title="This class represents a function call, abstracting a target machine&#39;s calling convention.">CallInst</a> CI. </p>
<p>If the CI does not contain the vector-function-abi-variant attribute, we return without populating VariantMappings, i.e. callers of getVectorVariantNames need not check for the presence of the attribute (see <a class="el" href="classllvm_1_1InjectTLIMappings.html">InjectTLIMappings</a>). </p>

<p class="definition">Definition at line <a class="el" href="VectorUtils_8cpp_source.html#l01546">1546</a> of file <a class="el" href="VectorUtils_8cpp_source.html">VectorUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="InstrTypes_8h_source.html#l01625">llvm::CallBase::getFnAttr()</a>, <a class="el" href="Module_8cpp_source.html#l00175">llvm::Module::getFunction()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00070">llvm::Instruction::getModule()</a>, <a class="el" href="Attributes_8cpp_source.html#l00312">llvm::Attribute::getValueAsString()</a>, <a class="el" href="CSEInfo_8cpp_source.html#l00027">Info</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="VectorUtils_8h_source.html#l00209">MappingsAttrName</a>, <a class="el" href="lib_2Target_2ARM_2README_8txt_source.html#l00210">S</a>, and <a class="el" href="VFABIDemangling_8cpp_source.html#l00317">tryDemangleForVFABI()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InjectTLIMappings_8cpp_source.html#l00071">addMappingsFromTLI()</a>.</p>

</div>
</div>
<a id="aaf19acac548dca3c8f263ceb6a860b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf19acac548dca3c8f263ceb6a860b57">&#9670;&nbsp;</a></span>getVFParamKindFromString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39">VFParamKind</a> llvm::VFABI::getVFParamKindFromString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>Token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the <code>VFParamKind</code> from a string token. </p>

<p class="definition">Definition at line <a class="el" href="VFABIDemangling_8cpp_source.html#l00458">458</a> of file <a class="el" href="VFABIDemangling_8cpp_source.html">VFABIDemangling.cpp</a>.</p>

<p class="reference">References <a class="el" href="StringSwitch_8h_source.html#l00069">llvm::StringSwitch&lt; T, R &gt;::Case()</a>, <a class="el" href="StringSwitch_8h_source.html#l00182">llvm::StringSwitch&lt; T, R &gt;::Default()</a>, <a class="el" href="Support_2ErrorHandling_8h_source.html#l00143">llvm_unreachable</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a16454c62ab71c641dedda0971980c9d5">llvm::OMP_Linear</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39aaec63779faad458a0dc8cbd703de79cd">llvm::OMP_LinearPos</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a1177c82a038df4f925f122e45c6da0fa">llvm::OMP_LinearRef</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39ab411a051b5361e5fecaebbc0c09c5a32">llvm::OMP_LinearRefPos</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39acb8cf9f2514a0c9c419bbe481cd6043c">llvm::OMP_LinearUVal</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a3cb8b4a8b5f2ae8ebd7564386cf178c4">llvm::OMP_LinearUValPos</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a33c412d71677159e382a0a8cd9408d8a">llvm::OMP_LinearVal</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39ab5212d79459110e59ba16ff486f4a75a">llvm::OMP_LinearValPos</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39acbf35bbdad5d09f9072d0e83e78e90e4">llvm::OMP_Uniform</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a88183b946cc5f0e8c96b2e66e1c74a7e">llvm::Unknown</a>, and <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39a57dea6f5039281b7fee517fc43bf3110">llvm::Vector</a>.</p>

</div>
</div>
<a id="a64353c34cb9dba37aa99ed7bbe63c903"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64353c34cb9dba37aa99ed7bbe63c903">&#9670;&nbsp;</a></span>mangleTLIVectorName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string llvm::VFABI::mangleTLIVectorName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>VectorName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>ScalarName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ADT_2tmp_8txt.html#aa10ee7493bddf2c751ca6e05451ef410">unsigned</a>&#160;</td>
          <td class="paramname"><em>numArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ElementCount.html">ElementCount</a>&#160;</td>
          <td class="paramname"><em>VF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine mangles the given VectorName according to the LangRef specification for vector-function-abi-variant attribute and is specific to the TLI mappings. </p>
<p>It is the responsibility of the caller to make sure that this is only used if all parameters in the vector function are vector type. This returned string holds scalar-to-vector mapping: <em>ZGV&lt;isa&gt;&lt;mask&gt;&lt;vlen&gt;&lt;vparams&gt;</em>&lt;scalarname&gt;(&lt;vectorname&gt;)</p>
<p>where:</p>
<p>&lt;isa&gt; = "_LLVM_" &lt;mask&gt; = "N". Note: TLI does not support masked interfaces. &lt;vlen&gt; = Number of concurrent lanes, stored in the <code><a class="el" href="structllvm_1_1VectorizationFactor.html" title="TODO: The following VectorizationFactor was pulled out of LoopVectorizationCostModel class.">VectorizationFactor</a></code> field of the <code><a class="el" href="structllvm_1_1VecDesc.html" title="Describes a possible vectorization of a function.">VecDesc</a></code> struct. If the number of lanes is scalable then 'x' is printed instead. &lt;vparams&gt; = "v", as many as are the numArgs. &lt;scalarname&gt; = the name of the scalar function. &lt;vectorname&gt; = the name of the vector function. </p>

<p class="definition">Definition at line <a class="el" href="VectorUtils_8cpp_source.html#l01530">1530</a> of file <a class="el" href="VectorUtils_8cpp_source.html">VectorUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="VectorUtils_8h_source.html#l00147">_LLVM_</a>, <a class="el" href="TypeSize_8h_source.html#l00182">llvm::details::FixedOrScalableQuantity&lt; LeafTy, ValueTy &gt;::getFixedValue()</a>, <a class="el" href="MD5_8cpp_source.html#l00058">I</a>, <a class="el" href="TypeSize_8h_source.html#l00166">llvm::details::FixedOrScalableQuantity&lt; LeafTy, ValueTy &gt;::isScalable()</a>, and <a class="el" href="raw__ostream_8h_source.html#l00697">llvm::raw_svector_ostream::str()</a>.</p>

<p class="reference">Referenced by <a class="el" href="InjectTLIMappings_8cpp_source.html#l00071">addMappingsFromTLI()</a>.</p>

</div>
</div>
<a id="a9ad2ee389fa99a4c02f610183530735c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad2ee389fa99a4c02f610183530735c">&#9670;&nbsp;</a></span>setVectorVariantNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void llvm::VFABI::setVectorVariantNames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1CallInst.html">CallInst</a> *&#160;</td>
          <td class="paramname"><em>CI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt; std::string &gt;&#160;</td>
          <td class="paramname"><em>VariantMappings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrite the Vector <a class="el" href="classllvm_1_1Function.html">Function</a> ABI variants attribute with the names provide in <code>VariantMappings</code>. </p>

<p class="definition">Definition at line <a class="el" href="ModuleUtils_8cpp_source.html#l00328">328</a> of file <a class="el" href="ModuleUtils_8cpp_source.html">ModuleUtils.cpp</a>.</p>

<p class="reference">References <a class="el" href="InstrTypes_8h_source.html#l01516">llvm::CallBase::addFnAttr()</a>, <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="Debug_8cpp_source.html#l00163">llvm::dbgs()</a>, <a class="el" href="StringRef_8h_source.html#l00134">llvm::StringRef::empty()</a>, <a class="el" href="ArrayRef_8h_source.html#l00158">llvm::ArrayRef&lt; T &gt;::empty()</a>, <a class="el" href="Attributes_8cpp_source.html#l00091">llvm::Attribute::get()</a>, <a class="el" href="IR_2Instruction_8cpp_source.html#l00070">llvm::Instruction::getModule()</a>, <a class="el" href="Debug_8h_source.html#l00101">LLVM_DEBUG</a>, <a class="el" href="lib_2Target_2X86_2README_8txt_source.html#l00252">M</a>, <a class="el" href="VectorUtils_8h_source.html#l00209">MappingsAttrName</a>, <a class="el" href="SmallString_8h_source.html#l00261">llvm::SmallString&lt; InternalLen &gt;::str()</a>, <a class="el" href="VFABIDemangling_8cpp_source.html#l00317">tryDemangleForVFABI()</a>, and <a class="el" href="SIInstrInfo_8cpp_source.html#l07994">VI</a>.</p>

<p class="reference">Referenced by <a class="el" href="InjectTLIMappings_8cpp_source.html#l00071">addMappingsFromTLI()</a>.</p>

</div>
</div>
<a id="a33a344d32fa3f515cbb9e4cda3294eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a344d32fa3f515cbb9e4cda3294eb6">&#9670;&nbsp;</a></span>tryDemangleForVFABI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structllvm_1_1VFInfo.html">VFInfo</a> &gt; llvm::VFABI::tryDemangleForVFABI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classllvm_1_1StringRef.html">StringRef</a>&#160;</td>
          <td class="paramname"><em>MangledName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> <a class="el" href="classllvm_1_1Module.html">Module</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classllvm_1_1Function.html">Function</a> to construct a <a class="el" href="structllvm_1_1VFInfo.html" title="Holds the VFShape for a specific scalar to vector function mapping.">VFInfo</a> out of a mangled names in the following format: </p>
<p>&lt;VFABI_name&gt;{(&lt;redirection&gt;)}</p>
<p>where &lt;VFABI_name&gt; is the name of the vector function, mangled according to the rules described in the Vector <a class="el" href="classllvm_1_1Function.html">Function</a> ABI of the target vector extension (or &lt;isa&gt; from now on). The &lt;VFABI_name&gt; is in the following format:</p>
<p><em>ZGV&lt;isa&gt;&lt;mask&gt;&lt;vlen&gt;&lt;parameters&gt;</em>&lt;scalarname&gt;[(&lt;redirection&gt;)]</p>
<p>This methods support demangling rules for the following &lt;isa&gt;:</p>
<ul>
<li><a class="el" href="namespacellvm_1_1AArch64.html">AArch64</a>: <a href="https://developer.arm.com/docs/101129/latest">https://developer.arm.com/docs/101129/latest</a></li>
<li>x86 (libmvec): <a href="https://sourceware.org/glibc/wiki/libmvec">https://sourceware.org/glibc/wiki/libmvec</a> and <a href="https://sourceware.org/glibc/wiki/libmvec?action=AttachFile&do=view&target=VectorABI.txt">https://sourceware.org/glibc/wiki/libmvec?action=AttachFile&amp;do=view&amp;target=VectorABI.txt</a></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MangledName</td><td>-&gt; input string in the format <em>ZGV&lt;isa&gt;&lt;mask&gt;&lt;vlen&gt;&lt;parameters&gt;</em>&lt;scalarname&gt;[(&lt;redirection&gt;)]. </td></tr>
    <tr><td class="paramname">M</td><td>-&gt; <a class="el" href="classllvm_1_1Module.html" title="A Module instance is used to store all the information related to an LLVM module.">Module</a> used to retrieve informations about the vector function that are not possible to retrieve from the mangled name. At the moment, this parameter is needed only to retrieve the Vectorization Factor of scalable vector functions from their respective IR declarations. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="VFABIDemangling_8cpp_source.html#l00317">317</a> of file <a class="el" href="VFABIDemangling_8cpp_source.html">VFABIDemangling.cpp</a>.</p>

<p class="reference">References <a class="el" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert()</a>, <a class="el" href="StringRef_8h_source.html#l00643">llvm::StringRef::consume_back()</a>, <a class="el" href="StringRef_8h_source.html#l00623">llvm::StringRef::consume_front()</a>, <a class="el" href="STLExtras_8h_source.html#l01903">llvm::count_if()</a>, <a class="el" href="StringRef_8h_source.html#l00134">llvm::StringRef::empty()</a>, <a class="el" href="LLToken_8h_source.html#l00021">llvm::lltok::Error</a>, <a class="el" href="MD5_8cpp_source.html#l00055">F</a>, <a class="el" href="TypeSize_8h_source.html#l00297">llvm::ElementCount::get()</a>, <a class="el" href="namespacellvm.html#add480f2ed87faa59c16d4c01ffb4bf39adf3e3249ad10ccf5bf901eb83c105cc3">llvm::GlobalPredicate</a>, <a class="el" href="TGLexer_8h_source.html#l00051">llvm::tgtok::In</a>, <a class="el" href="namespacellvm.html#abe2c24a8dc2fb979e8e54e15f088169ca66a0128ad08b2053e4809e07fe05728c">llvm::LLVM</a>, <a class="el" href="StringRef_8h_source.html#l00779">llvm::StringRef::ltrim()</a>, <a class="el" href="lib_2Target_2X86_2README_8txt_source.html#l00252">M</a>, <a class="el" href="VectorUtils_8h_source.html#l00064">llvm::VFParameter::ParamKind</a>, and <a class="el" href="StringRef_8h_source.html#l00585">llvm::StringRef::take_while()</a>.</p>

<p class="reference">Referenced by <a class="el" href="VectorUtils_8cpp_source.html#l01546">getVectorVariantNames()</a>, and <a class="el" href="ModuleUtils_8cpp_source.html#l00328">setVectorVariantNames()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad93d3663541e084602d1da4c083cbd54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93d3663541e084602d1da4c083cbd54">&#9670;&nbsp;</a></span>_LLVM_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char* llvm::VFABI::_LLVM_ = &quot;_LLVM_&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LLVM Internal <a class="el" href="namespacellvm_1_1VFABI.html">VFABI</a> ISA token for vector functions. </p>

<p class="definition">Definition at line <a class="el" href="VectorUtils_8h_source.html#l00147">147</a> of file <a class="el" href="VectorUtils_8h_source.html">VectorUtils.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="VectorUtils_8cpp_source.html#l01530">mangleTLIVectorName()</a>.</p>

</div>
</div>
<a id="adf566b5926814cab051282fb4f7a48c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf566b5926814cab051282fb4f7a48c7">&#9670;&nbsp;</a></span>_LLVM_Scalarize_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char* llvm::VFABI::_LLVM_Scalarize_ = &quot;_LLVM_Scalarize_&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prefix for internal name redirection for vector function that tells the compiler to scalarize the call using the scalar name of the function. </p>
<p>For example, a mangled name like <code>_ZGV_LLVM_N2v_foo(_LLVM_Scalarize_foo)</code> would tell the vectorizer to vectorize the scalar call <code>foo</code>, and to scalarize it once vectorization is done. </p>

<p class="definition">Definition at line <a class="el" href="VectorUtils_8h_source.html#l00154">154</a> of file <a class="el" href="VectorUtils_8h_source.html">VectorUtils.h</a>.</p>

</div>
</div>
<a id="a0cea39d6b2600871ef4d32e3535348f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cea39d6b2600871ef4d32e3535348f4">&#9670;&nbsp;</a></span>MappingsAttrName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr <a class="el" href="AArch64PromoteConstant_8cpp.html#a90f8350fecae261c25be85d38b451bff">const</a> char* llvm::VFABI::MappingsAttrName = &quot;vector-<a class="el" href="RegionPrinter_8cpp.html#aa37fbbce2360106772fd97ed06455d55">function</a>-abi-variant&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="VectorUtils_8h_source.html#l00209">209</a> of file <a class="el" href="VectorUtils_8h_source.html">VectorUtils.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="VectorUtils_8cpp_source.html#l01546">getVectorVariantNames()</a>, and <a class="el" href="ModuleUtils_8cpp_source.html#l00328">setVectorVariantNames()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 12:11:29 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
