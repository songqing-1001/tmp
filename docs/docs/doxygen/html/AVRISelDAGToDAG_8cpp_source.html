<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/AVR/AVRISelDAGToDAG.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_e025955df7d625b5b4f5fd3465d9c8da.html">AVR</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">AVRISelDAGToDAG.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="AVRISelDAGToDAG_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===-- AVRISelDAGToDAG.cpp - A dag to dag inst selector for AVR ----------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file defines an instruction selector for the AVR target.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AVR_8h.html">AVR.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AVRTargetMachine_8h.html">AVRTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AVRMCTargetDesc_8h.html">MCTargetDesc/AVRMCTargetDesc.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SelectionDAGISel_8h.html">llvm/CodeGen/SelectionDAGISel.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   22</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;avr-isel&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">   23</a></span>&#160;<span class="preprocessor">#define PASS_NAME &quot;AVR DAG-&gt;DAG Instruction Selection&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// Lowers LLVM IR (in DAG form) to AVR MC instructions (in DAG form).</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span><span class="keyword">class </span>AVRDAGToDAGISel : <span class="keyword">public</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html">SelectionDAGISel</a> {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  AVRDAGToDAGISel() = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  AVRDAGToDAGISel(<a class="code" href="classllvm_1_1AVRTargetMachine.html">AVRTargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">CodeGenOpt::Level</a> OptLevel)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      : <a class="code" href="classllvm_1_1SelectionDAGISel.html">SelectionDAGISel</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>, <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, OptLevel), Subtarget(<span class="keyword">nullptr</span>) {}</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="keywordtype">bool</span> runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordtype">bool</span> SelectAddr(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Disp);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordtype">bool</span> selectIndexedLoad(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordtype">unsigned</span> selectIndexedProgMemLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT, <span class="keywordtype">int</span> Bank);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordtype">bool</span> SelectInlineAsmMemoryOperand(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> ConstraintCode,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                    std::vector&lt;SDValue&gt; &amp;OutOps) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">// Include the pieces autogenerated from the target description.</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;AVRGenDAGISel.inc&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">bool</span> trySelect(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> NodeType&gt; <span class="keywordtype">bool</span> <a class="code" href="README-SSE_8txt.html#a9fb6cbbc77fb02ab3a51b0660bd09909">select</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">bool</span> selectMultiplication(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AVRSubtarget.html">AVRSubtarget</a> *Subtarget;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;};</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;} <span class="comment">// namespace</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">AVRDAGToDAGISel::ID</a> = 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<a class="code" href="PassSupport_8h.html#af807c9595d50b45c0008924c4679c85c">INITIALIZE_PASS</a>(AVRDAGToDAGISel, <a class="code" href="AVRISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>, <a class="code" href="AVRISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">PASS_NAME</a>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;bool AVRDAGToDAGISel::runOnMachineFunction(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;MF) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  Subtarget = &amp;MF.getSubtarget&lt;<a class="code" href="classllvm_1_1AVRSubtarget.html">AVRSubtarget</a>&gt;();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SelectionDAGISel.html#ac30dbb7b3dc79c161319d6569934614c">SelectionDAGISel::runOnMachineFunction</a>(MF);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keywordtype">bool</span> AVRDAGToDAGISel::SelectAddr(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Base,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                 <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;Disp) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = CurDAG-&gt;getDataLayout();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> PtrVT = getTargetLowering()-&gt;getPointerTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// if the address is a frame index get the TargetFrameIndex.</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1FrameIndexSDNode.html">FrameIndexSDNode</a> *FIN = dyn_cast&lt;FrameIndexSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = CurDAG-&gt;getTargetFrameIndex(FIN-&gt;getIndex(), PtrVT);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    Disp = CurDAG-&gt;getTargetConstant(0, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">// Match simple Reg + uimm6 operands.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() != <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a> &amp;&amp;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      !CurDAG-&gt;isBaseWithConstantOffset(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a> = dyn_cast&lt;ConstantSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(1))) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordtype">int</span> RHSC = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)<a class="code" href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a>-&gt;getZExtValue();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">// Convert negative offsets into positives ones.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      RHSC = -RHSC;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// &lt;#Frame index + const&gt;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// Allow folding offsets bigger than 63 so the frame pointer can be used</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// directly instead of copying it around by adjusting and restoring it for</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// each access.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0).getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">ISD::FrameIndex</a>) {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="keywordtype">int</span> FI = cast&lt;FrameIndexSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0))-&gt;getIndex();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = CurDAG-&gt;getTargetFrameIndex(FI, PtrVT);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      Disp = CurDAG-&gt;getTargetConstant(RHSC, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// The value type of the memory instruction determines what is the maximum</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// offset allowed.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = cast&lt;MemSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>)-&gt;getMemoryVT().getSimpleVT();</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// We only accept offsets that fit in 6 bits (unsigned).</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">if</span> (isUInt&lt;6&gt;(RHSC) &amp;&amp; (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a> || VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>)) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getOperand(0);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      Disp = CurDAG-&gt;getTargetConstant(RHSC, dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordtype">bool</span> AVRDAGToDAGISel::selectIndexedLoad(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = cast&lt;LoadSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31">ISD::MemIndexedMode</a> AM = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAddressingMode();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemoryVT().getSimpleVT();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="keyword">auto</span> PtrVT = getTargetLowering()-&gt;getPointerTy(CurDAG-&gt;getDataLayout());</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="comment">// We only care if this load uses a POSTINC or PREDEC mode.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getExtensionType() != <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a>) ||</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      (AM != <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a866c29237765ff291c9503abbdca60e1">ISD::POST_INC</a> &amp;&amp; AM != <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a57c3822f99653c422d5a21206adc6e42">ISD::PRE_DEC</a>)) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = 0;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keywordtype">bool</span> isPre = (AM == <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a57c3822f99653c422d5a21206adc6e42">ISD::PRE_DEC</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">int</span> Offs = cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOffset())-&gt;getSExtValue();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>: {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> ((!isPre &amp;&amp; Offs != 1) || (isPre &amp;&amp; Offs != -1)) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    Opcode = (isPre) ? AVR::LDRdPtrPd : AVR::LDRdPtrPi;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>: {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> ((!isPre &amp;&amp; Offs != 2) || (isPre &amp;&amp; Offs != -2)) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    Opcode = (isPre) ? AVR::LDWRdPtrPd : AVR::LDWRdPtrPi;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode =</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      CurDAG-&gt;getMachineNode(Opcode, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), VT, PtrVT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                             <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getBasePtr(), <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getChain());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  ReplaceUses(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, ResNode);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="keywordtype">unsigned</span> AVRDAGToDAGISel::selectIndexedProgMemLoad(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                   <span class="keywordtype">int</span> Bank) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// Progmem indexed loads only work in POSTINC mode.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getExtensionType() != <a class="code" href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">ISD::NON_EXTLOAD</a> ||</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getAddressingMode() != <a class="code" href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a866c29237765ff291c9503abbdca60e1">ISD::POST_INC</a>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="comment">// Feature ELPM is needed for loading from extended program memory.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((Bank == 0 || Subtarget-&gt;hasELPM()) &amp;&amp;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;         <span class="stringliteral">&quot;cannot load from extended program memory on this mcu&quot;</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = 0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordtype">int</span> Offs = cast&lt;ConstantSDNode&gt;(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getOffset())-&gt;getSExtValue();</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a> == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; Offs == 1 &amp;&amp; Bank == 0)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    Opcode = AVR::LPMRdZPi;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// TODO: Implements the expansion of the following pseudo instructions.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// LPMWRdZPi:  type == MVT::i16, offset == 2, Bank == 0.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// ELPMBRdZPi: type == MVT::i8,  offset == 1, Bank &gt;  0.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// ELPMWRdZPi: type == MVT::i16, offset == 2, Bank &gt;  0.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> Opcode;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="keywordtype">bool</span> AVRDAGToDAGISel::SelectInlineAsmMemoryOperand(</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, <span class="keywordtype">unsigned</span> ConstraintCode, std::vector&lt;SDValue&gt; &amp;OutOps) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((ConstraintCode == <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178">InlineAsm::Constraint_m</a> ||</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;          ConstraintCode == <a class="code" href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa2537727b3f0b8b545a1180bfa088ff70">InlineAsm::Constraint_Q</a>) &amp;&amp;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;         <span class="stringliteral">&quot;Unexpected asm memory constraint&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a> &amp;RI = MF-&gt;getRegInfo();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1AVRSubtarget.html">AVRSubtarget</a> &amp;STI = MF-&gt;getSubtarget&lt;<a class="code" href="classllvm_1_1AVRSubtarget.html">AVRSubtarget</a>&gt;();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetLowering.html">TargetLowering</a> &amp;TL = *STI.<a class="code" href="classllvm_1_1AVRSubtarget.html#aa87a8ced4926867a25a45aa6507df599">getTargetLowering</a>();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = CurDAG-&gt;getDataLayout();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterSDNode.html">RegisterSDNode</a> *RegNode = dyn_cast&lt;RegisterSDNode&gt;(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// If address operand is of PTRDISPREGS class, all is OK, then.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">if</span> (RegNode &amp;&amp;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      RI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(RegNode-&gt;<a class="code" href="classllvm_1_1RegisterSDNode.html#ab8c66a3a1cbe3f49973c120ae460fcd3">getReg</a>()) == &amp;AVR::PTRDISPREGSRegClass) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    OutOps.push_back(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">ISD::FrameIndex</a>) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Disp;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">if</span> (SelectAddr(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>.getNode(), <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, Base, Disp)) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      OutOps.push_back(Base);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      OutOps.push_back(Disp);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// If Op is add &#39;register, immediate&#39; and</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// register is either virtual register or register of PTRDISPREGSRegClass</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">ISD::ADD</a> || <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">ISD::SUB</a>) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CopyFromRegOp = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> ImmOp = <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="classllvm_1_1ConstantSDNode.html">ConstantSDNode</a> *ImmNode = dyn_cast&lt;ConstantSDNode&gt;(ImmOp);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordtype">bool</span> CanHandleRegImmOpt = ImmNode &amp;&amp; ImmNode-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>().<a class="code" href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">ult</a>(64);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> (CopyFromRegOp-&gt;<a class="code" href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">getOpcode</a>() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">ISD::CopyFromReg</a>) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="classllvm_1_1RegisterSDNode.html">RegisterSDNode</a> *RegNode =</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          cast&lt;RegisterSDNode&gt;(CopyFromRegOp-&gt;<a class="code" href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">getOperand</a>(1));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = RegNode-&gt;<a class="code" href="classllvm_1_1RegisterSDNode.html#ab8c66a3a1cbe3f49973c120ae460fcd3">getReg</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      CanHandleRegImmOpt &amp;= (<a class="code" href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">Register::isVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) ||</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                             AVR::PTRDISPREGSRegClass.contains(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>));</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      CanHandleRegImmOpt = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// If we detect proper case - correct virtual register class</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// if needed and go to another inlineasm operand.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (CanHandleRegImmOpt) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>, Disp;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (RI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">getRegClass</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) != &amp;AVR::PTRDISPREGSRegClass) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> dl(CopyFromRegOp);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = RI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AVR::PTRDISPREGSRegClass);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">CopyToReg</a> =</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            CurDAG-&gt;getCopyToReg(CopyFromRegOp, dl, VReg, CopyFromRegOp);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> NewCopyFromRegOp =</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            CurDAG-&gt;getCopyFromReg(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">CopyToReg</a>, dl, VReg, TL.getPointerTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = NewCopyFromRegOp;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = CopyFromRegOp;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">if</span> (ImmNode-&gt;<a class="code" href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">getValueType</a>(0) != <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>) {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        Disp = CurDAG-&gt;getTargetConstant(</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            ImmNode-&gt;<a class="code" href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">getAPIntValue</a>().<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>(), dl, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        Disp = ImmOp;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      OutOps.push_back(Base);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      OutOps.push_back(Disp);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">// More generic case.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// Create chain that puts Op into pointer register</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// and return that register.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = RI.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">createVirtualRegister</a>(&amp;AVR::PTRDISPREGSRegClass);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">CopyToReg</a> = CurDAG-&gt;getCopyToReg(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, dl, VReg, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">CopyFromReg</a> =</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      CurDAG-&gt;getCopyFromReg(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">CopyToReg</a>, dl, VReg, TL.getPointerTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  OutOps.push_back(<a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">CopyFromReg</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#ad8797a2f3292ccfcfbdd7deee7e25945">  305</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keywordtype">bool</span> AVRDAGToDAGISel::select&lt;ISD::FrameIndex&gt;(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">auto</span> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = CurDAG-&gt;getDataLayout();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">// Convert the frameindex into a temp instruction that will hold the</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="comment">// effective address of the final stack slot.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordtype">int</span> FI = cast&lt;FrameIndexSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>)-&gt;getIndex();</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> TFI =</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      CurDAG-&gt;getTargetFrameIndex(FI, getTargetLowering()-&gt;getPointerTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  CurDAG-&gt;SelectNodeTo(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, AVR::FRMIDX, getTargetLowering()-&gt;getPointerTy(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>),</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                       TFI, CurDAG-&gt;getTargetConstant(0, <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>), <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>));</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#ae711b36c828904fa303e8b920c057f41">  319</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keywordtype">bool</span> AVRDAGToDAGISel::select&lt;ISD::STORE&gt;(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">// Use the STD{W}SPQRr pseudo instruction when passing arguments through</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="comment">// the stack on function calls for further expansion during the PEI phase.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1StoreSDNode.html">StoreSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a> = cast&lt;StoreSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> BasePtr = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// Early exit when the base pointer is a frame index node or a constant.</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">if</span> (isa&lt;FrameIndexSDNode&gt;(BasePtr) || isa&lt;ConstantSDNode&gt;(BasePtr) ||</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      BasePtr.isUndef()) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1RegisterSDNode.html">RegisterSDNode</a> *<a class="code" href="README__P9_8txt.html#aea3337f3785f600391756877218a55ba">RN</a> = dyn_cast&lt;RegisterSDNode&gt;(BasePtr.getOperand(0));</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="comment">// Only stores where SP is the base pointer are valid.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="README__P9_8txt.html#aea3337f3785f600391756877218a55ba">RN</a> || (<a class="code" href="README__P9_8txt.html#aea3337f3785f600391756877218a55ba">RN</a>-&gt;getReg() != AVR::SP)) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordtype">int</span> CST = (<a class="code" href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a>)cast&lt;ConstantSDNode&gt;(BasePtr.getOperand(1))-&gt;getZExtValue();</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getChain();</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="structllvm_1_1EVT.html">EVT</a> VT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getValue().getValueType();</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a> = CurDAG-&gt;getTargetConstant(CST, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Ops[] = {BasePtr.getOperand(0), <a class="code" href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">Offset</a>, <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getValue(), Chain};</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordtype">unsigned</span> Opc = (VT == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>) ? AVR::STDWSPQRr : AVR::STDSPQRr;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode = CurDAG-&gt;getMachineNode(Opc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Ops);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="comment">// Transfer memory operands.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  CurDAG-&gt;setNodeMemRefs(cast&lt;MachineSDNode&gt;(ResNode), {<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">ST</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 0));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#a566a922274e3694fe81033c9abce79a2">  356</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keywordtype">bool</span> AVRDAGToDAGISel::select&lt;ISD::LOAD&gt;(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LoadSDNode.html">LoadSDNode</a> *<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a> = cast&lt;LoadSDNode&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1AVR.html#a2c128ac074d92126c8983e21aadbd9e4">AVR::isProgramMemoryAccess</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>)) {</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Check if the opcode can be converted into an indexed load.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordflow">return</span> selectIndexedLoad(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (!Subtarget-&gt;hasLPM())</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;cannot load from program memory on this mcu&quot;</span>);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordtype">int</span> ProgMemBank = <a class="code" href="namespacellvm_1_1AVR.html#aaa04c08d1a30024d2dc3de761ff3167d">AVR::getProgramMemoryBank</a>(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;  <span class="keywordflow">if</span> (ProgMemBank &lt; 0 || ProgMemBank &gt; 5)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;unexpected program memory bank&quot;</span>);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="comment">// This is a flash memory load, move the pointer into R31R30 and emit</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// the lpm instruction.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> VT = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemoryVT().getSimpleVT();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getChain();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = <a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getBasePtr();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  Chain = CurDAG-&gt;getCopyToReg(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R31R30, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>());</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = CurDAG-&gt;getCopyFromReg(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R31R30, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                               Chain.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="comment">// Check if the opcode can be converted into an indexed load.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span> LPMOpc = selectIndexedProgMemLoad(<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>, VT, ProgMemBank)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// It is legal to fold the load into an indexed load.</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (ProgMemBank == 0) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      ResNode =</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          CurDAG-&gt;getMachineNode(LPMOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <span class="comment">// Do not combine the LDI instruction into the ELPM pseudo instruction,</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <span class="comment">// since it may be reused by other ELPM pseudo instructions.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = CurDAG-&gt;getTargetConstant(ProgMemBank, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keyword">auto</span> *NP = CurDAG-&gt;getMachineNode(AVR::LDIRdK, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      ResNode = CurDAG-&gt;getMachineNode(LPMOpc, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, VT, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                       <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NP, 0));</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// Selecting an indexed load is not legal, fallback to a normal load.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">switch</span> (VT.<a class="code" href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">SimpleTy</a>) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>:</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">if</span> (ProgMemBank == 0) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        ResNode =</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            CurDAG-&gt;getMachineNode(AVR::LPMRdZ, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="comment">// Do not combine the LDI instruction into the ELPM pseudo instruction,</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="comment">// since it may be reused by other ELPM pseudo instructions.</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = CurDAG-&gt;getTargetConstant(ProgMemBank, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keyword">auto</span> *NP = CurDAG-&gt;getMachineNode(AVR::LDIRdK, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        ResNode = CurDAG-&gt;getMachineNode(AVR::ELPMBRdZ, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                                         <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NP, 0));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>:</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span> (ProgMemBank == 0) {</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        ResNode =</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            CurDAG-&gt;getMachineNode(AVR::LPMWRdZ, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="comment">// Do not combine the LDI instruction into the ELPM pseudo instruction,</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="comment">// since LDI requires the destination register in range R16~R31.</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a> = CurDAG-&gt;getTargetConstant(ProgMemBank, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keyword">auto</span> *NP = CurDAG-&gt;getMachineNode(AVR::LDIRdK, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a>, <a class="code" href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a>);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        ResNode = CurDAG-&gt;getMachineNode(AVR::ELPMWRdZ, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>,</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                                         <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(NP, 0));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unsupported VT!&quot;</span>);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  }</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="comment">// Transfer memory operands.</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  CurDAG-&gt;setNodeMemRefs(cast&lt;MachineSDNode&gt;(ResNode), {<a class="code" href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">LD</a>-&gt;getMemOperand()});</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 0));</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 1));</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#ae5156eb20a86dab517fe5b8e19fac322">  440</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keywordtype">bool</span> AVRDAGToDAGISel::select&lt;AVRISD::CALL&gt;(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InFlag;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordtype">unsigned</span> LastOpNum = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getNumOperands() - 1;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// Direct calls are autogenerated.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> = <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.getOpcode();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2">ISD::TargetGlobalAddress</a> || <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f">ISD::TargetExternalSymbol</a>) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Skip the incoming flag if present</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(LastOpNum).getValueType() == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    --LastOpNum;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  Chain = CurDAG-&gt;getCopyToReg(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R31R30, <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>, InFlag);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SDValue, 8&gt;</a> Ops;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  Ops.push_back(CurDAG-&gt;getRegister(AVR::R31R30, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">MVT::i16</a>));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160; </div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="comment">// Map all operands into the new node.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 2, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = LastOpNum + 1; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    Ops.push_back(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  Ops.push_back(Chain);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  Ops.push_back(Chain.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1));</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode = CurDAG-&gt;getMachineNode(</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      Subtarget-&gt;hasEIJMPCALL() ? AVR::EICALL : AVR::ICALL, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>, Ops);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 0));</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 1));</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="AVRISelDAGToDAG_8cpp.html#ae23f9c249fde8d223579843fb4e03682">  481</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keywordtype">bool</span> AVRDAGToDAGISel::select&lt;ISD::BRIND&gt;(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Chain = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> JmpAddr = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// Move the destination address of the indirect branch into R31R30.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  Chain = CurDAG-&gt;getCopyToReg(Chain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R31R30, JmpAddr);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *ResNode = CurDAG-&gt;getMachineNode(AVR::IJMP, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">MVT::Other</a>, Chain);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(ResNode, 0));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="keywordtype">bool</span> AVRDAGToDAGISel::selectMultiplication(<a class="code" href="classllvm_1_1SDNode.html">llvm::SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="classllvm_1_1MVT.html">MVT</a> <a class="code" href="classllvm_1_1Type.html">Type</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getSimpleValueType(0);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Type.html">Type</a> == <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">MVT::i8</a> &amp;&amp; <span class="stringliteral">&quot;unexpected value type&quot;</span>);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode() == <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordtype">unsigned</span> MachineOp = <a class="code" href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a> ? AVR::MULSRdRr : AVR::MULRdRr;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Lhs = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(0);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> Rhs = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOperand(1);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a> = CurDAG-&gt;getMachineNode(MachineOp, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">MVT::Glue</a>, Lhs, Rhs);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InChain = CurDAG-&gt;getEntryNode();</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> InGlue = <a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(Mul, 0);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="comment">// Copy the low half of the result, if it is needed.</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;hasAnyUseOfValue(0)) {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CopyFromLo =</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        CurDAG-&gt;getCopyFromReg(InChain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R0, <a class="code" href="classllvm_1_1Type.html">Type</a>, InGlue);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 0), CopyFromLo);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    InChain = CopyFromLo.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    InGlue = CopyFromLo.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(2);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// Copy the high half of the result, if it is needed.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;hasAnyUseOfValue(1)) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="classllvm_1_1SDValue.html">SDValue</a> CopyFromHi =</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        CurDAG-&gt;getCopyFromReg(InChain, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, AVR::R1, <a class="code" href="classllvm_1_1Type.html">Type</a>, InGlue);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160; </div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    ReplaceUses(<a class="code" href="classllvm_1_1SDValue.html">SDValue</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, 1), CopyFromHi);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    InChain = CopyFromHi.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(1);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    InGlue = CopyFromHi.<a class="code" href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">getValue</a>(2);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160; </div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  CurDAG-&gt;RemoveDeadNode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// We need to clear R1. This is currently done (dirtily)</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="comment">// using a custom inserter.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;}</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="keywordtype">void</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">AVRDAGToDAGISel::Select</a>(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// If we have a custom node, we already have selected!</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;isMachineOpcode()) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;== &quot;</span>; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;dump(CurDAG); <a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;setNodeId(-1);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160; </div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="comment">// See if subclasses can handle this node.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> (trySelect(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>))</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// Select the default instruction</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  SelectCode(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;<span class="keywordtype">bool</span> AVRDAGToDAGISel::trySelect(<a class="code" href="classllvm_1_1SDNode.html">SDNode</a> *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordtype">unsigned</span> Opcode = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;getOpcode();</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <a class="code" href="classllvm_1_1SDLoc.html">SDLoc</a> <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">switch</span> (Opcode) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Nodes we fully handle.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">ISD::FrameIndex</a>:</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">return</span> select&lt;ISD::FrameIndex&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a716765ad6ce5be71f987cd2097b1cdbf">ISD::BRIND</a>:</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> select&lt;ISD::BRIND&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">ISD::UMUL_LOHI</a>:</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">ISD::SMUL_LOHI</a>:</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> selectMultiplication(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160; </div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="comment">// Nodes we handle partially. Other cases are autogenerated</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">ISD::STORE</a>:</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">return</span> select&lt;ISD::STORE&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">ISD::LOAD</a>:</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">return</span> select&lt;ISD::LOAD&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1AVRISD.html#a074d5b8568a8b970d7cea9d14451303bacd14559412678950d5d722437202c764">AVRISD::CALL</a>:</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">return</span> select&lt;AVRISD::CALL&gt;(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;}</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160; </div>
<div class="line"><a name="l00583"></a><span class="lineno"><a class="line" href="namespacellvm.html#a24888cd5b197ff1aa683309b6d22a2fa">  583</a></span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html#a24888cd5b197ff1aa683309b6d22a2fa">llvm::createAVRISelDag</a>(<a class="code" href="classllvm_1_1AVRTargetMachine.html">AVRTargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>,</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                                     <a class="code" href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">CodeGenOpt::Level</a> OptLevel) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> AVRDAGToDAGISel(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>, OptLevel);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a9fa617e5567c3c2638938f7b9ddc3f1c">llvm::ISD::SUB</a></div><div class="ttdeci">@ SUB</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00240">ISDOpcodes.h:240</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html">llvm::ConstantSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01586">SelectionDAGNodes.h:1586</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterSDNode_html"><div class="ttname"><a href="classllvm_1_1RegisterSDNode.html">llvm::RegisterSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02165">SelectionDAGNodes.h:2165</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31">llvm::ISD::MemIndexedMode</a></div><div class="ttdeci">MemIndexedMode</div><div class="ttdoc">MemIndexedMode enum - This enum defines the load / store indexed addressing modes.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01383">ISDOpcodes.h:1383</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_ac0a534d63ac5c5b87f36acdade953fbe"><div class="ttname"><a href="classllvm_1_1SDNode.html#ac0a534d63ac5c5b87f36acdade953fbe">llvm::SDNode::getValueType</a></div><div class="ttdeci">EVT getValueType(unsigned ResNo) const</div><div class="ttdoc">Return the type of a specified result.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00986">SelectionDAGNodes.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDLoc_html"><div class="ttname"><a href="classllvm_1_1SDLoc.html">llvm::SDLoc</a></div><div class="ttdoc">Wrapper class for IR location info (IR ordering and DebugLoc) to be passed into SDNode creation funct...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01106">SelectionDAGNodes.h:1106</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5c77792a06583e0fe7a0379ad94a2809"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5c77792a06583e0fe7a0379ad94a2809">llvm::MachineRegisterInfo::createVirtualRegister</a></div><div class="ttdeci">Register createVirtualRegister(const TargetRegisterClass *RegClass, StringRef Name=&quot;&quot;)</div><div class="ttdoc">createVirtualRegister - Create and return a new virtual register in the function with the specified r...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00157">MachineRegisterInfo.cpp:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantSDNode_html_a8913b35cb4401e4e849fa244c7c279d1"><div class="ttname"><a href="classllvm_1_1ConstantSDNode.html#a8913b35cb4401e4e849fa244c7c279d1">llvm::ConstantSDNode::getAPIntValue</a></div><div class="ttdeci">const APInt &amp; getAPIntValue() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01600">SelectionDAGNodes.h:1600</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3"><div class="ttname"><a href="namespacellvm_1_1ISD.html#ad4d48171b87ca51ff54c10a436bac4d7a6aacde2c67988b43a261a7f7ceac4be3">llvm::ISD::NON_EXTLOAD</a></div><div class="ttdeci">@ NON_EXTLOAD</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01414">ISDOpcodes.h:1414</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31a57c3822f99653c422d5a21206adc6e42"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a57c3822f99653c422d5a21206adc6e42">llvm::ISD::PRE_DEC</a></div><div class="ttdeci">@ PRE_DEC</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01383">ISDOpcodes.h:1383</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85a7289f7156c17c31399fe5226bf556781">llvm::ARM_MB::LD</a></div><div class="ttdeci">@ LD</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00072">ARMBaseInfo.h:72</a></div></div>
<div class="ttc" id="aclassllvm_1_1AVRTargetMachine_html"><div class="ttname"><a href="classllvm_1_1AVRTargetMachine.html">llvm::AVRTargetMachine</a></div><div class="ttdoc">A generic AVR implementation.</div><div class="ttdef"><b>Definition:</b> <a href="AVRTargetMachine_8h_source.html#l00030">AVRTargetMachine.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html"><div class="ttname"><a href="classllvm_1_1SDNode.html">llvm::SDNode</a></div><div class="ttdoc">Represents one node in the SelectionDAG.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00463">SelectionDAGNodes.h:463</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadSDNode_html"><div class="ttname"><a href="classllvm_1_1LoadSDNode.html">llvm::LoadSDNode</a></div><div class="ttdoc">This class is used to represent ISD::LOAD nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02348">SelectionDAGNodes.h:2348</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a59a1908cf136662bcfdc11ed49515ca9">llvm::MVT::Glue</a></div><div class="ttdeci">@ Glue</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00282">MachineValueType.h:282</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_a87b8bfbbe9d8f7146d7f20a5fb42efd0"><div class="ttname"><a href="X86PartialReduction_8cpp.html#a87b8bfbbe9d8f7146d7f20a5fb42efd0">RHS</a></div><div class="ttdeci">Value * RHS</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00076">X86PartialReduction.cpp:76</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AVRISD_html_a074d5b8568a8b970d7cea9d14451303bacd14559412678950d5d722437202c764"><div class="ttname"><a href="namespacellvm_1_1AVRISD.html#a074d5b8568a8b970d7cea9d14451303bacd14559412678950d5d722437202c764">llvm::AVRISD::CALL</a></div><div class="ttdeci">@ CALL</div><div class="ttdoc">Represents an abstract call instruction, which includes a bunch of information.</div><div class="ttdef"><b>Definition:</b> <a href="AVRISelLowering_8h_source.html#l00034">AVRISelLowering.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a716765ad6ce5be71f987cd2097b1cdbf"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a716765ad6ce5be71f987cd2097b1cdbf">llvm::ISD::BRIND</a></div><div class="ttdeci">@ BRIND</div><div class="ttdoc">BRIND - Indirect branch.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00986">ISDOpcodes.h:986</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_a23f2f5947fc429aff1270651c6d019ea"><div class="ttname"><a href="classllvm_1_1SDNode.html#a23f2f5947fc429aff1270651c6d019ea">llvm::SDNode::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Return the SelectionDAG opcode value for this node.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00644">SelectionDAGNodes.h:644</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baa2537727b3f0b8b545a1180bfa088ff70"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa2537727b3f0b8b545a1180bfa088ff70">llvm::InlineAsm::Constraint_Q</a></div><div class="ttdeci">@ Constraint_Q</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00263">InlineAsm.h:263</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a9fb6cbbc77fb02ab3a51b0660bd09909"><div class="ttname"><a href="README-SSE_8txt.html#a9fb6cbbc77fb02ab3a51b0660bd09909">select</a></div><div class="ttdeci">into xmm2 addss xmm2 xmm1 xmm3 addss xmm3 movaps xmm0 unpcklps xmm0 ret seems silly when it could just be one addps Expand libm rounding functions main should enable SSE DAZ mode and other fast SSE modes Think about doing i64 math in SSE regs on x86 This testcase should have no SSE instructions in and only one load from a constant double ret double C the select is being which prevents the dag combiner from turning select(load CPI1)</div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a93bc27ca4d9e211c54b0d9efb660f080">llvm::ISD::CopyToReg</a></div><div class="ttdeci">@ CopyToReg</div><div class="ttdoc">CopyToReg - This node has three operands: a chain, a register number to set to this value,...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00203">ISDOpcodes.h:203</a></div></div>
<div class="ttc" id="astructllvm_1_1EVT_html"><div class="ttname"><a href="structllvm_1_1EVT.html">llvm::EVT</a></div><div class="ttdoc">Extended Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTypes_8h_source.html#l00034">ValueTypes.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1AVRSubtarget_html"><div class="ttname"><a href="classllvm_1_1AVRSubtarget.html">llvm::AVRSubtarget</a></div><div class="ttdoc">A specific AVR target MCU.</div><div class="ttdef"><b>Definition:</b> <a href="AVRSubtarget_8h_source.html#l00032">AVRSubtarget.h:32</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a3217063f680fa8e35dea3c59b6e52b18"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a3217063f680fa8e35dea3c59b6e52b18">int</a></div><div class="ttdeci">Clang compiles this i1 i64 store i64 i64 store i64 i64 store i64 i64 store i64 align Which gets codegen d xmm0 movaps rbp movaps rbp movaps rbp movaps rbp rbp rbp rbp rbp It would be better to have movq s of instead of the movaps s LLVM produces ret int</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00536">README.txt:536</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetLowering_html"><div class="ttname"><a href="classllvm_1_1TargetLowering.html">llvm::TargetLowering</a></div><div class="ttdoc">This class defines information used to lower LLVM code to legal SelectionDAG operators that the targe...</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l03515">TargetLowering.h:3515</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_af807c9595d50b45c0008924c4679c85c"><div class="ttname"><a href="PassSupport_8h.html#af807c9595d50b45c0008924c4679c85c">INITIALIZE_PASS</a></div><div class="ttdeci">#define INITIALIZE_PASS(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00038">PassSupport.h:38</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a27bda7d8e8e4f0337650a892f3c9b46a"><div class="ttname"><a href="classllvm_1_1MVT.html#a27bda7d8e8e4f0337650a892f3c9b46a">llvm::MVT::SimpleTy</a></div><div class="ttdeci">SimpleValueType SimpleTy</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00341">MachineValueType.h:341</a></div></div>
<div class="ttc" id="aclassllvm_1_1RegisterSDNode_html_ab8c66a3a1cbe3f49973c120ae460fcd3"><div class="ttname"><a href="classllvm_1_1RegisterSDNode.html#ab8c66a3a1cbe3f49973c120ae460fcd3">llvm::RegisterSDNode::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02174">SelectionDAGNodes.h:2174</a></div></div>
<div class="ttc" id="aclassllvm_1_1AVRSubtarget_html_aa87a8ced4926867a25a45aa6507df599"><div class="ttname"><a href="classllvm_1_1AVRSubtarget.html#aa87a8ced4926867a25a45aa6507df599">llvm::AVRSubtarget::getTargetLowering</a></div><div class="ttdeci">const AVRTargetLowering * getTargetLowering() const override</div><div class="ttdef"><b>Definition:</b> <a href="AVRSubtarget_8h_source.html#l00046">AVRSubtarget.h:46</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1FrameIndexSDNode_html"><div class="ttname"><a href="classllvm_1_1FrameIndexSDNode.html">llvm::FrameIndexSDNode</a></div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l01789">SelectionDAGNodes.h:1789</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a87b8176af163ee944af127081d24f4a2">llvm::ISD::TargetGlobalAddress</a></div><div class="ttdeci">@ TargetGlobalAddress</div><div class="ttdoc">TargetGlobalAddress - Like GlobalAddress, but the DAG does no folding or anything else with this node...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00164">ISDOpcodes.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a84c47705bcf7271413738ae8bf3871e6">llvm::ISD::CopyFromReg</a></div><div class="ttdeci">@ CopyFromReg</div><div class="ttdoc">CopyFromReg - This node indicates that the input value is a virtual or physical register that is defi...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00208">ISDOpcodes.h:208</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aa363afffca4fc13a709673936b47fe33"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aa363afffca4fc13a709673936b47fe33">llvm::MachineRegisterInfo::getRegClass</a></div><div class="ttdeci">const TargetRegisterClass * getRegClass(Register Reg) const</div><div class="ttdoc">Return the register class of the specified virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00661">MachineRegisterInfo.h:661</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_abee7ecb577fcade34eb16ccb7f503e31a866c29237765ff291c9503abbdca60e1"><div class="ttname"><a href="namespacellvm_1_1ISD.html#abee7ecb577fcade34eb16ccb7f503e31a866c29237765ff291c9503abbdca60e1">llvm::ISD::POST_INC</a></div><div class="ttdeci">@ POST_INC</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l01383">ISDOpcodes.h:1383</a></div></div>
<div class="ttc" id="aAVRISelDAGToDAG_8cpp_html_acf9235cddac26ff3f81e8c56849bcaac"><div class="ttname"><a href="AVRISelDAGToDAG_8cpp.html#acf9235cddac26ff3f81e8c56849bcaac">PASS_NAME</a></div><div class="ttdeci">#define PASS_NAME</div><div class="ttdef"><b>Definition:</b> <a href="AVRISelDAGToDAG_8cpp_source.html#l00023">AVRISelDAGToDAG.cpp:23</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269b81f007000306e3e69d0d290c2159">llvm::ISD::LOAD</a></div><div class="ttdeci">@ LOAD</div><div class="ttdoc">LOAD and STORE have token chains as their first operand, then the same operands as an LLVM load/store...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00965">ISDOpcodes.h:965</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__MB_html_ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2"><div class="ttname"><a href="namespacellvm_1_1ARM__MB.html#ad70272e2a9ec2a7e3a497458e1edbc85aed0b9bef861c96eee19e89db753db7b2">llvm::ARM_MB::ST</a></div><div class="ttdeci">@ ST</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00073">ARMBaseInfo.h:73</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDNode_html_aa167dab8c514d863ec44909befac3050"><div class="ttname"><a href="classllvm_1_1SDNode.html#aa167dab8c514d863ec44909befac3050">llvm::SDNode::getOperand</a></div><div class="ttdeci">const SDValue &amp; getOperand(unsigned Num) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00921">SelectionDAGNodes.h:921</a></div></div>
<div class="ttc" id="aAVRTargetMachine_8h_html"><div class="ttname"><a href="AVRTargetMachine_8h.html">AVRTargetMachine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_ab94ac0eb79655589fb116359f862886c"><div class="ttname"><a href="classllvm_1_1Register.html#ab94ac0eb79655589fb116359f862886c">llvm::Register::isVirtualRegister</a></div><div class="ttdeci">static bool isVirtualRegister(unsigned Reg)</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00071">Register.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreSDNode_html"><div class="ttname"><a href="classllvm_1_1StoreSDNode.html">llvm::StoreSDNode</a></div><div class="ttdoc">This class is used to represent ISD::STORE nodes.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l02376">SelectionDAGNodes.h:2376</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html_a64932427432abeb61241e98bea167580"><div class="ttname"><a href="classllvm_1_1SDValue.html#a64932427432abeb61241e98bea167580">llvm::SDValue::getValue</a></div><div class="ttdeci">SDValue getValue(unsigned R) const</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00179">SelectionDAGNodes.h:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346af777e086e32f60c0c87b460964eae7d0">llvm::MVT::i8</a></div><div class="ttdeci">@ i8</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00046">MachineValueType.h:46</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346a62a222acce6360abd2726719fabc2797">llvm::MVT::Other</a></div><div class="ttdeci">@ Other</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00042">MachineValueType.h:42</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aAVRMCTargetDesc_8h_html"><div class="ttname"><a href="AVRMCTargetDesc_8h.html">AVRMCTargetDesc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html"><div class="ttname"><a href="classllvm_1_1MVT.html">llvm::MVT</a></div><div class="ttdoc">Machine Value Type.</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00031">MachineValueType.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aSelectionDAGISel_8h_html"><div class="ttname"><a href="SelectionDAGISel_8h.html">SelectionDAGISel.h</a></div></div>
<div class="ttc" id="aX86PartialReduction_8cpp_html_ae0f503db91504a3f3440ab81260e4134"><div class="ttname"><a href="X86PartialReduction_8cpp.html#ae0f503db91504a3f3440ab81260e4134">Mul</a></div><div class="ttdeci">BinaryOperator * Mul</div><div class="ttdef"><b>Definition:</b> <a href="X86PartialReduction_8cpp_source.html#l00070">X86PartialReduction.cpp:70</a></div></div>
<div class="ttc" id="anamespacellvm_html_a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4"><div class="ttname"><a href="namespacellvm.html#a05f5b9a11bdcc5feba62899f95dcf878a3134224cba2545bc57954d3b072aebb4">llvm::Offset</a></div><div class="ttdeci">@ Offset</div><div class="ttdef"><b>Definition:</b> <a href="DWP_8cpp_source.html#l00406">DWP.cpp:406</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a79c959df09509d7ff66d9b04bc40d18d">llvm::ISD::UMUL_LOHI</a></div><div class="ttdeci">@ UMUL_LOHI</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00251">ISDOpcodes.h:251</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_html_a24888cd5b197ff1aa683309b6d22a2fa"><div class="ttname"><a href="namespacellvm.html#a24888cd5b197ff1aa683309b6d22a2fa">llvm::createAVRISelDag</a></div><div class="ttdeci">FunctionPass * createAVRISelDag(AVRTargetMachine &amp;TM, CodeGenOpt::Level OptLevel)</div><div class="ttdef"><b>Definition:</b> <a href="AVRISelDAGToDAG_8cpp_source.html#l00583">AVRISelDAGToDAG.cpp:583</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a1354c6f8508d6cd697dc89a5d9a52dfd">llvm::ISD::SMUL_LOHI</a></div><div class="ttdeci">@ SMUL_LOHI</div><div class="ttdoc">SMUL_LOHI/UMUL_LOHI - Multiply two integers of type iN, producing a signed/unsigned value of type i[2...</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00250">ISDOpcodes.h:250</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a545e8d5dfa1688acea0d0e275b03682f"><div class="ttname"><a href="classllvm_1_1APInt.html#a545e8d5dfa1688acea0d0e275b03682f">llvm::APInt::ult</a></div><div class="ttdeci">bool ult(const APInt &amp;RHS) const</div><div class="ttdoc">Unsigned less than comparison.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01089">APInt.h:1089</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AVR_html_aaa04c08d1a30024d2dc3de761ff3167d"><div class="ttname"><a href="namespacellvm_1_1AVR.html#aaa04c08d1a30024d2dc3de761ff3167d">llvm::AVR::getProgramMemoryBank</a></div><div class="ttdeci">int getProgramMemoryBank(MemSDNode const *N)</div><div class="ttdef"><b>Definition:</b> <a href="AVR_8h_source.html#l00086">AVR.h:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a4b437632fd9b97dd36010d85eb363efe">llvm::ISD::FrameIndex</a></div><div class="ttdeci">@ FrameIndex</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00080">ISDOpcodes.h:80</a></div></div>
<div class="ttc" id="aregutils_8h_html_a1fa2460e32327ade49189c95740bc1b5"><div class="ttname"><a href="regutils_8h.html#a1fa2460e32327ade49189c95740bc1b5">NC</a></div><div class="ttdeci">#define NC</div><div class="ttdef"><b>Definition:</b> <a href="regutils_8h_source.html#l00042">regutils.h:42</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a59b314018a929255951f01f8daaae72f">llvm::ISD::TargetExternalSymbol</a></div><div class="ttdeci">@ TargetExternalSymbol</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00169">ISDOpcodes.h:169</a></div></div>
<div class="ttc" id="aclassllvm_1_1SDValue_html"><div class="ttname"><a href="classllvm_1_1SDValue.html">llvm::SDValue</a></div><div class="ttdoc">Unlike LLVM values, Selection DAG nodes may return multiple values as the result of a computation.</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGNodes_8h_source.html#l00145">SelectionDAGNodes.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1InlineAsm_html_a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178"><div class="ttname"><a href="classllvm_1_1InlineAsm.html#a9e020cbab32f9a2ec3f777d603dd34baa63f9eb7f82b63667dcebcc51b1dea178">llvm::InlineAsm::Constraint_m</a></div><div class="ttdeci">@ Constraint_m</div><div class="ttdef"><b>Definition:</b> <a href="InlineAsm_8h_source.html#l00259">InlineAsm.h:259</a></div></div>
<div class="ttc" id="aAVR_8h_html"><div class="ttname"><a href="AVR_8h.html">AVR.h</a></div></div>
<div class="ttc" id="aAVRISelDAGToDAG_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="AVRISelDAGToDAG_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="AVRISelDAGToDAG_8cpp_source.html#l00022">AVRISelDAGToDAG.cpp:22</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a047178c3b2c6a5df40ae22a407b8aca9">llvm::ISD::STORE</a></div><div class="ttdeci">@ STORE</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00966">ISDOpcodes.h:966</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ISD_html_a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535"><div class="ttname"><a href="namespacellvm_1_1ISD.html#a22ea9cec080dd5f4f47ba234c2f59110a269996b43a1f3e1d1f84a70fd4387535">llvm::ISD::ADD</a></div><div class="ttdeci">@ ADD</div><div class="ttdoc">Simple integer binary arithmetic operators.</div><div class="ttdef"><b>Definition:</b> <a href="ISDOpcodes_8h_source.html#l00239">ISDOpcodes.h:239</a></div></div>
<div class="ttc" id="aExpandLargeDivRem_8cpp_html_a49b2092a066cfbc24bc6925bdea9682a"><div class="ttname"><a href="ExpandLargeDivRem_8cpp.html#a49b2092a066cfbc24bc6925bdea9682a">isSigned</a></div><div class="ttdeci">static bool isSigned(unsigned int Opcode)</div><div class="ttdef"><b>Definition:</b> <a href="ExpandLargeDivRem_8cpp_source.html#l00052">ExpandLargeDivRem.cpp:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html">llvm::SelectionDAGISel</a></div><div class="ttdoc">SelectionDAGISel - This is the common base class used for SelectionDAG-based pattern-matching instruc...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8h_source.html#l00041">SelectionDAGISel.h:41</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1MVT_html_a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683"><div class="ttname"><a href="classllvm_1_1MVT.html#a330aea6151cae3adaf5e179dcfe87346ab3be25b50efa0289a3c86fd50454b683">llvm::MVT::i16</a></div><div class="ttdeci">@ i16</div><div class="ttdef"><b>Definition:</b> <a href="MachineValueType_8h_source.html#l00047">MachineValueType.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CodeGenOpt_html_ad7e52174abb1cfb84238ad1ac475ee36"><div class="ttname"><a href="namespacellvm_1_1CodeGenOpt.html#ad7e52174abb1cfb84238ad1ac475ee36">llvm::CodeGenOpt::Level</a></div><div class="ttdeci">Level</div><div class="ttdoc">Code generation optimization level.</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00057">CodeGen.h:57</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_aea3337f3785f600391756877218a55ba"><div class="ttname"><a href="README__P9_8txt.html#aea3337f3785f600391756877218a55ba">RN</a></div><div class="ttdeci">It looks like we only need to define PPCfmarto for these because according to these instructions perform RTO on fma s src2 rnd ← FPSCR RN</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00262">README_P9.txt:262</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectionDAGISel_html_ac30dbb7b3dc79c161319d6569934614c"><div class="ttname"><a href="classllvm_1_1SelectionDAGISel.html#ac30dbb7b3dc79c161319d6569934614c">llvm::SelectionDAGISel::runOnMachineFunction</a></div><div class="ttdeci">bool runOnMachineFunction(MachineFunction &amp;MF) override</div><div class="ttdoc">runOnMachineFunction - This method must be overloaded to perform the desired machine code transformat...</div><div class="ttdef"><b>Definition:</b> <a href="SelectionDAGISel_8cpp_source.html#l00381">SelectionDAGISel.cpp:381</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AVR_html_a2c128ac074d92126c8983e21aadbd9e4"><div class="ttname"><a href="namespacellvm_1_1AVR.html#a2c128ac074d92126c8983e21aadbd9e4">llvm::AVR::isProgramMemoryAccess</a></div><div class="ttdeci">bool isProgramMemoryAccess(MemSDNode const *N)</div><div class="ttdef"><b>Definition:</b> <a href="AVR_8h_source.html#l00075">AVR.h:75</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:11:32 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
