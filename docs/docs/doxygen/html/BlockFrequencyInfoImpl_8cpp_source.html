<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Analysis/BlockFrequencyInfoImpl.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a25db018342d3ae6c7e6779086c18378.html">Analysis</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BlockFrequencyInfoImpl.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BlockFrequencyInfoImpl_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- BlockFrequencyImplInfo.cpp - Block Frequency Info Implementation ---===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Loops should be simplified before this analysis.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequencyInfoImpl_8h.html">llvm/Analysis/BlockFrequencyInfoImpl.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="APInt_8h.html">llvm/ADT/APInt.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SCCIterator_8h.html">llvm/ADT/SCCIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BlockFrequency_8h.html">llvm/Support/BlockFrequency.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BranchProbability_8h.html">llvm/Support/BranchProbability.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ScaledNumber_8h.html">llvm/Support/ScaledNumber.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;numeric&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm_1_1bfi__detail.html">llvm::bfi_detail</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   40</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;block-freq&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">CheckBFIUnknownBlockQueries</a>(</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="stringliteral">&quot;check-bfi-unknown-block-queries&quot;</span>,</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Check if block frequency is queried for an unknown block &quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;             <span class="stringliteral">&quot;for debugging missed BFI updates&quot;</span>));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a598a6261818f8c015f4ebd74ad4ae81a">UseIterativeBFIInference</a>(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="stringliteral">&quot;use-iterative-bfi-inference&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Apply an iterative post-processing to infer correct BFI counts&quot;</span>));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;unsigned&gt;</a> <a class="code" href="namespacellvm.html#a94af5377a23091e9f0cf395b6e129dfb">IterativeBFIMaxIterationsPerBlock</a>(</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="stringliteral">&quot;iterative-bfi-max-iterations-per-block&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(1000), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Iterative inference: maximum number of update iterations &quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;             <span class="stringliteral">&quot;per block&quot;</span>));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;double&gt;</a> <a class="code" href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">IterativeBFIPrecision</a>(</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="stringliteral">&quot;iterative-bfi-precision&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(1<a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>-12), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Iterative inference: delta convergence precision; smaller values &quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;             <span class="stringliteral">&quot;typically lead to better results at the cost of worsen runtime&quot;</span>));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">   64</a></span>&#160;<a class="code" href="classllvm_1_1ScaledNumber.html">ScaledNumber&lt;uint64_t&gt;</a> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">BlockMass::toScaled</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3d943c4e8129a1812f0ddbe60766caf7">isFull</a>())</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScaledNumber.html">ScaledNumber&lt;uint64_t&gt;</a>(1, 0);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1ScaledNumber.html">ScaledNumber&lt;uint64_t&gt;</a>(<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">getMass</a>() + 1, -64);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a5ae944f41ccf807abef975067d634884">   71</a></span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a5ae944f41ccf807abef975067d634884">BlockMass::dump</a>()<span class="keyword"> const </span>{ <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">print</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()); }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a7c993766c71555883cf7cf7a2d98dd51">   74</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a7c993766c71555883cf7cf7a2d98dd51">getHexDigit</a>(<span class="keywordtype">int</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &lt; 16);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &lt; 10)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <span class="charliteral">&#39;0&#39;</span> + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordflow">return</span> <span class="charliteral">&#39;a&#39;</span> + <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> - 10;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;}</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">   81</a></span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">BlockMass::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> Digits = 0; Digits &lt; 16; ++Digits)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a7c993766c71555883cf7cf7a2d98dd51">getHexDigit</a>(Mass &gt;&gt; (60 - Digits * 4) &amp; 0xf);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keyword">using</span> BlockNode = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockFrequencyInfoImplBase::BlockNode</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">using</span> Distribution = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">BlockFrequencyInfoImplBase::Distribution</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">using</span> WeightList = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a3009a397a01cea6f6903433da6683224">BlockFrequencyInfoImplBase::Distribution::WeightList</a>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">using</span> <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> = <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a5514a17c0ec3ccae841930a4f8f74f99">BlockFrequencyInfoImplBase::Scaled64</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">using</span> LoopData = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BlockFrequencyInfoImplBase::LoopData</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">using</span> Weight = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">BlockFrequencyInfoImplBase::Weight</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">using</span> FrequencyData = <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">BlockFrequencyInfoImplBase::FrequencyData</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/// Dithering mass distributer.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">/// This class splits up a single mass into portions by weight, dithering to</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/// spread out error.  No mass is lost.  The dithering precision depends on the</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">/// precision of the product of \a BlockMass and \a BranchProbability.</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">/// The distribution algorithm follows.</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">///  1. Initialize by saving the sum of the weights in \a RemWeight and the</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">///     mass to distribute in \a RemMass.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">///  2. For each portion:</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">///      1. Construct a branch probability, P, as the portion&#39;s weight divided</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">///         by the current value of \a RemWeight.</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">///      2. Calculate the portion&#39;s mass as \a RemMass times P.</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">///      3. Update \a RemWeight and \a RemMass at each portion by subtracting</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">///         the current portion&#39;s weight and mass.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span><span class="keyword">struct </span>DitheringDistributer {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> RemWeight;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> RemMass;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  DitheringDistributer(Distribution &amp;Dist, <span class="keyword">const</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;Mass);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> takeMass(<a class="code" href="classuint32__t.html">uint32_t</a> Weight);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;};</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;DitheringDistributer::DitheringDistributer(Distribution &amp;Dist,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;Mass) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  Dist.normalize();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  RemWeight = Dist.Total;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  RemMass = Mass;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;}</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> DitheringDistributer::takeMass(<a class="code" href="classuint32__t.html">uint32_t</a> Weight) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Weight &amp;&amp; <span class="stringliteral">&quot;invalid weight&quot;</span>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Weight &lt;= RemWeight);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Mass = RemMass * <a class="code" href="classllvm_1_1BranchProbability.html">BranchProbability</a>(Weight, RemWeight);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Decrement totals (dither).</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  RemWeight -= Weight;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  RemMass -= Mass;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">return</span> Mass;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;}</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">Distribution::add</a>(<span class="keyword">const</span> BlockNode &amp;Node, <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Amount,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                       Weight::DistType <a class="code" href="classllvm_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Amount &amp;&amp; <span class="stringliteral">&quot;invalid weight of 0&quot;</span>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> NewTotal = <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> + Amount;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160; </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// Check for overflow.  It should be impossible to overflow twice.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordtype">bool</span> IsOverflow = NewTotal &lt; <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!(DidOverflow &amp;&amp; IsOverflow) &amp;&amp; <span class="stringliteral">&quot;unexpected repeated overflow&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  DidOverflow |= IsOverflow;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// Update the total.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> = NewTotal;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="comment">// Save the weight.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  Weights.push_back(Weight(<a class="code" href="classllvm_1_1Type.html">Type</a>, Node, Amount));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a63f8c3e98c54556d954cc51ca32293ca">  161</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a63f8c3e98c54556d954cc51ca32293ca">combineWeight</a>(Weight &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>, <span class="keyword">const</span> Weight &amp;OtherW) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OtherW.TargetNode.isValid());</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> = OtherW;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == OtherW.Type);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode == OtherW.TargetNode);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OtherW.Amount &amp;&amp; <span class="stringliteral">&quot;Expected non-zero weight&quot;</span>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount &gt; <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount + OtherW.Amount)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// Saturate on overflow.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount = <a class="code" href="c_2DataTypes_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount += OtherW.Amount;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a1686c286d1b8fa8b1120a58b14cfbc98">  177</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a1686c286d1b8fa8b1120a58b14cfbc98">combineWeightsBySorting</a>(WeightList &amp;Weights) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">// Sort so edges to the same node are adjacent.</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Weights, [](<span class="keyword">const</span> Weight &amp;L, <span class="keyword">const</span> Weight &amp;R) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> L.TargetNode &lt; R.TargetNode;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  });</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Combine adjacent edges.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  WeightList::iterator <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = Weights.begin();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">for</span> (WeightList::const_iterator <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, L = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = Weights.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;       ++<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = L)) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Find the adjacent weights to the same node.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">for</span> (++L; L != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;TargetNode == L-&gt;TargetNode; ++L)</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a63f8c3e98c54556d954cc51ca32293ca">combineWeight</a>(*<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, *L);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// Erase extra entries.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  Weights.erase(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, Weights.end());</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a409eb8fc01c0f967fa0cdb1b1d529873">  198</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a409eb8fc01c0f967fa0cdb1b1d529873">combineWeightsByHashing</a>(WeightList &amp;Weights) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// Collect weights into a DenseMap.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">using</span> HashTable = <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;BlockNode::IndexType, Weight&gt;</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  HashTable Combined(<a class="code" href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">NextPowerOf2</a>(2 * Weights.size()));</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> Weight &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : Weights)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a63f8c3e98c54556d954cc51ca32293ca">combineWeight</a>(Combined[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode.Index], <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="comment">// Check whether anything changed.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keywordflow">if</span> (Weights.size() == Combined.size())</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// Fill in the new weights.</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  Weights.clear();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  Weights.reserve(Combined.size());</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Combined)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    Weights.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a6750f9ed35f65ba11b4c3c00d9d4fb4d">  217</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a6750f9ed35f65ba11b4c3c00d9d4fb4d">combineWeights</a>(WeightList &amp;Weights) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// Use a hash table for many successors to keep this linear.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordflow">if</span> (Weights.size() &gt; 128) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a409eb8fc01c0f967fa0cdb1b1d529873">combineWeightsByHashing</a>(Weights);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a1686c286d1b8fa8b1120a58b14cfbc98">combineWeightsBySorting</a>(Weights);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#af7b0ebc6a85830e67121d86801e54d8f">  227</a></span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#af7b0ebc6a85830e67121d86801e54d8f">shiftRightAndRound</a>(<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>, <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &gt;= 0);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> &lt; 64);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &gt;&gt; <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) + (UINT64_C(1) &amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &gt;&gt; (<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> - 1));</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac24f62f9ac4bff8273ed15798ea650e8">  235</a></span>&#160;<span class="keywordtype">void</span> Distribution::normalize() {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// Early exit for termination nodes.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (Weights.empty())</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// Only bother if there are multiple successors.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (Weights.size() &gt; 1)</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a6750f9ed35f65ba11b4c3c00d9d4fb4d">combineWeights</a>(Weights);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="comment">// Early exit when combined into a single successor.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">if</span> (Weights.size() == 1) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> = 1;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    Weights.front().Amount = 1;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="comment">// Determine how much to shift right so that the total fits into 32-bits.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">// If we shift at all, shift by 1 extra.  Otherwise, the lower limit of 1</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// for each weight can cause a 32-bit overflow.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = 0;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (DidOverflow)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = 33;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> &gt; UINT32_MAX)</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a> = 33 - <a class="code" href="namespacellvm.html#a66191f0bcc8c62b784819e9e96ceeba2">llvm::countl_zero</a>(<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="comment">// Early exit if nothing needs to be scaled.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// If we didn&#39;t overflow then combineWeights() shouldn&#39;t have changed the</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// sum of the weights, but let&#39;s double-check.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> == std::accumulate(Weights.begin(), Weights.end(), UINT64_C(0),</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                                    [](<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Sum, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                      <span class="keywordflow">return</span> Sum + <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    }) &amp;&amp;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;           <span class="stringliteral">&quot;Expected total to be correct&quot;</span>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">// Recompute the total through accumulation (rather than shifting it) so that</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="comment">// it&#39;s accurate after shifting and any changes combineWeights() made above.</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> = 0;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// Sum the weights to each node and shift right if necessary.</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : Weights) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// Scale down below UINT32_MAX.  Since Shift is larger than necessary, we</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="comment">// can round here without concern about overflow.</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode.isValid());</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(UINT64_C(1), <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#af7b0ebc6a85830e67121d86801e54d8f">shiftRightAndRound</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount, <a class="code" href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a>));</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount &lt;= UINT32_MAX);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// Update the total.</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> += <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">Total</a> &lt;= UINT32_MAX);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">  291</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">BlockFrequencyInfoImplBase::clear</a>() {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="comment">// Swap with a default-constructed std::vector, since std::vector&lt;&gt;::clear()</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">// does not actually clear heap storage.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  std::vector&lt;FrequencyData&gt;().swap(Freqs);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  IsIrrLoopHeader.clear();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  std::vector&lt;WorkingData&gt;().swap(Working);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.clear();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">/// Clear all memory not needed downstream.</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">/// Releases all memory not used downstream.  In particular, saves Freqs.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">  303</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">cleanup</a>(<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  std::vector&lt;FrequencyData&gt; SavedFreqs(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs));</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classllvm_1_1SparseBitVector.html">SparseBitVector&lt;&gt;</a> SavedIsIrrLoopHeader(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.IsIrrLoopHeader));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.clear();</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SavedFreqs);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.IsIrrLoopHeader = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(SavedIsIrrLoopHeader);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">  311</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">BlockFrequencyInfoImplBase::addToDist</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist,</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Pred,</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Succ,</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                                           <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> = 1;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">auto</span> isLoopHeader = [&amp;OuterLoop](<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node) {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keywordflow">return</span> OuterLoop &amp;&amp; OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">isHeader</a>(Node);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  };</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> Resolved = Working[Succ.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">Index</a>].getResolvedNode();</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keyword">auto</span> debugSuccessor = [&amp;](<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classllvm_1_1Type.html">Type</a>) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt;&quot;</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1Type.html">Type</a> &lt;&lt; <span class="stringliteral">&quot;] weight = &quot;</span> &lt;&lt; <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> (!isLoopHeader(Resolved))</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, succ = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(Succ);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (Resolved != Succ)</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;, resolved = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(Resolved);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  };</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  (void)debugSuccessor;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (isLoopHeader(Resolved)) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;backedge&quot;</span>));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a1f4f138ccfef4b11927a51fed0aa4fbe">addBackedge</a>(Resolved, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keywordflow">if</span> (Working[Resolved.Index].getContainingLoop() != OuterLoop) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;  exit  &quot;</span>));</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac86fec7279ee04ded4052cdc9a867ea9">addExit</a>(Resolved, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keywordflow">if</span> (Resolved &lt; Pred) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (!isLoopHeader(Pred)) {</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="comment">// If OuterLoop is an irreducible loop, we can&#39;t actually handle this.</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!OuterLoop || !OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">isIrreducible</a>()) &amp;&amp;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;             <span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="comment">// Irreducible backedge.  Abort.</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot;abort!!!&quot;</span>));</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; </div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="comment">// If &quot;Pred&quot; is a loop header, then this isn&#39;t really a backedge; rather,</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// OuterLoop must be irreducible.  These false backedges can come only from</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// secondary loop headers.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OuterLoop &amp;&amp; OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">isIrreducible</a>() &amp;&amp; !isLoopHeader(Resolved) &amp;&amp;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;           <span class="stringliteral">&quot;unhandled irreducible control flow&quot;</span>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(debugSuccessor(<span class="stringliteral">&quot; local  &quot;</span>));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">addLocal</a>(Resolved, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a>);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160; </div>
<div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">  373</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">BlockFrequencyInfoImplBase::addLoopSuccessorsToDist</a>(</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// Copy the exit map into Dist.</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Exits)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (!addToDist(Dist, OuterLoop, <a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>(), <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first,</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                   <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second.getMass()))</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="comment">// Irreducible backedge.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="comment">/// Compute the loop scale for a loop.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">  386</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">BlockFrequencyInfoImplBase::computeLoopScale</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>) {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="comment">// Compute loop scale.</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;compute-loop-scale: &quot;</span> &lt;&lt; getLoopName(<a class="code" href="classllvm_1_1Loop.html">Loop</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// Infinite loops need special handling. If we give the back edge an infinite</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// mass, they may saturate all the other scales in the function down to 1,</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// making all the other region temperatures look exactly the same. Choose an</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="comment">// arbitrary scale to avoid these issues.</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">// FIXME: An alternate way would be to select a symbolic scale which is later</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="comment">// replaced to be the maximum of all computed scales plus 1. This would</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="comment">// appropriately describe the loop as having a large scale, without skewing</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="comment">// the final frequency computation.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> InfiniteLoopScale(1, 12);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="comment">// LoopScale == 1 / ExitMass</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="comment">// ExitMass == HeadMass - BackedgeMass</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> TotalBackedgeMass;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Mass : <a class="code" href="classllvm_1_1Loop.html">Loop</a>.BackedgeMass)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    TotalBackedgeMass += Mass;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> ExitMass = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>() - TotalBackedgeMass;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// Block scale stores the inverse of the scale. If this is an infinite loop,</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">// its exit mass will be zero. In this case, use an arbitrary scale for the</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="comment">// loop scale.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale =</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      ExitMass.<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">isEmpty</a>() ? InfiniteLoopScale : ExitMass.<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">toScaled</a>().<a class="code" href="classllvm_1_1ScaledNumber.html#a49501fa3f3636bfe66d89739e5f43685">inverse</a>();</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - exit-mass = &quot;</span> &lt;&lt; ExitMass &lt;&lt; <span class="stringliteral">&quot; (&quot;</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                    &lt;&lt; <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; TotalBackedgeMass</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; - scale = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;}</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">/// Package up a loop.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">  421</a></span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">BlockFrequencyInfoImplBase::packageLoop</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;packaging-loop: &quot;</span> &lt;&lt; getLoopName(<a class="code" href="classllvm_1_1Loop.html">Loop</a>) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  <span class="comment">// Clear the subloop exits to prevent quadratic memory usage.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> : <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Nodes) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="classllvm_1_1Loop.html">Loop</a> = Working[<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.Index].getPackagedLoop())</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Exits.clear();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - node: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.Index) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  }</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a>.IsPackaged = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">  434</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>,</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                        <span class="keyword">const</span> DitheringDistributer &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <span class="keyword">const</span> BlockNode &amp;<a class="code" href="classT.html">T</a>,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> &amp;M, <span class="keyword">const</span> <span class="keywordtype">char</span> *Desc) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; assign &quot;</span> &lt;&lt; <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> &lt;&lt; <span class="stringliteral">&quot; (&quot;</span> &lt;&lt; <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.RemMass &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keywordflow">if</span> (Desc)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; [&quot;</span> &lt;&lt; Desc &lt;&lt; <span class="stringliteral">&quot;]&quot;</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classT.html">T</a>.isValid())</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(<a class="code" href="classT.html">T</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">  446</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">BlockFrequencyInfoImplBase::distributeMass</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;                                                <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                                                <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Mass = Working[<a class="code" href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">Source</a>.Index].<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">getMass</a>();</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; mass:  &quot;</span> &lt;&lt; Mass &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="comment">// Distribute mass to successors as laid out in Dist.</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  DitheringDistributer <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>(Dist, Mass);</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">Weights</a>) {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// Check for a local edge (non-backedge and non-exit).</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Taken = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.takeMass(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount);</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == Weight::Local) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      Working[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode.Index].getMass() += Taken;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(*<span class="keyword">this</span>, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">// Backedges and exits only make sense if we&#39;re processing a loop.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OuterLoop &amp;&amp; <span class="stringliteral">&quot;backedge or exit outside of loop&quot;</span>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// Check for a backedge.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == Weight::Backedge) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">BackedgeMass</a>[OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aed6828c6f5229e4099a34c13da1d2d08">getHeaderIndex</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode)] += Taken;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(*<span class="keyword">this</span>, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken, <span class="stringliteral">&quot;back&quot;</span>));</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="comment">// This must be an exit.</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == Weight::Exit);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">Exits</a>.push_back(std::make_pair(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken));</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(*<span class="keyword">this</span>, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken, <span class="stringliteral">&quot;exit&quot;</span>));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;}</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160; </div>
<div class="line"><a name="l00481"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">  481</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">convertFloatingToInteger</a>(<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> &amp;Min, <span class="keyword">const</span> <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> &amp;Max) {</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// Scale the Factor to a size that creates integers.  Ideally, integers would</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">// be scaled so that Max == UINT64_MAX so that they can be best</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">// differentiated.  However, in the presence of large frequency values, small</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// frequencies are scaled down to 1, making it impossible to differentiate</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">// small, unequal numbers. When the spread between Min and Max frequencies</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">// fits well within MaxBits, we make the scale be at least 8.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> MaxBits = 64;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> SpreadBits = (Max / Min).lg();</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> ScalingFactor;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">if</span> (SpreadBits &lt;= MaxBits - 3) {</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="comment">// If the values are small enough, make the scaling factor at least 8 to</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="comment">// allow distinguishing small values.</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    ScalingFactor = Min.<a class="code" href="classllvm_1_1ScaledNumber.html#a49501fa3f3636bfe66d89739e5f43685">inverse</a>();</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    ScalingFactor &lt;&lt;= 3;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="comment">// If the values need more than MaxBits to be represented, saturate small</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">// frequency values down to 1 by using a scaling factor that benefits large</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// frequency values.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    ScalingFactor = <a class="code" href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a>(1, MaxBits) / Max;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="comment">// Translate the floats to integers.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;float-to-int: min = &quot;</span> &lt;&lt; Min &lt;&lt; <span class="stringliteral">&quot;, max = &quot;</span> &lt;&lt; Max</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;, factor = &quot;</span> &lt;&lt; ScalingFactor &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> <a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a> = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].Scaled * ScalingFactor;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs[<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>].Integer = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(UINT64_C(1), <a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a>.toInt&lt;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>&gt;());</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>) &lt;&lt; <span class="stringliteral">&quot;: float = &quot;</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                      &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].Scaled &lt;&lt; <span class="stringliteral">&quot;, scaled = &quot;</span> &lt;&lt; <a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;, int = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].Integer &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;}</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="comment">/// Unwrap a loop package.</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="comment">/// Visits all the members of a loop, adjusting their BlockData according to</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment">/// the loop&#39;s pseudo-node.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">  520</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">unwrapLoop</a>(<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>, LoopData &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;unwrap-loop-package: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getLoopName(<a class="code" href="classllvm_1_1Loop.html">Loop</a>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;: mass = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Mass &lt;&lt; <span class="stringliteral">&quot;, scale = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale *= <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Mass.toScaled();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <a class="code" href="classllvm_1_1Loop.html">Loop</a>.IsPackaged = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; combined-scale = &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="comment">// Propagate the head scale through the loop.  Since members are visited in</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="comment">// RPO, the head scale will be updated by the loop scale first, and then the</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  <span class="comment">// final head scale will be used for updated the rest of the members.</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> BlockNode &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Nodes) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Working = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Working[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Index];</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = Working.isAPackage() ? Working.getPackagedLoop()-&gt;Scale</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                       : <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Freqs[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Index].Scaled;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> New = <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Scale * <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &lt;&lt; <span class="stringliteral">&quot; =&gt; &quot;</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                      &lt;&lt; New &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = New;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;}</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">  542</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">BlockFrequencyInfoImplBase::unwrapLoops</a>() {</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="comment">// Set initial frequencies from loop-local masses.</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; Working.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>)</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    Freqs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].<a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a> = Working[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].Mass.<a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">toScaled</a>();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160; </div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a> : <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">unwrapLoop</a>(*<span class="keyword">this</span>, <a class="code" href="classllvm_1_1Loop.html">Loop</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">  551</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">BlockFrequencyInfoImplBase::finalizeMetrics</a>() {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <span class="comment">// Unwrap loop packages in reverse post-order, tracking min and max</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="comment">// frequencies.</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keyword">auto</span> Min = Scaled64::getLargest();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keyword">auto</span> Max = Scaled64::getZero();</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; Working.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <span class="comment">// Update min/max scale.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    Min = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(Min, Freqs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].<a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a>);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    Max = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(Max, Freqs[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].<a class="code" href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// Convert to integers.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">convertFloatingToInteger</a>(*<span class="keyword">this</span>, Min, Max);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <span class="comment">// Clean up data structures.</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">cleanup</a>(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="comment">// Print out the final stats.</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a03503773241005f01b090b9862aad304">dump</a>());</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;}</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a></div>
<div class="line"><a name="l00573"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">  573</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">BlockFrequencyInfoImplBase::getBlockFreq</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  <span class="keywordflow">if</span> (!Node.isValid()) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">CheckBFIUnknownBlockQueries</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;256&gt;</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="classllvm_1_1raw__svector__ostream.html">raw_svector_ostream</a> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;*** Detected BFI query for unknown block &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(Node);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>.str());</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">return</span> Freqs[Node.Index].Integer;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;}</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">  589</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">BlockFrequencyInfoImplBase::getBlockProfileCount</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                                                 <span class="keywordtype">bool</span> AllowSynthetic)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">return</span> getProfileCountFromFreq(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, getBlockFreq(Node).getFrequency(),</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                                 AllowSynthetic);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;std::optional&lt;uint64_t&gt;</div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">  597</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">BlockFrequencyInfoImplBase::getProfileCountFromFreq</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                                                    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                                    <span class="keywordtype">bool</span> AllowSynthetic)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="keyword">auto</span> EntryCount = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryCount(AllowSynthetic);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">if</span> (!EntryCount)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="comment">// Use 128 bit APInt to do the arithmetic to avoid overflow.</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> BlockCount(128, EntryCount-&gt;getCount());</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> BlockFreq(128, Freq);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <a class="code" href="classllvm_1_1APInt.html">APInt</a> EntryFreq(128, getEntryFreq());</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  BlockCount *= BlockFreq;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="comment">// Rounded division of BlockCount by EntryFreq. Since EntryFreq is unsigned</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="comment">// lshr by 1 gives EntryFreq/2.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  BlockCount = (BlockCount + EntryFreq.<a class="code" href="classllvm_1_1APInt.html#af34549c39d6f741fbdaf9a795aa306e9">lshr</a>(1)).udiv(EntryFreq);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">return</span> BlockCount.<a class="code" href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">getLimitedValue</a>();</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; </div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">  615</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">BlockFrequencyInfoImplBase::isIrrLoopHeader</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node) {</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  <span class="keywordflow">if</span> (!Node.isValid())</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">return</span> IsIrrLoopHeader.test(Node.Index);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;<a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a></div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">  622</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">BlockFrequencyInfoImplBase::getFloatingBlockFreq</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <span class="keywordflow">if</span> (!Node.isValid())</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordflow">return</span> Scaled64::getZero();</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">return</span> Freqs[Node.Index].Scaled;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">  628</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">BlockFrequencyInfoImplBase::setBlockFreq</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                                              <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Freq) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node.isValid() &amp;&amp; <span class="stringliteral">&quot;Expected valid node&quot;</span>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Node.Index &lt; Freqs.size() &amp;&amp; <span class="stringliteral">&quot;Expected legal index&quot;</span>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  Freqs[Node.Index].Integer = Freq;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160; </div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;std::string</div>
<div class="line"><a name="l00636"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a81aacbe4befdc892179bb8cdac170370">  636</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a81aacbe4befdc892179bb8cdac170370">BlockFrequencyInfoImplBase::getBlockName</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160; </div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;std::string</div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a58791fa7d9b74c05628abed162ce2725">  641</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a58791fa7d9b74c05628abed162ce2725">BlockFrequencyInfoImplBase::getLoopName</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a>.<a class="code" href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">getHeader</a>()) + (<a class="code" href="classllvm_1_1Loop.html">Loop</a>.isIrreducible() ? <span class="stringliteral">&quot;**&quot;</span> : <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;}</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160; </div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">  646</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">BlockFrequencyInfoImplBase::printBlockFreq</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Node)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; getFloatingBlockFreq(Node);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;}</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;</div>
<div class="line"><a name="l00652"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9f860c13344d6572bc9f735f60f77590">  652</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">BlockFrequencyInfoImplBase::printBlockFreq</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>,</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                                           <span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequency.html">BlockFrequency</a> &amp;Freq)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> Block(Freq.<a class="code" href="classllvm_1_1BlockFrequency.html#a8e9ed6b20c2503f66f1fd0725297aedc">getFrequency</a>(), 0);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="classllvm_1_1ScaledNumber.html">Scaled64</a> Entry(getEntryFreq(), 0);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; Block / Entry;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160; </div>
<div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">  660</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">IrreducibleGraph::addNodesInLoop</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BFIBase::LoopData</a> &amp;OuterLoop) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">Start</a> = OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a924395e7510f57f986ac032994b20f73">getHeader</a>();</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">Nodes</a>.reserve(OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.size());</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">addNode</a>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">indexNodes</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160; </div>
<div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">  668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">IrreducibleGraph::addNodesInFunction</a>() {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">Start</a> = 0;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = 0; <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> &lt; <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>.<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>.size(); ++<a class="code" href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a>)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">BFI</a>.<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">Working</a>[<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>].isPackaged())</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">addNode</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">indexNodes</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">  676</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">IrreducibleGraph::indexNodes</a>() {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">Nodes</a>)</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.Node.Index] = &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160; </div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">  681</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">IrreducibleGraph::addEdge</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrrNode</a> &amp;Irr, <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">BlockNode</a> &amp;Succ,</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                               <span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">BFIBase::LoopData</a> *OuterLoop) {</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">if</span> (OuterLoop &amp;&amp; OuterLoop-&gt;<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">isHeader</a>(Succ))</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keyword">auto</span> L = <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>.find(Succ.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">Index</a>);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (L == <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">Lookup</a>.end())</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">IrrNode</a> &amp;SuccIrr = *L-&gt;second;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  Irr.<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>.push_back(&amp;SuccIrr);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  SuccIrr.<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">Edges</a>.push_front(&amp;Irr);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  ++SuccIrr.<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">NumIn</a>;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160; </div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html">  696</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a>&gt; {</div>
<div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a7e48037114a10406c0a0decb48b5a831">  697</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">GraphT</a> = <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">bfi_detail::IrreducibleGraph</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a0a60e2688c807c714d432b3503a4ea6a">  698</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">NodeRef</a> = <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">GraphT::IrrNode</a> *;</div>
<div class="line"><a name="l00699"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a88dd42aa90cc69ca9fb6357a54a1f0e4">  699</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a88dd42aa90cc69ca9fb6357a54a1f0e4">ChildIteratorType</a> = GraphT::IrrNode::iterator;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#ab68320228063b7fbf32d2d0a90ed1476">  701</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">NodeRef</a> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#ab68320228063b7fbf32d2d0a90ed1476">getEntryNode</a>(<span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">GraphT</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>) { <span class="keywordflow">return</span> <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>.StartIrr; }</div>
<div class="line"><a name="l00702"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a3c870bfd91132e05f68bd134407e2da4">  702</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a88dd42aa90cc69ca9fb6357a54a1f0e4">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a3c870bfd91132e05f68bd134407e2da4">child_begin</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">NodeRef</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) { <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;succ_begin(); }</div>
<div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a67447e0967f5758a26746ce1b653c967">  703</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a88dd42aa90cc69ca9fb6357a54a1f0e4">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a67447e0967f5758a26746ce1b653c967">child_end</a>(<a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">NodeRef</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) { <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;succ_end(); }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;};</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">/// Find extra irreducible headers.</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">/// Find entry blocks and other blocks with backedges, which exist when \c G</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">/// contains irreducible sub-SCCs.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#a95338a977e204bee84a88c2b0a8a1fad">  712</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a95338a977e204bee84a88c2b0a8a1fad">findIrreducibleHeaders</a>(</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>,</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>,</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keyword">const</span> std::vector&lt;const IrreducibleGraph::IrrNode *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>,</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <a class="code" href="namespacellvm_1_1rdf.html#adff32edf02469b3f29d410c0a4d68be3">LoopData::NodeList</a> &amp;Headers, <a class="code" href="namespacellvm_1_1rdf.html#adff32edf02469b3f29d410c0a4d68be3">LoopData::NodeList</a> &amp;Others) {</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// Map from nodes in the SCC to whether it&#39;s an entry block.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  <a class="code" href="classllvm_1_1SmallDenseMap.html">SmallDenseMap&lt;const IrreducibleGraph::IrrNode *, bool, 8&gt;</a> InSCC;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  <span class="comment">// InSCC also acts the set of nodes in the graph.  Seed it.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>)</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    InSCC[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = InSCC.<a class="code" href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">begin</a>(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = InSCC.<a class="code" href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">end</a>(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keyword">auto</span> &amp;Irr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;first;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(Irr.pred_begin(), Irr.pred_end())) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">if</span> (InSCC.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// This is an entry block.</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;second = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      Headers.push_back(Irr.Node);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; entry = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(Irr.Node)</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Headers.size() &gt;= 2 &amp;&amp;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;         <span class="stringliteral">&quot;Expected irreducible CFG; -loop-info is likely invalid&quot;</span>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordflow">if</span> (Headers.size() == InSCC.<a class="code" href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">size</a>()) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">// Every block is a header.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Headers);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="comment">// Look for extra headers from irreducible sub-SCCs.</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : InSCC) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// Entry blocks are already headers.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.second)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160; </div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keyword">auto</span> &amp;Irr = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.first;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a> : <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(Irr.pred_begin(), Irr.pred_end())) {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="comment">// Skip forward edges.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>-&gt;Node &lt; Irr.Node)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160; </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="comment">// Skip predecessors from entry blocks.  These can have inverted</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      <span class="comment">// ordering.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">if</span> (InSCC.lookup(<a class="code" href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a>))</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160; </div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <span class="comment">// Store the extra header.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      Headers.push_back(Irr.Node);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; extra = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(Irr.Node)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (Headers.back() == Irr.Node)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="comment">// Added this as a header.</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160; </div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// This is not a header.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    Others.push_back(Irr.Node);</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  =&gt; other = &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.getBlockName(Irr.Node) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Headers);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(Others);</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">  781</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">createIrreducibleLoop</a>(</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html">BlockFrequencyInfoImplBase</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>, <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>,</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    LoopData *OuterLoop, std::list&lt;LoopData&gt;::iterator Insert,</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keyword">const</span> std::vector&lt;const IrreducibleGraph::IrrNode *&gt; &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="comment">// Translate the SCC into RPO.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - found-scc\n&quot;</span>);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160; </div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="namespacellvm_1_1rdf.html#adff32edf02469b3f29d410c0a4d68be3">LoopData::NodeList</a> Headers;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <a class="code" href="namespacellvm_1_1rdf.html#adff32edf02469b3f29d410c0a4d68be3">LoopData::NodeList</a> Others;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a95338a977e204bee84a88c2b0a8a1fad">findIrreducibleHeaders</a>(<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>, <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>, Headers, Others);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keyword">auto</span> <a class="code" href="classllvm_1_1Loop.html">Loop</a> = <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Loops.emplace(<a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>, OuterLoop, Headers.begin(),</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                                Headers.end(), Others.begin(), Others.end());</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">// Update loop hierarchy.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : <a class="code" href="classllvm_1_1Loop.html">Loop</a>-&gt;Nodes)</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Working[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Index].isLoopHeader())</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Working[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Index].Loop-&gt;Parent = &amp;*<a class="code" href="classllvm_1_1Loop.html">Loop</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">BFI</a>.Working[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.Index].Loop = &amp;*<a class="code" href="classllvm_1_1Loop.html">Loop</a>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;}</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160; </div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;std::list&lt;LoopData&gt;::iterator</a>&gt;</div>
<div class="line"><a name="l00804"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">  804</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">BlockFrequencyInfoImplBase::analyzeIrreducible</a>(</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">IrreducibleGraph</a> &amp;<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> *OuterLoop,</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    std::list&lt;LoopData&gt;::iterator Insert) {</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((OuterLoop == <span class="keyword">nullptr</span>) == (<a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a> == <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.begin()));</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keyword">auto</span> Prev = OuterLoop ? std::prev(<a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>) : <a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.end();</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160; </div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">scc_begin</a>(<a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>); !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtEnd(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;size() &lt; 2)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160; </div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// Translate the SCC into RPO.</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <a class="code" href="BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">createIrreducibleLoop</a>(*<span class="keyword">this</span>, <a class="code" href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a>, OuterLoop, <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>, *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  }</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160; </div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keywordflow">if</span> (OuterLoop)</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(std::next(Prev), <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">make_range</a>(<a class="code" href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a>.begin(), <a class="code" href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a>);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;}</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160; </div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">  824</a></span>&#160;<a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">BlockFrequencyInfoImplBase::updateLoopWithIrreducible</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;OuterLoop) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">Exits</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Mass : OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">BackedgeMass</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    Mass = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">BlockMass::getEmpty</a>();</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keyword">auto</span> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a> = OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.begin() + 1;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.end(); <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (!Working[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Index].isPackaged())</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;      *<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>++ = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">erase</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">O</a>, OuterLoop.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">Nodes</a>.end());</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;}</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af8aa6262fff3f09a8e2076d7a76e1628">  835</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#af8aa6262fff3f09a8e2076d7a76e1628">BlockFrequencyInfoImplBase::adjustLoopHeaderMass</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">LoopData</a> &amp;<a class="code" href="classllvm_1_1Loop.html">Loop</a>) {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1Loop.html">Loop</a>.isIrreducible() &amp;&amp; <span class="stringliteral">&quot;this only makes sense on irreducible loops&quot;</span>);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// Since the loop has more than one header block, the mass flowing back into</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// each header will be different. Adjust the mass in each header loop to</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// reflect the masses flowing through back edges.</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">// To do this, we distribute the initial mass using the backedge masses</span></div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="comment">// as weights for the distribution.</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> LoopMass = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>();</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> Dist;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; </div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;adjust-loop-header-mass:\n&quot;</span>);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> = 0; <a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a> &lt; <a class="code" href="classllvm_1_1Loop.html">Loop</a>.NumHeaders; ++<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keyword">auto</span> &amp;HeaderNode = <a class="code" href="classllvm_1_1Loop.html">Loop</a>.Nodes[<a class="code" href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a>];</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keyword">auto</span> &amp;BackedgeMass = <a class="code" href="classllvm_1_1Loop.html">Loop</a>.BackedgeMass[<a class="code" href="classllvm_1_1Loop.html">Loop</a>.getHeaderIndex(HeaderNode)];</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; - Add back edge mass for node &quot;</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                      &lt;&lt; <a class="code" href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">getBlockName</a>(HeaderNode) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; BackedgeMass</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">if</span> (BackedgeMass.getMass() &gt; 0)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">addLocal</a>(HeaderNode, BackedgeMass.getMass());</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;   Nothing added. Back edge mass is zero\n&quot;</span>);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  }</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  DitheringDistributer <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>(Dist, LoopMass);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160; </div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; Distribute loop mass &quot;</span> &lt;&lt; LoopMass</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot; to headers using above weights\n&quot;</span>);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">Weights</a>) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Taken = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.takeMass(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == Weight::Local &amp;&amp; <span class="stringliteral">&quot;all weights should be local&quot;</span>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    Working[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode.Index].getMass() = Taken;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(*<span class="keyword">this</span>, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  }</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; </div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aaa2c0a25aeaf519f9df55f422331f0db">  872</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1BlockFrequencyInfoImplBase.html#aaa2c0a25aeaf519f9df55f422331f0db">BlockFrequencyInfoImplBase::distributeIrrLoopHeaderMass</a>(<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">Distribution</a> &amp;Dist) {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> LoopMass = <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">BlockMass::getFull</a>();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  DitheringDistributer <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>(Dist, LoopMass);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">Weight</a> &amp;<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a> : Dist.<a class="code" href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">Weights</a>) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <a class="code" href="classllvm_1_1bfi__detail_1_1BlockMass.html">BlockMass</a> Taken = <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>.takeMass(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Amount);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.Type == Weight::Local &amp;&amp; <span class="stringliteral">&quot;all weights should be local&quot;</span>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    Working[<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode.Index].getMass() = Taken;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a>(*<span class="keyword">this</span>, <a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">W</a>.TargetNode, Taken, <span class="keyword">nullptr</span>));</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a58791fa7d9b74c05628abed162ce2725"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a58791fa7d9b74c05628abed162ce2725">llvm::BlockFrequencyInfoImplBase::getLoopName</a></div><div class="ttdeci">std::string getLoopName(const LoopData &amp;Loop) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00641">BlockFrequencyInfoImpl.cpp:641</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a409eb8fc01c0f967fa0cdb1b1d529873"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a409eb8fc01c0f967fa0cdb1b1d529873">combineWeightsByHashing</a></div><div class="ttdeci">static void combineWeightsByHashing(WeightList &amp;Weights)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00198">BlockFrequencyInfoImpl.cpp:198</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html">llvm::bfi_detail::BlockMass</a></div><div class="ttdoc">Mass of a block.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00091">BlockFrequencyInfoImpl.h:91</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a563ffc2ff61c499b3be2e00100cb72fa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a563ffc2ff61c499b3be2e00100cb72fa">llvm::SmallVectorImpl::erase</a></div><div class="ttdeci">iterator erase(const_iterator CI)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00741">SmallVector.h:741</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aaa2c0a25aeaf519f9df55f422331f0db"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aaa2c0a25aeaf519f9df55f422331f0db">llvm::BlockFrequencyInfoImplBase::distributeIrrLoopHeaderMass</a></div><div class="ttdeci">void distributeIrrLoopHeaderMass(Distribution &amp;Dist)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00872">BlockFrequencyInfoImpl.cpp:872</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a6aca67ed248d1eb55621f38869372c65"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a6aca67ed248d1eb55621f38869372c65">llvm::BlockFrequencyInfoImplBase::computeLoopScale</a></div><div class="ttdeci">void computeLoopScale(LoopData &amp;Loop)</div><div class="ttdoc">Compute the loop scale for a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00386">BlockFrequencyInfoImpl.cpp:386</a></div></div>
<div class="ttc" id="anamespacellvm_html_ad1a91b49e0c092818a0b82f6cc130a1b"><div class="ttname"><a href="namespacellvm.html#ad1a91b49e0c092818a0b82f6cc130a1b">llvm::make_range</a></div><div class="ttdeci">iterator_range&lt; T &gt; make_range(T x, T y)</div><div class="ttdoc">Convenience function for iterating over sub-ranges.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00053">iterator_range.h:53</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_aa793083a95c48c23abfa352d4335685a"><div class="ttname"><a href="README__P9_8txt.html#aa793083a95c48c23abfa352d4335685a">Insert</a></div><div class="ttdeci">Vector Rotate Left Mask Mask Insert</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00112">README_P9.txt:112</a></div></div>
<div class="ttc" id="aSCCIterator_8h_html"><div class="ttname"><a href="SCCIterator_8h.html">SCCIterator.h</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a4a494d2e2688c4f4ec901183685c215b"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a4a494d2e2688c4f4ec901183685c215b">unwrapLoop</a></div><div class="ttdeci">static void unwrapLoop(BlockFrequencyInfoImplBase &amp;BFI, LoopData &amp;Loop)</div><div class="ttdoc">Unwrap a loop package.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00520">BlockFrequencyInfoImpl.cpp:520</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_add4c9ca63093a8270248e72b08c5302e"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#add4c9ca63093a8270248e72b08c5302e">llvm::bfi_detail::IrreducibleGraph::addNodesInLoop</a></div><div class="ttdeci">void addNodesInLoop(const BFIBase::LoopData &amp;OuterLoop)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00660">BlockFrequencyInfoImpl.cpp:660</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html">llvm::bfi_detail::IrreducibleGraph</a></div><div class="ttdoc">Graph of irreducible control flow.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00602">BlockFrequencyInfoImpl.h:602</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1Loop_html"><div class="ttname"><a href="classllvm_1_1Loop.html">llvm::Loop</a></div><div class="ttdoc">Represents a single loop in the control flow graph.</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00547">LoopInfo.h:547</a></div></div>
<div class="ttc" id="aREADME-SSE_8txt_html_a63d206a063eefcdf8c318ded97b65020"><div class="ttname"><a href="README-SSE_8txt.html#a63d206a063eefcdf8c318ded97b65020">P</a></div><div class="ttdeci">This currently compiles esp xmm0 movsd esp eax eax esp ret We should use not the dag combiner This is because dagcombine2 needs to be able to see through the X86ISD::Wrapper which DAGCombine can t really do The code for turning x load into a single vector load is target independent and should be moved to the dag combiner The code for turning x load into a vector load can only handle a direct load from a global or a direct load from the stack It should be generalized to handle any load from P</div><div class="ttdef"><b>Definition:</b> <a href="README-SSE_8txt_source.html#l00411">README-SSE.txt:411</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a6750f9ed35f65ba11b4c3c00d9d4fb4d"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a6750f9ed35f65ba11b4c3c00d9d4fb4d">combineWeights</a></div><div class="ttdeci">static void combineWeights(WeightList &amp;Weights)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00217">BlockFrequencyInfoImpl.cpp:217</a></div></div>
<div class="ttc" id="aHexagonHardwareLoops_8cpp_html_ada7c1594a393ede3ce32602d64d7ddb2"><div class="ttname"><a href="HexagonHardwareLoops_8cpp.html#ada7c1594a393ede3ce32602d64d7ddb2">Loops</a></div><div class="ttdeci">Hexagon Hardware Loops</div><div class="ttdef"><b>Definition:</b> <a href="HexagonHardwareLoops_8cpp_source.html#l00374">HexagonHardwareLoops.cpp:374</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa05c79fbfc58d9dd2851c467a1ef166bf">llvm::RISCVFenceField::W</a></div><div class="ttdeci">@ W</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00279">RISCVBaseInfo.h:279</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4_html_ab68320228063b7fbf32d2d0a90ed1476"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#ab68320228063b7fbf32d2d0a90ed1476">llvm::GraphTraits&lt; IrreducibleGraph &gt;::getEntryNode</a></div><div class="ttdeci">static NodeRef getEntryNode(const GraphT &amp;G)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00701">BlockFrequencyInfoImpl.cpp:701</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1FrequencyData.html">llvm::BlockFrequencyInfoImplBase::FrequencyData</a></div><div class="ttdoc">Stats about a block itself.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00214">BlockFrequencyInfoImpl.h:214</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4_html_a67447e0967f5758a26746ce1b653c967"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a67447e0967f5758a26746ce1b653c967">llvm::GraphTraits&lt; IrreducibleGraph &gt;::child_end</a></div><div class="ttdeci">static ChildIteratorType child_end(NodeRef N)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00703">BlockFrequencyInfoImpl.cpp:703</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallDenseMap_html"><div class="ttname"><a href="classllvm_1_1SmallDenseMap.html">llvm::SmallDenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00880">DenseMap.h:880</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScaledNumber_html_a49501fa3f3636bfe66d89739e5f43685"><div class="ttname"><a href="classllvm_1_1ScaledNumber.html#a49501fa3f3636bfe66d89739e5f43685">llvm::ScaledNumber::inverse</a></div><div class="ttdeci">ScaledNumber inverse() const</div><div class="ttdef"><b>Definition:</b> <a href="ScaledNumber_8h_source.html#l00678">ScaledNumber.h:678</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a3419f1e4b5a20b3ec28ae5f1f3c6f32b"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a3419f1e4b5a20b3ec28ae5f1f3c6f32b">cleanup</a></div><div class="ttdeci">static void cleanup(BlockFrequencyInfoImplBase &amp;BFI)</div><div class="ttdoc">Clear all memory not needed downstream.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00303">BlockFrequencyInfoImpl.cpp:303</a></div></div>
<div class="ttc" id="aAPInt_8h_html"><div class="ttname"><a href="APInt_8h.html">APInt.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a50d461a887e200e704e5157d3b21514d"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a50d461a887e200e704e5157d3b21514d">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00075">DenseMap.h:75</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_a8db36c82f32d6f6a4d35a00e55be03a8"><div class="ttname"><a href="lib_2Target_2README_8txt.html#a8db36c82f32d6f6a4d35a00e55be03a8">Shift</a></div><div class="ttdeci">bool Shift</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00468">README.txt:468</a></div></div>
<div class="ttc" id="aBlockFrequency_8h_html"><div class="ttname"><a href="BlockFrequency_8h.html">BlockFrequency.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="anamespacellvm_html_af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17"><div class="ttname"><a href="namespacellvm.html#af5ab7a47bc553dfc3ee92daf969d0d7ca96b0141273eabab320119c467cdcaf17">llvm::TensorType::Total</a></div><div class="ttdeci">@ Total</div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_ad98ee11535062e1034345efac121ec05"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#ad98ee11535062e1034345efac121ec05">llvm::bfi_detail::IrreducibleGraph::addNode</a></div><div class="ttdeci">void addNode(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00648">BlockFrequencyInfoImpl.h:648</a></div></div>
<div class="ttc" id="anamespacellvm_1_1rdf_html_adff32edf02469b3f29d410c0a4d68be3"><div class="ttname"><a href="namespacellvm_1_1rdf.html#adff32edf02469b3f29d410c0a4d68be3">llvm::rdf::NodeList</a></div><div class="ttdeci">SmallVector&lt; NodeAddr&lt; NodeBase * &gt;, 4 &gt; NodeList</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8h_source.html#l00513">RDFGraph.h:513</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a3d943c4e8129a1812f0ddbe60766caf7"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3d943c4e8129a1812f0ddbe60766caf7">llvm::bfi_detail::BlockMass::isFull</a></div><div class="ttdeci">bool isFull() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00106">BlockFrequencyInfoImpl.h:106</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_afe6973243d687017c549e35834347f34"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#afe6973243d687017c549e35834347f34">llvm::BlockFrequencyInfoImplBase::Distribution::addLocal</a></div><div class="ttdeci">void addLocal(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00393">BlockFrequencyInfoImpl.h:393</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a03503773241005f01b090b9862aad304"><div class="ttname"><a href="namespacellvm.html#a03503773241005f01b090b9862aad304">llvm::dump</a></div><div class="ttdeci">void dump(const SparseBitVector&lt; ElementSize &gt; &amp;LHS, raw_ostream &amp;out)</div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00877">SparseBitVector.h:877</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a90cc95ac676cd6751e696d9a683745c0"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a90cc95ac676cd6751e696d9a683745c0">llvm::BlockFrequencyInfoImplBase::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">Clear all memory.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00291">BlockFrequencyInfoImpl.cpp:291</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_af34549c39d6f741fbdaf9a795aa306e9"><div class="ttname"><a href="classllvm_1_1APInt.html#af34549c39d6f741fbdaf9a795aa306e9">llvm::APInt::lshr</a></div><div class="ttdeci">APInt lshr(unsigned shiftAmt) const</div><div class="ttdoc">Logical right-shift function.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00839">APInt.h:839</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a924395e7510f57f986ac032994b20f73"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a924395e7510f57f986ac032994b20f73">llvm::BlockFrequencyInfoImplBase::LoopData::getHeader</a></div><div class="ttdeci">BlockNode getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00256">BlockFrequencyInfoImpl.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_af7df5dbcd0c48e9feef7982c1ff42b6c"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#af7df5dbcd0c48e9feef7982c1ff42b6c">llvm::BlockFrequencyInfoImplBase::getProfileCountFromFreq</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getProfileCountFromFreq(const Function &amp;F, uint64_t Freq, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00597">BlockFrequencyInfoImpl.cpp:597</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a72a0d1f4a55f5756a4ef8e59662a7621"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a72a0d1f4a55f5756a4ef8e59662a7621">llvm::BlockFrequencyInfoImplBase::packageLoop</a></div><div class="ttdeci">void packageLoop(LoopData &amp;Loop)</div><div class="ttdoc">Package up a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00421">BlockFrequencyInfoImpl.cpp:421</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4_html_a88dd42aa90cc69ca9fb6357a54a1f0e4"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a88dd42aa90cc69ca9fb6357a54a1f0e4">llvm::GraphTraits&lt; IrreducibleGraph &gt;::ChildIteratorType</a></div><div class="ttdeci">GraphT::IrrNode::iterator ChildIteratorType</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00699">BlockFrequencyInfoImpl.cpp:699</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8fcc33897ff2ea4ebc874792c49497ef"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8fcc33897ff2ea4ebc874792c49497ef">llvm::BlockFrequencyInfoImplBase::updateLoopWithIrreducible</a></div><div class="ttdeci">void updateLoopWithIrreducible(LoopData &amp;OuterLoop)</div><div class="ttdoc">Update a loop after packaging irreducible SCCs inside of it.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00824">BlockFrequencyInfoImpl.cpp:824</a></div></div>
<div class="ttc" id="aclassllvm_1_1SparseBitVector_html"><div class="ttname"><a href="classllvm_1_1SparseBitVector.html">llvm::SparseBitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="SparseBitVector_8h_source.html#l00256">SparseBitVector.h:256</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8h_html"><div class="ttname"><a href="BlockFrequencyInfoImpl_8h.html">BlockFrequencyInfoImpl.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8381abddeccf17690f4533ba6ecce36b"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8381abddeccf17690f4533ba6ecce36b">llvm::BlockFrequencyInfoImplBase::finalizeMetrics</a></div><div class="ttdeci">void finalizeMetrics()</div><div class="ttdoc">Finalize frequency metrics.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00551">BlockFrequencyInfoImpl.cpp:551</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a5ae944f41ccf807abef975067d634884"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a5ae944f41ccf807abef975067d634884">llvm::bfi_detail::BlockMass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00071">BlockFrequencyInfoImpl.cpp:71</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a17262e1cca3f9a69224d04b3189ed90c"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a17262e1cca3f9a69224d04b3189ed90c">llvm::bfi_detail::IrreducibleGraph::addEdge</a></div><div class="ttdeci">void addEdge(IrrNode &amp;Irr, const BlockNode &amp;Succ, const BFIBase::LoopData *OuterLoop)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00681">BlockFrequencyInfoImpl.cpp:681</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_aac2780a8fb8a885011f9d14494c5c8dc"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aac2780a8fb8a885011f9d14494c5c8dc">llvm::bfi_detail::IrreducibleGraph::Start</a></div><div class="ttdeci">BlockNode Start</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00622">BlockFrequencyInfoImpl.h:622</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_af48ed4af672b3ec628c6c79ac0746312"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#af48ed4af672b3ec628c6c79ac0746312">llvm::bfi_detail::BlockMass::toScaled</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; toScaled() const</div><div class="ttdoc">Convert to scaled number.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00064">BlockFrequencyInfoImpl.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a9b5fd69cbe234f56395e6ddd4eeed8be"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a9b5fd69cbe234f56395e6ddd4eeed8be">llvm::BlockFrequencyInfoImplBase::getBlockFreq</a></div><div class="ttdeci">BlockFrequency getBlockFreq(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00573">BlockFrequencyInfoImpl.cpp:573</a></div></div>
<div class="ttc" id="ac_2DataTypes_8h_html_a30654b4b67d97c42ca3f9b6052dda916"><div class="ttname"><a href="c_2DataTypes_8h.html#a30654b4b67d97c42ca3f9b6052dda916">UINT64_MAX</a></div><div class="ttdeci">#define UINT64_MAX</div><div class="ttdef"><b>Definition:</b> <a href="c_2DataTypes_8h_source.html#l00077">DataTypes.h:77</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_ab01d8694a759a934e01f1c558c3ce862"><div class="ttname"><a href="classllvm_1_1APInt.html#ab01d8694a759a934e01f1c558c3ce862">llvm::APInt::getLimitedValue</a></div><div class="ttdeci">uint64_t getLimitedValue(uint64_t Limit=UINT64_MAX) const</div><div class="ttdoc">If this value is smaller than the specified limit, return it, otherwise return the limit value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00463">APInt.h:463</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a0f46dabedb551531591c0293403c7e21"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a0f46dabedb551531591c0293403c7e21">llvm::BlockFrequencyInfoImplBase::LoopData::isHeader</a></div><div class="ttdeci">bool isHeader(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00249">BlockFrequencyInfoImpl.h:249</a></div></div>
<div class="ttc" id="anamespacellvm_html_afb65eef479f0473d0fe1666b80155237"><div class="ttname"><a href="namespacellvm.html#afb65eef479f0473d0fe1666b80155237">llvm::NextPowerOf2</a></div><div class="ttdeci">constexpr uint64_t NextPowerOf2(uint64_t A)</div><div class="ttdoc">Returns the next power of two (in 64-bits) that is strictly greater than A.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00450">MathExtras.h:450</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a3b13aeab236aa95632c9ef9052c14926"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a3b13aeab236aa95632c9ef9052c14926">llvm::bfi_detail::IrreducibleGraph::BFI</a></div><div class="ttdeci">BFIBase &amp; BFI</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00605">BlockFrequencyInfoImpl.h:605</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_adda9f21a68ad40aac3ee4e0bf3afa31d"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#adda9f21a68ad40aac3ee4e0bf3afa31d">llvm::BlockFrequencyInfoImplBase::distributeMass</a></div><div class="ttdeci">void distributeMass(const BlockNode &amp;Source, LoopData *OuterLoop, Distribution &amp;Dist)</div><div class="ttdoc">Distribute mass according to a distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00446">BlockFrequencyInfoImpl.cpp:446</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_ac0e3f20571279f8b3896a687101d7151"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#ac0e3f20571279f8b3896a687101d7151">llvm::bfi_detail::BlockMass::getFull</a></div><div class="ttdeci">static BlockMass getFull()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00100">BlockFrequencyInfoImpl.h:100</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html">llvm::bfi_detail</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00070">BlockFrequencyInfoImpl.h:70</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_ada202dbe971b41ac9748f92c80464573"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#ada202dbe971b41ac9748f92c80464573">createIrreducibleLoop</a></div><div class="ttdeci">static void createIrreducibleLoop(BlockFrequencyInfoImplBase &amp;BFI, const IrreducibleGraph &amp;G, LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert, const std::vector&lt; const IrreducibleGraph::IrrNode * &gt; &amp;SCC)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00781">BlockFrequencyInfoImpl.cpp:781</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a1686c286d1b8fa8b1120a58b14cfbc98"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a1686c286d1b8fa8b1120a58b14cfbc98">combineWeightsBySorting</a></div><div class="ttdeci">static void combineWeightsBySorting(WeightList &amp;Weights)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00177">BlockFrequencyInfoImpl.cpp:177</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html">llvm::BlockFrequencyInfoImplBase::Distribution</a></div><div class="ttdoc">Distribution of unscaled probability weight.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00384">BlockFrequencyInfoImpl.h:384</a></div></div>
<div class="ttc" id="aBranchProbability_8h_html"><div class="ttname"><a href="BranchProbability_8h.html">BranchProbability.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 256 &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71882a8257c58a4d9401db39622871a6"><div class="ttname"><a href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">llvm::scc_begin</a></div><div class="ttdeci">scc_iterator&lt; T &gt; scc_begin(const T &amp;G)</div><div class="ttdoc">Construct the begin iterator for a deduced graph type T.</div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00232">SCCIterator.h:232</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aRDFGraph_8cpp_html_af153ca0eadca8bc464492b7aba7feb00"><div class="ttname"><a href="RDFGraph_8cpp.html#af153ca0eadca8bc464492b7aba7feb00">G</a></div><div class="ttdeci">const DataFlowGraph &amp; G</div><div class="ttdef"><b>Definition:</b> <a href="RDFGraph_8cpp_source.html#l00200">RDFGraph.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a3e68f251e5b9b11aa8ee9d969a70ba3c"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a3e68f251e5b9b11aa8ee9d969a70ba3c">llvm::BlockFrequencyInfoImplBase::printBlockFreq</a></div><div class="ttdeci">raw_ostream &amp; printBlockFreq(raw_ostream &amp;OS, const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00646">BlockFrequencyInfoImpl.cpp:646</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1a33f1d911a725a1f81234a908d03edb">llvm::RISCVFenceField::O</a></div><div class="ttdeci">@ O</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00277">RISCVBaseInfo.h:277</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a8884f4ab1dd22269ce25837403cbb726"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a8884f4ab1dd22269ce25837403cbb726">llvm::BlockFrequencyInfoImplBase::LoopData::isIrreducible</a></div><div class="ttdeci">bool isIrreducible() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00257">BlockFrequencyInfoImpl.h:257</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a3009a397a01cea6f6903433da6683224"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a3009a397a01cea6f6903433da6683224">llvm::BlockFrequencyInfoImplBase::Distribution::WeightList</a></div><div class="ttdeci">SmallVector&lt; Weight, 4 &gt; WeightList</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00385">BlockFrequencyInfoImpl.h:385</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequency_html"><div class="ttname"><a href="classllvm_1_1BlockFrequency.html">llvm::BlockFrequency</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequency_8h_source.html#l00023">BlockFrequency.h:23</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a1f4f138ccfef4b11927a51fed0aa4fbe"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a1f4f138ccfef4b11927a51fed0aa4fbe">llvm::BlockFrequencyInfoImplBase::Distribution::addBackedge</a></div><div class="ttdeci">void addBackedge(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00401">BlockFrequencyInfoImpl.h:401</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_aef61945034b9431b804748fc317c5548"><div class="ttname"><a href="ELFObjHandler_8cpp.html#aef61945034b9431b804748fc317c5548">Index</a></div><div class="ttdeci">uint32_t Index</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00083">ELFObjHandler.cpp:83</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a63f8c3e98c54556d954cc51ca32293ca"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a63f8c3e98c54556d954cc51ca32293ca">combineWeight</a></div><div class="ttdeci">static void combineWeight(Weight &amp;W, const Weight &amp;OtherW)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00161">BlockFrequencyInfoImpl.cpp:161</a></div></div>
<div class="ttc" id="aARCInstrInfo_8cpp_html_a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e"><div class="ttname"><a href="ARCInstrInfo_8cpp.html#a5d6e37f3d036496321824378223ad718a8009351707fa969013ab5d9126bab03e">Scaled</a></div><div class="ttdeci">@ Scaled</div><div class="ttdef"><b>Definition:</b> <a href="ARCInstrInfo_8cpp_source.html#l00035">ARCInstrInfo.cpp:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__AM_html_a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09"><div class="ttname"><a href="namespacellvm_1_1ARM__AM.html#a5d0557608eaebed12bc00812724ba2cdae6bcee28992dab735eaa43f5dfa48a09">llvm::ARM_AM::add</a></div><div class="ttdeci">@ add</div><div class="ttdef"><b>Definition:</b> <a href="ARMAddressingModes_8h_source.html#l00039">ARMAddressingModes.h:39</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequency_html_a8e9ed6b20c2503f66f1fd0725297aedc"><div class="ttname"><a href="classllvm_1_1BlockFrequency.html#a8e9ed6b20c2503f66f1fd0725297aedc">llvm::BlockFrequency::getFrequency</a></div><div class="ttdeci">uint64_t getFrequency() const</div><div class="ttdoc">Returns the frequency as a fixpoint number scaled by the entry frequency.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequency_8h_source.html#l00034">BlockFrequency.h:34</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html">llvm::bfi_detail::IrreducibleGraph::IrrNode</a></div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00608">BlockFrequencyInfoImpl.h:608</a></div></div>
<div class="ttc" id="anamespacellvm_html_abe792757c5d7b85e61cd2986e899f7f9"><div class="ttname"><a href="namespacellvm.html#abe792757c5d7b85e61cd2986e899f7f9">llvm::IterativeBFIPrecision</a></div><div class="ttdeci">llvm::cl::opt&lt; double &gt; IterativeBFIPrecision</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a0270fc5b1a979417e696f5d8b655812d"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a0270fc5b1a979417e696f5d8b655812d">llvm::BlockFrequencyInfoImplBase::Working</a></div><div class="ttdeci">std::vector&lt; WorkingData &gt; Working</div><div class="ttdoc">Loop data: see initializeLoops().</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00428">BlockFrequencyInfoImpl.h:428</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4_html_a3c870bfd91132e05f68bd134407e2da4"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01IrreducibleGraph_01_4.html#a3c870bfd91132e05f68bd134407e2da4">llvm::GraphTraits&lt; IrreducibleGraph &gt;::child_begin</a></div><div class="ttdeci">static ChildIteratorType child_begin(NodeRef N)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00702">BlockFrequencyInfoImpl.cpp:702</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a66f7e7e39b39bbef6c21b3ea11060c4f"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a66f7e7e39b39bbef6c21b3ea11060c4f">debugAssign</a></div><div class="ttdeci">static void debugAssign(const BlockFrequencyInfoImplBase &amp;BFI, const DitheringDistributer &amp;D, const BlockNode &amp;T, const BlockMass &amp;M, const char *Desc)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00434">BlockFrequencyInfoImpl.cpp:434</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a41ea5a32fdaf85d4aa83b1e2d8473fdc"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a41ea5a32fdaf85d4aa83b1e2d8473fdc">llvm::BlockFrequencyInfoImplBase::addLoopSuccessorsToDist</a></div><div class="ttdeci">bool addLoopSuccessorsToDist(const LoopData *OuterLoop, LoopData &amp;Loop, Distribution &amp;Dist)</div><div class="ttdoc">Add all edges out of a packaged loop to the distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00373">BlockFrequencyInfoImpl.cpp:373</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a0299c4b86be9e4857e810b2160f37cf7"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a0299c4b86be9e4857e810b2160f37cf7">llvm::bfi_detail::IrreducibleGraph::addNodesInFunction</a></div><div class="ttdeci">void addNodesInFunction()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00668">BlockFrequencyInfoImpl.cpp:668</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_ab4e1554fca8ef98622714e55215db4a9"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#ab4e1554fca8ef98622714e55215db4a9">llvm::BlockFrequencyInfoImplBase::unwrapLoops</a></div><div class="ttdeci">void unwrapLoops()</div><div class="ttdoc">Unwrap loops.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00542">BlockFrequencyInfoImpl.cpp:542</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a42dc56500d44820d4526a0863abc2943"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a42dc56500d44820d4526a0863abc2943">llvm::bfi_detail::BlockMass::getEmpty</a></div><div class="ttdeci">static BlockMass getEmpty()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00098">BlockFrequencyInfoImpl.h:98</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html"><div class="ttname"><a href="classllvm_1_1APInt.html">llvm::APInt</a></div><div class="ttdoc">Class for arbitrary precision integers.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00075">APInt.h:75</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">llvm::AMDGPU::CPol::SCC</a></div><div class="ttdeci">@ SCC</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00316">SIDefines.h:316</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Sched_html_ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9"><div class="ttname"><a href="namespacellvm_1_1Sched.html#ac1547cccaf660851fcd6863d1e60309eac13545a6345c7d5b3c9cc8932ad3b0e9">llvm::Sched::Source</a></div><div class="ttdeci">@ Source</div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00100">TargetLowering.h:100</a></div></div>
<div class="ttc" id="anamespacellvm_html_aeed11dc79f40b5a20c11997197f18543"><div class="ttname"><a href="namespacellvm.html#aeed11dc79f40b5a20c11997197f18543">llvm::CheckBFIUnknownBlockQueries</a></div><div class="ttdeci">llvm::cl::opt&lt; bool &gt; CheckBFIUnknownBlockQueries</div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a95338a977e204bee84a88c2b0a8a1fad"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a95338a977e204bee84a88c2b0a8a1fad">findIrreducibleHeaders</a></div><div class="ttdeci">static void findIrreducibleHeaders(const BlockFrequencyInfoImplBase &amp;BFI, const IrreducibleGraph &amp;G, const std::vector&lt; const IrreducibleGraph::IrrNode * &gt; &amp;SCC, LoopData::NodeList &amp;Headers, LoopData::NodeList &amp;Others)</div><div class="ttdoc">Find extra irreducible headers.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00712">BlockFrequencyInfoImpl.cpp:712</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html_afd6ff190a72a58d7c890cf480bc6f6e8"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html#afd6ff190a72a58d7c890cf480bc6f6e8">llvm::BlockFrequencyInfoImplBase::BlockNode::Index</a></div><div class="ttdeci">IndexType Index</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00194">BlockFrequencyInfoImpl.h:194</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1BranchProbability_html"><div class="ttname"><a href="classllvm_1_1BranchProbability.html">llvm::BranchProbability</a></div><div class="ttdef"><b>Definition:</b> <a href="BranchProbability_8h_source.html#l00030">BranchProbability.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a3874be041c63e0b867d82331409a0de2"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a3874be041c63e0b867d82331409a0de2">llvm::bfi_detail::BlockMass::isEmpty</a></div><div class="ttdeci">bool isEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00107">BlockFrequencyInfoImpl.h:107</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a92a5bef9afab84656590bbe1c530c86a"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a92a5bef9afab84656590bbe1c530c86a">llvm::BlockFrequencyInfoImplBase::getBlockProfileCount</a></div><div class="ttdeci">std::optional&lt; uint64_t &gt; getBlockProfileCount(const Function &amp;F, const BlockNode &amp;Node, bool AllowSynthetic=false) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00589">BlockFrequencyInfoImpl.cpp:589</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html">llvm::BlockFrequencyInfoImplBase</a></div><div class="ttdoc">Base class for BlockFrequencyInfoImpl.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00179">BlockFrequencyInfoImpl.h:179</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPUISD_html_a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996"><div class="ttname"><a href="namespacellvm_1_1AMDGPUISD.html#a739d53294bc38cd6b0b23332f9994c0eafbca76f7875e080d97cee761de04d996">llvm::AMDGPUISD::BFI</a></div><div class="ttdeci">@ BFI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUISelLowering_8h_source.html#l00441">AMDGPUISelLowering.h:441</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_a2ba9de56719382167db6112ba3d0b056"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#a2ba9de56719382167db6112ba3d0b056">llvm::BlockFrequencyInfoImplBase::LoopData::Exits</a></div><div class="ttdeci">ExitMap Exits</div><div class="ttdoc">Successor edges (and weights).</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00231">BlockFrequencyInfoImpl.h:231</a></div></div>
<div class="ttc" id="aScaledNumber_8h_html"><div class="ttname"><a href="ScaledNumber_8h.html">ScaledNumber.h</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a5514a17c0ec3ccae841930a4f8f74f99"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a5514a17c0ec3ccae841930a4f8f74f99">llvm::BlockFrequencyInfoImplBase::Scaled64</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; Scaled64</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00181">BlockFrequencyInfoImpl.h:181</a></div></div>
<div class="ttc" id="aclassllvm_1_1ScaledNumber_html"><div class="ttname"><a href="classllvm_1_1ScaledNumber.html">llvm::ScaledNumber&lt; uint64_t &gt;</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_afa65e9330ea446ed6f3b50dcefd93905"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#afa65e9330ea446ed6f3b50dcefd93905">llvm::bfi_detail::IrreducibleGraph::IrrNode::NumIn</a></div><div class="ttdeci">unsigned NumIn</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00610">BlockFrequencyInfoImpl.h:610</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ae42219072d798876e6b08e6b78614ff6"><div class="ttname"><a href="MD5_8cpp.html#ae42219072d798876e6b08e6b78614ff6">H</a></div><div class="ttdeci">#define H(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00057">MD5.cpp:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a65520b9c67759099e313d0f4e7b5ff9e"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a65520b9c67759099e313d0f4e7b5ff9e">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00084">DenseMap.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_af8aa6262fff3f09a8e2076d7a76e1628"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#af8aa6262fff3f09a8e2076d7a76e1628">llvm::BlockFrequencyInfoImplBase::adjustLoopHeaderMass</a></div><div class="ttdeci">void adjustLoopHeaderMass(LoopData &amp;Loop)</div><div class="ttdoc">Adjust the mass of all headers in an irreducible loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00835">BlockFrequencyInfoImpl.cpp:835</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_adc0b4a681eb28808ca79e6b13e50f0d4"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#adc0b4a681eb28808ca79e6b13e50f0d4">llvm::BlockFrequencyInfoImplBase::getFloatingBlockFreq</a></div><div class="ttdeci">Scaled64 getFloatingBlockFreq(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00622">BlockFrequencyInfoImpl.cpp:622</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_a5e4eb3a7c89dcc532ee7aee4e2029674"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#a5e4eb3a7c89dcc532ee7aee4e2029674">llvm::BlockFrequencyInfoImplBase::Distribution::Weights</a></div><div class="ttdeci">WeightList Weights</div><div class="ttdoc">Individual successor weights.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00387">BlockFrequencyInfoImpl.h:387</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoopBase_html_a58c5b170ea68b41e94ebb0019523a68f"><div class="ttname"><a href="classllvm_1_1LoopBase.html#a58c5b170ea68b41e94ebb0019523a68f">llvm::LoopBase::getHeader</a></div><div class="ttdeci">BlockT * getHeader() const</div><div class="ttdef"><b>Definition:</b> <a href="LoopInfo_8h_source.html#l00105">LoopInfo.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a3d95cc2d359b8d9ed5bd9504b44930b5"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a3d95cc2d359b8d9ed5bd9504b44930b5">llvm::DenseMapBase&lt; SmallDenseMap&lt; KeyT, ValueT, 4, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::size</a></div><div class="ttdeci">unsigned size() const</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00099">DenseMap.h:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a8b0a39cdeb682fee807685db5cfffd5a"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a8b0a39cdeb682fee807685db5cfffd5a">llvm::BlockFrequencyInfoImplBase::setBlockFreq</a></div><div class="ttdeci">void setBlockFreq(const BlockNode &amp;Node, uint64_t Freq)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00628">BlockFrequencyInfoImpl.cpp:628</a></div></div>
<div class="ttc" id="aSyntheticCountsPropagation_8cpp_html_a49c1e422196c0091065074ac15fb6ba3"><div class="ttname"><a href="SyntheticCountsPropagation_8cpp.html#a49c1e422196c0091065074ac15fb6ba3">Scaled64</a></div><div class="ttdeci">ScaledNumber&lt; uint64_t &gt; Scaled64</div><div class="ttdef"><b>Definition:</b> <a href="SyntheticCountsPropagation_8cpp_source.html#l00037">SyntheticCountsPropagation.cpp:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="anamespacellvm_html_a66191f0bcc8c62b784819e9e96ceeba2"><div class="ttname"><a href="namespacellvm.html#a66191f0bcc8c62b784819e9e96ceeba2">llvm::countl_zero</a></div><div class="ttdeci">int countl_zero(T Val)</div><div class="ttdoc">Count number of 0's from the most significant bit to the least stopping at the first 1.</div><div class="ttdef"><b>Definition:</b> <a href="bit_8h_source.html#l00245">bit.h:245</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Weight_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Weight.html">llvm::BlockFrequencyInfoImplBase::Weight</a></div><div class="ttdoc">Unscaled probability weight.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00365">BlockFrequencyInfoImpl.h:365</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_aa694a8c0f8d2a04ac086fc4217615367"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aa694a8c0f8d2a04ac086fc4217615367">llvm::BlockFrequencyInfoImplBase::LoopData::Nodes</a></div><div class="ttdeci">NodeList Nodes</div><div class="ttdoc">Header and the members of the loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00232">BlockFrequencyInfoImpl.h:232</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_ac95b88432687074901d5cc201b62be76"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#ac95b88432687074901d5cc201b62be76">convertFloatingToInteger</a></div><div class="ttdeci">static void convertFloatingToInteger(BlockFrequencyInfoImplBase &amp;BFI, const Scaled64 &amp;Min, const Scaled64 &amp;Max)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00481">BlockFrequencyInfoImpl.cpp:481</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a2d2eb10767a708e79d160dae4ebcd0a2"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a2d2eb10767a708e79d160dae4ebcd0a2">llvm::bfi_detail::BlockMass::print</a></div><div class="ttdeci">raw_ostream &amp; print(raw_ostream &amp;OS) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00081">BlockFrequencyInfoImpl.cpp:81</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_af7b0ebc6a85830e67121d86801e54d8f"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#af7b0ebc6a85830e67121d86801e54d8f">shiftRightAndRound</a></div><div class="ttdeci">static uint64_t shiftRightAndRound(uint64_t N, int Shift)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00227">BlockFrequencyInfoImpl.cpp:227</a></div></div>
<div class="ttc" id="aclassllvm_1_1bfi__detail_1_1BlockMass_html_a221f01eee80db0b0c4f4567c84b54fb5"><div class="ttname"><a href="classllvm_1_1bfi__detail_1_1BlockMass.html#a221f01eee80db0b0c4f4567c84b54fb5">llvm::bfi_detail::BlockMass::getMass</a></div><div class="ttdeci">uint64_t getMass() const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00104">BlockFrequencyInfoImpl.h:104</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_ac7119657849326a17e7ada6cb242c288"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#ac7119657849326a17e7ada6cb242c288">llvm::BlockFrequencyInfoImplBase::LoopData::BackedgeMass</a></div><div class="ttdeci">HeaderMassList BackedgeMass</div><div class="ttdoc">Mass returned to each loop header.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00233">BlockFrequencyInfoImpl.h:233</a></div></div>
<div class="ttc" id="anamespacellvm_html_a94af5377a23091e9f0cf395b6e129dfb"><div class="ttname"><a href="namespacellvm.html#a94af5377a23091e9f0cf395b6e129dfb">llvm::IterativeBFIMaxIterationsPerBlock</a></div><div class="ttdeci">llvm::cl::opt&lt; unsigned &gt; IterativeBFIMaxIterationsPerBlock</div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="anamespacellvm_1_1bfi__detail_html_a01e9ac225b83bb4ded4adbba7d360cbe"><div class="ttname"><a href="namespacellvm_1_1bfi__detail.html#a01e9ac225b83bb4ded4adbba7d360cbe">llvm::bfi_detail::getBlockName</a></div><div class="ttdeci">std::string getBlockName(const BlockT *BB)</div><div class="ttdoc">Get the name of a MachineBasicBlock.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00575">BlockFrequencyInfoImpl.h:575</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_html_a598a6261818f8c015f4ebd74ad4ae81a"><div class="ttname"><a href="namespacellvm.html#a598a6261818f8c015f4ebd74ad4ae81a">llvm::UseIterativeBFIInference</a></div><div class="ttdeci">llvm::cl::opt&lt; bool &gt; UseIterativeBFIInference</div></div>
<div class="ttc" id="aclassllvm_1_1raw__svector__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__svector__ostream.html">llvm::raw_svector_ostream</a></div><div class="ttdoc">A raw_ostream that writes to an SmallVector or SmallString.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00672">raw_ostream.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a81aacbe4befdc892179bb8cdac170370"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a81aacbe4befdc892179bb8cdac170370">llvm::BlockFrequencyInfoImplBase::getBlockName</a></div><div class="ttdeci">virtual std::string getBlockName(const BlockNode &amp;Node) const</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00636">BlockFrequencyInfoImpl.cpp:636</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html_aed6828c6f5229e4099a34c13da1d2d08"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html#aed6828c6f5229e4099a34c13da1d2d08">llvm::BlockFrequencyInfoImplBase::LoopData::getHeaderIndex</a></div><div class="ttdeci">HeaderMassList::difference_type getHeaderIndex(const BlockNode &amp;B)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00259">BlockFrequencyInfoImpl.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_a673d335f21e5df4fb227432b653fe8ab"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#a673d335f21e5df4fb227432b653fe8ab">llvm::BlockFrequencyInfoImplBase::isIrrLoopHeader</a></div><div class="ttdeci">bool isIrrLoopHeader(const BlockNode &amp;Node)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00615">BlockFrequencyInfoImpl.cpp:615</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html"><div class="ttname"><a href="structllvm_1_1GraphTraits.html">llvm::GraphTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00037">GraphTraits.h:37</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1LoopData.html">llvm::BlockFrequencyInfoImplBase::LoopData</a></div><div class="ttdoc">Data about a loop.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00223">BlockFrequencyInfoImpl.h:223</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a1377985f15180a3717b4a519b13eaedb"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a1377985f15180a3717b4a519b13eaedb">llvm::bfi_detail::IrreducibleGraph::indexNodes</a></div><div class="ttdeci">void indexNodes()</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00676">BlockFrequencyInfoImpl.cpp:676</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_a8961714adf03d003152f5f785da8b26a"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#a8961714adf03d003152f5f785da8b26a">llvm::bfi_detail::IrreducibleGraph::Nodes</a></div><div class="ttdeci">std::vector&lt; IrrNode &gt; Nodes</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00624">BlockFrequencyInfoImpl.h:624</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_html_aae0e48b4d74e4dbcd777495cd16ae822"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph.html#aae0e48b4d74e4dbcd777495cd16ae822">llvm::bfi_detail::IrreducibleGraph::Lookup</a></div><div class="ttdeci">SmallDenseMap&lt; uint32_t, IrrNode *, 4 &gt; Lookup</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00625">BlockFrequencyInfoImpl.h:625</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution_html_ac86fec7279ee04ded4052cdc9a867ea9"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1Distribution.html#ac86fec7279ee04ded4052cdc9a867ea9">llvm::BlockFrequencyInfoImplBase::Distribution::addExit</a></div><div class="ttdeci">void addExit(const BlockNode &amp;Node, uint64_t Amount)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00397">BlockFrequencyInfoImpl.h:397</a></div></div>
<div class="ttc" id="astructllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode_html"><div class="ttname"><a href="structllvm_1_1BlockFrequencyInfoImplBase_1_1BlockNode.html">llvm::BlockFrequencyInfoImplBase::BlockNode</a></div><div class="ttdoc">Representative of a block.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00191">BlockFrequencyInfoImpl.h:191</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="astructllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode_html_ae21e5d7ba9e61bdd5a1b97cf142fbaa1"><div class="ttname"><a href="structllvm_1_1bfi__detail_1_1IrreducibleGraph_1_1IrrNode.html#ae21e5d7ba9e61bdd5a1b97cf142fbaa1">llvm::bfi_detail::IrreducibleGraph::IrrNode::Edges</a></div><div class="ttdeci">std::deque&lt; const IrrNode * &gt; Edges</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8h_source.html#l00611">BlockFrequencyInfoImpl.h:611</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aac32cd773a37b10c8f835459a23ac606"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aac32cd773a37b10c8f835459a23ac606">llvm::BlockFrequencyInfoImplBase::addToDist</a></div><div class="ttdeci">bool addToDist(Distribution &amp;Dist, const LoopData *OuterLoop, const BlockNode &amp;Pred, const BlockNode &amp;Succ, uint64_t Weight)</div><div class="ttdoc">Add an edge to the distribution.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00311">BlockFrequencyInfoImpl.cpp:311</a></div></div>
<div class="ttc" id="aclassllvm_1_1BlockFrequencyInfoImplBase_html_aabc6780051353310f8899f9cc5283337"><div class="ttname"><a href="classllvm_1_1BlockFrequencyInfoImplBase.html#aabc6780051353310f8899f9cc5283337">llvm::BlockFrequencyInfoImplBase::analyzeIrreducible</a></div><div class="ttdeci">iterator_range&lt; std::list&lt; LoopData &gt;::iterator &gt; analyzeIrreducible(const bfi_detail::IrreducibleGraph &amp;G, LoopData *OuterLoop, std::list&lt; LoopData &gt;::iterator Insert)</div><div class="ttdoc">Analyze irreducible SCCs.</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00804">BlockFrequencyInfoImpl.cpp:804</a></div></div>
<div class="ttc" id="aBlockFrequencyInfoImpl_8cpp_html_a7c993766c71555883cf7cf7a2d98dd51"><div class="ttname"><a href="BlockFrequencyInfoImpl_8cpp.html#a7c993766c71555883cf7cf7a2d98dd51">getHexDigit</a></div><div class="ttdeci">static char getHexDigit(int N)</div><div class="ttdef"><b>Definition:</b> <a href="BlockFrequencyInfoImpl_8cpp_source.html#l00074">BlockFrequencyInfoImpl.cpp:74</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:48:15 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
