<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/X86/X86LegalizerInfo.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_558b7c0c66e2ff4834e628dd4b3edd32.html">X86</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">X86LegalizerInfo.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="X86LegalizerInfo_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- X86LegalizerInfo.cpp --------------------------------------*- C++ -*-==//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// This file implements the targeting of the Machinelegalizer class for X86.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// \todo This should be generated by TableGen.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span><span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86LegalizerInfo_8h.html">X86LegalizerInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86Subtarget_8h.html">X86Subtarget.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="X86TargetMachine_8h.html">X86TargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LegalizerHelper_8h.html">llvm/CodeGen/GlobalISel/LegalizerHelper.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetOpcodes_8h.html">llvm/CodeGen/TargetOpcodes.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTypes_8h.html">llvm/CodeGen/ValueTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DerivedTypes_8h.html">llvm/IR/DerivedTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span>TargetOpcode;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">using namespace </span>LegalizeActions;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">/// FIXME: The following static functions are SizeChangeStrategy functions</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/// that are meant to temporarily mimic the behaviour of the old legalization</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/// based on doubling/halving non-legal types as closely as possible. This is</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/// not entirly possible as only legalizing the types that are exactly a power</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/// of 2 times the size of the legal types would require specifying all those</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">/// sizes explicitly.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">/// In practice, not specifying those isn&#39;t a problem, and the below functions</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/// should disappear quickly as we add support for legalizing non-power-of-2</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/// sized types further.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="X86LegalizerInfo_8cpp.html#aa00c74dc9e06e2ca9cd9c7bb11353c33">   35</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="X86LegalizerInfo_8cpp.html#aa00c74dc9e06e2ca9cd9c7bb11353c33">addAndInterleaveWithUnsupported</a>(</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">LegacyLegalizerInfo::SizeAndActionsVec</a> &amp;<a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>,</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">LegacyLegalizerInfo::SizeAndActionsVec</a> &amp;v) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; v.size(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>.push_back(v[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>]);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 &lt; v[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1 &lt; v.size() &amp;&amp;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        v[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1].first != v[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first + 1)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>.push_back({v[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].first + 1, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a5118e62994caf312467b5e5539a9e39b">LegacyLegalizeActions::Unsupported</a>});</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">LegacyLegalizerInfo::SizeAndActionsVec</a></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="X86LegalizerInfo_8cpp.html#a7d385335878f89abbbea9b3edcbe1418">   47</a></span>&#160;<a class="code" href="X86LegalizerInfo_8cpp.html#a7d385335878f89abbbea9b3edcbe1418">widen_1</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">LegacyLegalizerInfo::SizeAndActionsVec</a> &amp;v) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(v.size() &gt;= 1);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(v[0].first &gt; 1);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">LegacyLegalizerInfo::SizeAndActionsVec</a> <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a> = {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      {1, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078af024bf463bed5cbd23fd03a1499b4b48">LegacyLegalizeActions::WidenScalar</a>},</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      {2, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a5118e62994caf312467b5e5539a9e39b">LegacyLegalizeActions::Unsupported</a>}};</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <a class="code" href="X86LegalizerInfo_8cpp.html#aa00c74dc9e06e2ca9cd9c7bb11353c33">addAndInterleaveWithUnsupported</a>(<a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>, v);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">auto</span> Largest = <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>.back().first;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>.push_back({Largest + 1, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a5118e62994caf312467b5e5539a9e39b">LegacyLegalizeActions::Unsupported</a>});</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classllvm_1_1X86LegalizerInfo.html#abfc562c1c7aebc23222627fa24d11df5">   59</a></span>&#160;<a class="code" href="classllvm_1_1X86LegalizerInfo.html#abfc562c1c7aebc23222627fa24d11df5">X86LegalizerInfo::X86LegalizerInfo</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1X86Subtarget.html">X86Subtarget</a> &amp;STI,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1X86TargetMachine.html">X86TargetMachine</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    : Subtarget(STI), <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  setLegalizerInfo32bit();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  setLegalizerInfo64bit();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  setLegalizerInfoSSE1();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  setLegalizerInfoSSE2();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  setLegalizerInfoSSE41();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  setLegalizerInfoAVX();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  setLegalizerInfoAVX2();</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  setLegalizerInfoAVX512();</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  setLegalizerInfoAVX512DQ();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  setLegalizerInfoAVX512BW();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_INTRINSIC_ROUNDEVEN)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6ec49293cfc66ba0163caa2da451201">scalarize</a>(0)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab7414b66de51a2dd2f255c46b782157a">minScalar</a>(0, <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(32))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a9116f6d77246d809e5f61ae94aa4c355">libcall</a>();</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  LegacyInfo.setLegalizeScalarToDifferentSizeStrategy(G_PHI, 0, <a class="code" href="X86LegalizerInfo_8cpp.html#a7d385335878f89abbbea9b3edcbe1418">widen_1</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_SUB, G_MUL, G_AND, G_OR, G_XOR})</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    LegacyInfo.setLegalizeScalarToDifferentSizeStrategy(BinOp, 0, <a class="code" href="X86LegalizerInfo_8cpp.html#a7d385335878f89abbbea9b3edcbe1418">widen_1</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE})</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    LegacyInfo.setLegalizeScalarToDifferentSizeStrategy(</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <a class="code" href="structllvm_1_1MemOp.html">MemOp</a>, 0, <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a490d3e7a1b29a3bd3265691636381502">LegacyLegalizerInfo::narrowToSmallerAndWidenToSmallest</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  LegacyInfo.setLegalizeScalarToDifferentSizeStrategy(</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      G_PTR_ADD, 1,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a5f1886b5dda7fa57ac21a21f816c9f63">LegacyLegalizerInfo::widenToLargerTypesUnsupportedOtherwise</a>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  LegacyInfo.setLegalizeScalarToDifferentSizeStrategy(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      G_CONSTANT, 0,</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <a class="code" href="classllvm_1_1LegacyLegalizerInfo.html#a99b7a87bbd3d7e6dc5c30a0b577d3c76">LegacyLegalizerInfo::widenToLargerTypesAndNarrowToLargest</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>({G_MEMCPY, G_MEMMOVE, G_MEMSET}).<a class="code" href="lib_2CodeGen_2README_8txt.html#a3625bbe909f59184d26d2652d7f5119b">libcall</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  LegacyInfo.computeTables();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a9801185bc6472dc541877662983e7414">verify</a>(*STI.<a class="code" href="classllvm_1_1X86Subtarget.html#a77c5541c3a77bc35d9c6a49ab7faf97d">getInstrInfo</a>());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="classllvm_1_1X86LegalizerInfo.html#a2d2c4c47a7326cd903beda3b760d057a">   99</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1X86LegalizerInfo.html#a2d2c4c47a7326cd903beda3b760d057a">X86LegalizerInfo::legalizeIntrinsic</a>(<a class="code" href="classllvm_1_1LegalizerHelper.html">LegalizerHelper</a> &amp;Helper,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                                         <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfo32bit() {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> p0 = <a class="code" href="classllvm_1_1LLT.html#a7ff0361855acbbe71b15b8dc6003fbc5">LLT::pointer</a>(0, TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5a411a3e39c13b46c05558240901cd3c">getPointerSizeInBits</a>(0));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a> = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(1);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s8 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(8);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s16 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(16);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s32 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(32);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s64 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(64);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s128 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(128);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {p0, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a>, s8, s16, s32})</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    LegacyInfo.setAction({G_IMPLICIT_DEF, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s8, s16, s32, p0})</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    LegacyInfo.setAction({G_PHI, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB, G_MUL, G_AND, G_OR, G_XOR})</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s8, s16, s32})</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a> : {G_UADDE}) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    LegacyInfo.setAction({<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    LegacyInfo.setAction({<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">Op</a>, 1, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a>}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE}) {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s8, s16, s32, p0})</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      LegacyInfo.setAction({MemOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="comment">// And everything&#39;s fine in addrspace 0.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    LegacyInfo.setAction({<a class="code" href="structllvm_1_1MemOp.html">MemOp</a>, 1, p0}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// Pointer-handling</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  LegacyInfo.setAction({G_FRAME_INDEX, p0}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  LegacyInfo.setAction({G_GLOBAL_VALUE, p0}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  LegacyInfo.setAction({G_PTR_ADD, p0}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  LegacyInfo.setAction({G_PTR_ADD, 1, s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.is64Bit()) {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_PTRTOINT)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a>, s8, s16, s32}, {p0})</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        .maxScalar(0, s32)</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(0, <span class="comment">/*Min*/</span> 8);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_INTTOPTR).<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a51b92ff153c76b49d9036c331fc534c2">legalFor</a>({{p0, s32}});</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="comment">// Shifts and SDIV</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        {G_SDIV, G_SREM, G_UDIV, G_UREM})</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      .legalFor({s8, s16, s32})</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      .clampScalar(0, s8, s32);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        {G_SHL, G_LSHR, G_ASHR})</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      .legalFor({{s8, s8}, {s16, s8}, {s32, s8}})</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      .clampScalar(0, s8, s32)</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">clampScalar</a>(1, s8, s8);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// Comparison</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_ICMP)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({s8}, {s8, s16, s32, p0})</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        .clampScalar(0, s8, s8);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Control-flow</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  LegacyInfo.setAction({G_BRCOND, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a>}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="comment">// Constants</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s8, s16, s32, p0})</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    LegacyInfo.setAction({TargetOpcode::G_CONSTANT, Ty},</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// Extensions</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s8, s16, s32}) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    LegacyInfo.setAction({G_ZEXT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    LegacyInfo.setAction({G_SEXT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    LegacyInfo.setAction({G_ANYEXT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  LegacyInfo.setAction({G_ANYEXT, s128}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_SEXT_INREG).<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a8001d93939045f0e2c4b82e1b5eab30a">lower</a>();</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {s16, s32, s64}) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    LegacyInfo.setAction({G_MERGE_VALUES, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, 1, Ty},</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {s8, s16, s32}) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    LegacyInfo.setAction({G_MERGE_VALUES, 1, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfo64bit() {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.is64Bit())</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> p0 = <a class="code" href="classllvm_1_1LLT.html#a7ff0361855acbbe71b15b8dc6003fbc5">LLT::pointer</a>(0, TM.<a class="code" href="classllvm_1_1TargetMachine.html#a5a411a3e39c13b46c05558240901cd3c">getPointerSizeInBits</a>(0));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a> = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(1);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s8 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(8);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s16 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(16);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s32 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(32);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s64 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(64);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s128 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(128);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  LegacyInfo.setAction({G_IMPLICIT_DEF, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// Need to have that, as tryFoldImplicitDef will create this pattern:</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">// s128 = EXTEND (G_IMPLICIT_DEF s32/s64) -&gt; s128 = G_IMPLICIT_DEF</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  LegacyInfo.setAction({G_IMPLICIT_DEF, s128}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  LegacyInfo.setAction({G_PHI, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB, G_MUL, G_AND, G_OR, G_XOR})</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    LegacyInfo.setAction({BinOp, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160; </div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE})</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    LegacyInfo.setAction({MemOp, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">// Pointer-handling</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  LegacyInfo.setAction({G_PTR_ADD, 1, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_PTRTOINT)</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({<a class="code" href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a>, s8, s16, s32, s64}, {p0})</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      .maxScalar(0, s64)</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(0, <span class="comment">/*Min*/</span> 8);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_INTTOPTR).<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a51b92ff153c76b49d9036c331fc534c2">legalFor</a>({{p0, s64}});</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="comment">// Constants</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  LegacyInfo.setAction({TargetOpcode::G_CONSTANT, s64},</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                       <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// Extensions</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> extOp : {G_ZEXT, G_SEXT, G_ANYEXT}) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    LegacyInfo.setAction({extOp, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_SITOFP)</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({s32, s64})</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      .clampScalar(1, s32, s64)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(1)</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">clampScalar</a>(0, s32, s64)</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(0);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_FPTOSI)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({s32, s64})</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      .clampScalar(1, s32, s64)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(0)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">clampScalar</a>(0, s32, s64)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(1);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <span class="comment">// Comparison</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_ICMP)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({s8}, {s8, s16, s32, s64, p0})</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      .clampScalar(0, s8, s8);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(G_FCMP)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">legalForCartesianProduct</a>({s8}, {s32, s64})</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      .clampScalar(0, s8, s8)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">clampScalar</a>(1, s32, s64)</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">widenScalarToNextPow2</a>(1);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Divisions</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      {G_SDIV, G_SREM, G_UDIV, G_UREM})</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      .legalFor({s8, s16, s32, s64})</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      .clampScalar(0, s8, s64);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Shifts</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <a class="code" href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">getActionDefinitionsBuilder</a>(</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {G_SHL, G_LSHR, G_ASHR})</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    .legalFor({{s8, s8}, {s16, s8}, {s32, s8}, {s64, s8}})</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    .clampScalar(0, s8, s64)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    .<a class="code" href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">clampScalar</a>(1, s8, s8);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  LegacyInfo.setAction({G_MERGE_VALUES, s128}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  LegacyInfo.setAction({G_UNMERGE_VALUES, 1, s128},</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                       <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  LegacyInfo.setAction({G_MERGE_VALUES, 1, s128}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  LegacyInfo.setAction({G_UNMERGE_VALUES, s128}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoSSE1() {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a290ddb05d1b6ea50bfe421dd3f7b6164">hasSSE1</a>())</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s32 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(32);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s64 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(64);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 32);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v2s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(2, 64);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160; </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_FADD, G_FSUB, G_FMUL, G_FDIV})</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s32, v4s32})</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE})</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v4s32, v2s64})</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      LegacyInfo.setAction({MemOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// Constants</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  LegacyInfo.setAction({TargetOpcode::G_FCONSTANT, s32},</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                       <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160; </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {v4s32, v2s64}) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, 1, Ty},</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  LegacyInfo.setAction({G_MERGE_VALUES, 1, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  LegacyInfo.setAction({G_UNMERGE_VALUES, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoSSE2() {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#aa9090baf67a59e7af1c2e671e1142888">hasSSE2</a>())</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s32 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(32);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> s64 = <a class="code" href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">LLT::scalar</a>(64);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 8);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 16);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 32);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v2s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(2, 64);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 8);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 16);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 32);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 64);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160; </div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_FADD, G_FSUB, G_FMUL, G_FDIV})</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {s64, v2s64})</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB})</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v16s8, v8s16, v4s32, v2s64})</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  LegacyInfo.setAction({G_MUL, v8s16}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  LegacyInfo.setAction({G_FPEXT, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  LegacyInfo.setAction({G_FPEXT, 1, s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  LegacyInfo.setAction({G_FPTRUNC, s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  LegacyInfo.setAction({G_FPTRUNC, 1, s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="comment">// Constants</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  LegacyInfo.setAction({TargetOpcode::G_FCONSTANT, s64},</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                       <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty :</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;       {v16s8, v32s8, v8s16, v16s16, v4s32, v8s32, v2s64, v4s64}) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, 1, Ty},</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {v16s8, v8s16, v4s32, v2s64}) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, 1, Ty},</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoSSE41() {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a9060597792bcc37f29996e35ac42acf6">hasSSE41</a>())</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 32);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  LegacyInfo.setAction({G_MUL, v4s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoAVX() {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#ad53602fc659b337387df05d2f8f0aac5">hasAVX</a>())</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160; </div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 8);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 16);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 32);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v2s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(2, 64);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 8);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v64s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(64, 8);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 16);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 16);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 32);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 32);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 64);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 64);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE})</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v8s32, v4s64})</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      LegacyInfo.setAction({MemOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v32s8, v16s16, v8s32, v4s64}) {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    LegacyInfo.setAction({G_INSERT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    LegacyInfo.setAction({G_EXTRACT, 1, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v16s8, v8s16, v4s32, v2s64}) {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    LegacyInfo.setAction({G_INSERT, 1, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    LegacyInfo.setAction({G_EXTRACT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty :</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;       {v32s8, v64s8, v16s16, v32s16, v8s32, v16s32, v4s64, v8s64}) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, 1, Ty},</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty :</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;       {v16s8, v32s8, v8s16, v16s16, v4s32, v8s32, v2s64, v4s64}) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, 1, Ty},</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;}</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoAVX2() {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#afc9df7749d4a27e1330d922c3aeb3975">hasAVX2</a>())</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 8);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 16);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 32);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 64);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v64s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(64, 8);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 16);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 32);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 64);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160; </div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB})</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v32s8, v16s16, v8s32, v4s64})</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v16s16, v8s32})</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    LegacyInfo.setAction({G_MUL, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <span class="comment">// Merge/Unmerge</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {v64s8, v32s16, v16s32, v8s64}) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, 1, Ty},</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;Ty : {v32s8, v16s16, v8s32, v4s64}) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    LegacyInfo.setAction({G_CONCAT_VECTORS, 1, Ty},</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                         <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    LegacyInfo.setAction({G_UNMERGE_VALUES, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;}</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoAVX512() {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a8caa24f675e22c202d5eb8937e54def1">hasAVX512</a>())</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 8);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 16);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 32);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v2s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(2, 64);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160; </div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 8);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 16);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 32);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 64);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v64s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(64, 8);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 16);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s32 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 32);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 64);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB})</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v16s32, v8s64})</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  LegacyInfo.setAction({G_MUL, v16s32}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160; </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="structllvm_1_1MemOp.html">MemOp</a> : {G_LOAD, G_STORE})</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v16s32, v8s64})</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      LegacyInfo.setAction({MemOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v64s8, v32s16, v16s32, v8s64}) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    LegacyInfo.setAction({G_INSERT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    LegacyInfo.setAction({G_EXTRACT, 1, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v32s8, v16s16, v8s32, v4s64, v16s8, v8s16, v4s32, v2s64}) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    LegacyInfo.setAction({G_INSERT, 1, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    LegacyInfo.setAction({G_EXTRACT, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160; </div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;<span class="comment">  /************ VLX *******************/</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.hasVLX())</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v4s32, v8s32})</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    LegacyInfo.setAction({G_MUL, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;}</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoAVX512DQ() {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="keywordflow">if</span> (!(Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a8caa24f675e22c202d5eb8937e54def1">hasAVX512</a>() &amp;&amp; Subtarget.hasDQI()))</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 64);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  LegacyInfo.setAction({G_MUL, v8s64}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;<span class="comment">  /************ VLX *******************/</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.hasVLX())</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v2s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(2, 64);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v4s64 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(4, 64);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v2s64, v4s64})</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    LegacyInfo.setAction({G_MUL, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160; </div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="keywordtype">void</span> X86LegalizerInfo::setLegalizerInfoAVX512BW() {</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordflow">if</span> (!(Subtarget.<a class="code" href="classllvm_1_1X86Subtarget.html#a8caa24f675e22c202d5eb8937e54def1">hasAVX512</a>() &amp;&amp; Subtarget.hasBWI()))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v64s8 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(64, 8);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v32s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(32, 16);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160; </div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keyword">auto</span> &amp;LegacyInfo = <a class="code" href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">getLegacyLegalizerInfo</a>();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> BinOp : {G_ADD, G_SUB})</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v64s8, v32s16})</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      LegacyInfo.setAction({BinOp, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160; </div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  LegacyInfo.setAction({G_MUL, v32s16}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="comment">  /************ VLX *******************/</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keywordflow">if</span> (!Subtarget.hasVLX())</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160; </div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v8s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(8, 16);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LLT.html">LLT</a> v16s16 = <a class="code" href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">LLT::fixed_vector</a>(16, 16);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> Ty : {v8s16, v16s16})</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    LegacyInfo.setAction({G_MUL, Ty}, <a class="code" href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">LegacyLegalizeActions::Legal</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aValueTypes_8h_html"><div class="ttname"><a href="ValueTypes_8h.html">ValueTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_ab38b237c564a670c78640d09642faa40"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#ab38b237c564a670c78640d09642faa40">llvm::LegalizeRuleSet::widenScalarToNextPow2</a></div><div class="ttdeci">LegalizeRuleSet &amp; widenScalarToNextPow2(unsigned TypeIdx, unsigned MinSize=0)</div><div class="ttdoc">Widen the scalar to the next power of two that is at least MinSize.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00877">LegalizerInfo.h:877</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyLegalizerInfo_html_a703c0ed452aea3693d8fe1441a935d5a"><div class="ttname"><a href="classllvm_1_1LegacyLegalizerInfo.html#a703c0ed452aea3693d8fe1441a935d5a">llvm::LegacyLegalizerInfo::SizeAndActionsVec</a></div><div class="ttdeci">std::vector&lt; SizeAndAction &gt; SizeAndActionsVec</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00123">LegacyLegalizerInfo.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html_a5a411a3e39c13b46c05558240901cd3c"><div class="ttname"><a href="classllvm_1_1TargetMachine.html#a5a411a3e39c13b46c05558240901cd3c">llvm::TargetMachine::getPointerSizeInBits</a></div><div class="ttdeci">unsigned getPointerSizeInBits(unsigned AS) const</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00195">TargetMachine.h:195</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86LegalizerInfo_html_a2d2c4c47a7326cd903beda3b760d057a"><div class="ttname"><a href="classllvm_1_1X86LegalizerInfo.html#a2d2c4c47a7326cd903beda3b760d057a">llvm::X86LegalizerInfo::legalizeIntrinsic</a></div><div class="ttdeci">bool legalizeIntrinsic(LegalizerHelper &amp;Helper, MachineInstr &amp;MI) const override</div><div class="ttdef"><b>Definition:</b> <a href="X86LegalizerInfo_8cpp_source.html#l00099">X86LegalizerInfo.cpp:99</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_aa9090baf67a59e7af1c2e671e1142888"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#aa9090baf67a59e7af1c2e671e1142888">llvm::X86Subtarget::hasSSE2</a></div><div class="ttdeci">bool hasSSE2() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00200">X86Subtarget.h:200</a></div></div>
<div class="ttc" id="aX86Subtarget_8h_html"><div class="ttname"><a href="X86Subtarget_8h.html">X86Subtarget.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_afc9df7749d4a27e1330d922c3aeb3975"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#afc9df7749d4a27e1330d922c3aeb3975">llvm::X86Subtarget::hasAVX2</a></div><div class="ttdeci">bool hasAVX2() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00206">X86Subtarget.h:206</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizerInfo_html_a32539827696dafee94ee79c3321b4245"><div class="ttname"><a href="classllvm_1_1LegalizerInfo.html#a32539827696dafee94ee79c3321b4245">llvm::LegalizerInfo::getActionDefinitionsBuilder</a></div><div class="ttdeci">LegalizeRuleSet &amp; getActionDefinitionsBuilder(unsigned Opcode)</div><div class="ttdoc">Get the action definition builder for the given opcode.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8cpp_source.html#l00288">LegalizerInfo.cpp:288</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_a77c5541c3a77bc35d9c6a49ab7faf97d"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a77c5541c3a77bc35d9c6a49ab7faf97d">llvm::X86Subtarget::getInstrInfo</a></div><div class="ttdeci">const X86InstrInfo * getInstrInfo() const override</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00128">X86Subtarget.h:128</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_a9116f6d77246d809e5f61ae94aa4c355"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#a9116f6d77246d809e5f61ae94aa4c355">llvm::LegalizeRuleSet::libcall</a></div><div class="ttdeci">LegalizeRuleSet &amp; libcall()</div><div class="ttdoc">The instruction is emitted as a library call.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00723">LegalizerInfo.h:723</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html">llvm::X86Subtarget</a></div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00052">X86Subtarget.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegacyLegalizeActions_html_ad25716c86372dafbf624b34891685078af024bf463bed5cbd23fd03a1499b4b48"><div class="ttname"><a href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078af024bf463bed5cbd23fd03a1499b4b48">llvm::LegacyLegalizeActions::WidenScalar</a></div><div class="ttdeci">@ WidenScalar</div><div class="ttdoc">The operation should be implemented in terms of a wider scalar base-type.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00040">LegacyLegalizerInfo.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_a67021459c7ef8f9a634b4eac7ffd0f96"><div class="ttname"><a href="classllvm_1_1LLT.html#a67021459c7ef8f9a634b4eac7ffd0f96">llvm::LLT::scalar</a></div><div class="ttdeci">static constexpr LLT scalar(unsigned SizeInBits)</div><div class="ttdoc">Get a low-level scalar or aggregate &quot;bag of bits&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00042">LowLevelTypeImpl.h:42</a></div></div>
<div class="ttc" id="astructllvm_1_1MemOp_html"><div class="ttname"><a href="structllvm_1_1MemOp.html">llvm::MemOp</a></div><div class="ttdef"><b>Definition:</b> <a href="TargetLowering_8h_source.html#l00112">TargetLowering.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_af6ec49293cfc66ba0163caa2da451201"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#af6ec49293cfc66ba0163caa2da451201">llvm::LegalizeRuleSet::scalarize</a></div><div class="ttdeci">LegalizeRuleSet &amp; scalarize(unsigned TypeIdx)</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00911">LegalizerInfo.h:911</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_a8001d93939045f0e2c4b82e1b5eab30a"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#a8001d93939045f0e2c4b82e1b5eab30a">llvm::LegalizeRuleSet::lower</a></div><div class="ttdeci">LegalizeRuleSet &amp; lower()</div><div class="ttdoc">The instruction is lowered.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00659">LegalizerInfo.h:659</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizerHelper_html"><div class="ttname"><a href="classllvm_1_1LegalizerHelper.html">llvm::LegalizerHelper</a></div><div class="ttdef"><b>Definition:</b> <a href="LegalizerHelper_8h_source.html#l00046">LegalizerHelper.h:46</a></div></div>
<div class="ttc" id="aX86LegalizerInfo_8cpp_html_a7d385335878f89abbbea9b3edcbe1418"><div class="ttname"><a href="X86LegalizerInfo_8cpp.html#a7d385335878f89abbbea9b3edcbe1418">widen_1</a></div><div class="ttdeci">static LegacyLegalizerInfo::SizeAndActionsVec widen_1(const LegacyLegalizerInfo::SizeAndActionsVec &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="X86LegalizerInfo_8cpp_source.html#l00047">X86LegalizerInfo.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_ab7414b66de51a2dd2f255c46b782157a"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#ab7414b66de51a2dd2f255c46b782157a">llvm::LegalizeRuleSet::minScalar</a></div><div class="ttdeci">LegalizeRuleSet &amp; minScalar(unsigned TypeIdx, const LLT Ty)</div><div class="ttdoc">Ensure the scalar is at least as wide as Ty.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00945">LegalizerInfo.h:945</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_ae070adaf1b4bf0e7c12fcae2b9c5ae67"><div class="ttname"><a href="README__P9_8txt.html#ae070adaf1b4bf0e7c12fcae2b9c5ae67">result</a></div><div class="ttdeci">It looks like we only need to define PPCfmarto for these because according to these instructions perform RTO on fma s result</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00256">README_P9.txt:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyLegalizerInfo_html_a490d3e7a1b29a3bd3265691636381502"><div class="ttname"><a href="classllvm_1_1LegacyLegalizerInfo.html#a490d3e7a1b29a3bd3265691636381502">llvm::LegacyLegalizerInfo::narrowToSmallerAndWidenToSmallest</a></div><div class="ttdeci">static SizeAndActionsVec narrowToSmallerAndWidenToSmallest(const SizeAndActionsVec &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00244">LegacyLegalizerInfo.h:244</a></div></div>
<div class="ttc" id="aTargetOpcodes_8h_html"><div class="ttname"><a href="TargetOpcodes_8h.html">TargetOpcodes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_a290ddb05d1b6ea50bfe421dd3f7b6164"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a290ddb05d1b6ea50bfe421dd3f7b6164">llvm::X86Subtarget::hasSSE1</a></div><div class="ttdeci">bool hasSSE1() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00199">X86Subtarget.h:199</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_a9060597792bcc37f29996e35ac42acf6"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a9060597792bcc37f29996e35ac42acf6">llvm::X86Subtarget::hasSSE41</a></div><div class="ttdeci">bool hasSSE41() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00203">X86Subtarget.h:203</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_a51b92ff153c76b49d9036c331fc534c2"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#a51b92ff153c76b49d9036c331fc534c2">llvm::LegalizeRuleSet::legalFor</a></div><div class="ttdeci">LegalizeRuleSet &amp; legalFor(std::initializer_list&lt; LLT &gt; Types)</div><div class="ttdoc">The instruction is legal when type index 0 is any type in the given list.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00593">LegalizerInfo.h:593</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aX86LegalizerInfo_8h_html"><div class="ttname"><a href="X86LegalizerInfo_8h.html">X86LegalizerInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_af6fb778e7cc82464d03d353b0cfe292b"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#af6fb778e7cc82464d03d353b0cfe292b">llvm::LegalizeRuleSet::clampScalar</a></div><div class="ttdeci">LegalizeRuleSet &amp; clampScalar(unsigned TypeIdx, const LLT MinTy, const LLT MaxTy)</div><div class="ttdoc">Limit the range of scalar sizes to MinTy and MaxTy.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l01006">LegalizerInfo.h:1006</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizeRuleSet_html_a676390425ab5f53d99d702c3b8f15637"><div class="ttname"><a href="classllvm_1_1LegalizeRuleSet.html#a676390425ab5f53d99d702c3b8f15637">llvm::LegalizeRuleSet::legalForCartesianProduct</a></div><div class="ttdeci">LegalizeRuleSet &amp; legalForCartesianProduct(std::initializer_list&lt; LLT &gt; Types)</div><div class="ttdoc">The instruction is legal when type indexes 0 and 1 are both in the given list.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00625">LegalizerInfo.h:625</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1X86TargetMachine_html"><div class="ttname"><a href="classllvm_1_1X86TargetMachine.html">llvm::X86TargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="X86TargetMachine_8h_source.html#l00028">X86TargetMachine.h:28</a></div></div>
<div class="ttc" id="aX86LegalizerInfo_8cpp_html_aa00c74dc9e06e2ca9cd9c7bb11353c33"><div class="ttname"><a href="X86LegalizerInfo_8cpp.html#aa00c74dc9e06e2ca9cd9c7bb11353c33">addAndInterleaveWithUnsupported</a></div><div class="ttdeci">static void addAndInterleaveWithUnsupported(LegacyLegalizerInfo::SizeAndActionsVec &amp;result, const LegacyLegalizerInfo::SizeAndActionsVec &amp;v)</div><div class="ttdoc">FIXME: The following static functions are SizeChangeStrategy functions that are meant to temporarily ...</div><div class="ttdef"><b>Definition:</b> <a href="X86LegalizerInfo_8cpp_source.html#l00035">X86LegalizerInfo.cpp:35</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegacyLegalizeActions_html_ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b"><div class="ttname"><a href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a2d949fba71eeb09f438bde429c97f73b">llvm::LegacyLegalizeActions::Legal</a></div><div class="ttdeci">@ Legal</div><div class="ttdoc">The operation is expected to be selectable directly by the target, and no transformation is necessary...</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00030">LegacyLegalizerInfo.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_a7ff0361855acbbe71b15b8dc6003fbc5"><div class="ttname"><a href="classllvm_1_1LLT.html#a7ff0361855acbbe71b15b8dc6003fbc5">llvm::LLT::pointer</a></div><div class="ttdeci">static constexpr LLT pointer(unsigned AddressSpace, unsigned SizeInBits)</div><div class="ttdoc">Get a low-level pointer in the given address space.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00049">LowLevelTypeImpl.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizerInfo_html_a29bf34090f1f9800ad8faa1e0fe5a2c6"><div class="ttname"><a href="classllvm_1_1LegalizerInfo.html#a29bf34090f1f9800ad8faa1e0fe5a2c6">llvm::LegalizerInfo::getLegacyLegalizerInfo</a></div><div class="ttdeci">const LegacyLegalizerInfo &amp; getLegacyLegalizerInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l01202">LegalizerInfo.h:1202</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_a8caa24f675e22c202d5eb8937e54def1"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#a8caa24f675e22c202d5eb8937e54def1">llvm::X86Subtarget::hasAVX512</a></div><div class="ttdeci">bool hasAVX512() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00207">X86Subtarget.h:207</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyLegalizerInfo_html_a99b7a87bbd3d7e6dc5c30a0b577d3c76"><div class="ttname"><a href="classllvm_1_1LegacyLegalizerInfo.html#a99b7a87bbd3d7e6dc5c30a0b577d3c76">llvm::LegacyLegalizerInfo::widenToLargerTypesAndNarrowToLargest</a></div><div class="ttdeci">static SizeAndActionsVec widenToLargerTypesAndNarrowToLargest(const SizeAndActionsVec &amp;v)</div><div class="ttdoc">A SizeChangeStrategy for the common case where legalization for a particular operation consists of wi...</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00220">LegacyLegalizerInfo.h:220</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_a8594419a4ddfad2c9a79279c490e466d"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#a8594419a4ddfad2c9a79279c490e466d">llvm::AMDGPU::SendMsg::Op</a></div><div class="ttdeci">Op</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00357">SIDefines.h:357</a></div></div>
<div class="ttc" id="aX86TargetMachine_8h_html"><div class="ttname"><a href="X86TargetMachine_8h.html">X86TargetMachine.h</a></div></div>
<div class="ttc" id="aLegalizerHelper_8h_html"><div class="ttname"><a href="LegalizerHelper_8h.html">LegalizerHelper.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86Subtarget_html_ad53602fc659b337387df05d2f8f0aac5"><div class="ttname"><a href="classllvm_1_1X86Subtarget.html#ad53602fc659b337387df05d2f8f0aac5">llvm::X86Subtarget::hasAVX</a></div><div class="ttdeci">bool hasAVX() const</div><div class="ttdef"><b>Definition:</b> <a href="X86Subtarget_8h_source.html#l00205">X86Subtarget.h:205</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegacyLegalizeActions_html_ad25716c86372dafbf624b34891685078a5118e62994caf312467b5e5539a9e39b"><div class="ttname"><a href="namespacellvm_1_1LegacyLegalizeActions.html#ad25716c86372dafbf624b34891685078a5118e62994caf312467b5e5539a9e39b">llvm::LegacyLegalizeActions::Unsupported</a></div><div class="ttdeci">@ Unsupported</div><div class="ttdoc">This operation is completely unsupported on the target.</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00071">LegacyLegalizerInfo.h:71</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegalizerInfo_html_a9801185bc6472dc541877662983e7414"><div class="ttname"><a href="classllvm_1_1LegalizerInfo.html#a9801185bc6472dc541877662983e7414">llvm::LegalizerInfo::verify</a></div><div class="ttdeci">void verify(const MCInstrInfo &amp;MII) const</div><div class="ttdoc">Perform simple self-diagnostic and assert if there is anything obviously wrong with the actions set u...</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8cpp_source.html#l00376">LegalizerInfo.cpp:376</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_acfb6b9e2b00e34da4313b463c341e597"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#acfb6b9e2b00e34da4313b463c341e597">s1</a></div><div class="ttdeci">int s1</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00182">README.txt:182</a></div></div>
<div class="ttc" id="aclassllvm_1_1X86LegalizerInfo_html_abfc562c1c7aebc23222627fa24d11df5"><div class="ttname"><a href="classllvm_1_1X86LegalizerInfo.html#abfc562c1c7aebc23222627fa24d11df5">llvm::X86LegalizerInfo::X86LegalizerInfo</a></div><div class="ttdeci">X86LegalizerInfo(const X86Subtarget &amp;STI, const X86TargetMachine &amp;TM)</div><div class="ttdef"><b>Definition:</b> <a href="X86LegalizerInfo_8cpp_source.html#l00059">X86LegalizerInfo.cpp:59</a></div></div>
<div class="ttc" id="aDerivedTypes_8h_html"><div class="ttname"><a href="DerivedTypes_8h.html">DerivedTypes.h</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyLegalizerInfo_html_a5f1886b5dda7fa57ac21a21f816c9f63"><div class="ttname"><a href="classllvm_1_1LegacyLegalizerInfo.html#a5f1886b5dda7fa57ac21a21f816c9f63">llvm::LegacyLegalizerInfo::widenToLargerTypesUnsupportedOtherwise</a></div><div class="ttdeci">static SizeAndActionsVec widenToLargerTypesUnsupportedOtherwise(const SizeAndActionsVec &amp;v)</div><div class="ttdef"><b>Definition:</b> <a href="LegacyLegalizerInfo_8h_source.html#l00230">LegacyLegalizerInfo.h:230</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a3625bbe909f59184d26d2652d7f5119b"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a3625bbe909f59184d26d2652d7f5119b">libcall</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM ID Predecessors according to mbb&lt; bb27, 0x8b0a7c0 &gt; Note ADDri is not a two address instruction its result reg1037 is an operand of the PHI node in bb76 and its operand reg1039 is the result of the PHI node We should treat it as a two address code and make sure the ADDri is scheduled after any node that reads reg1039 Use info(i.e. register scavenger) to assign it a free register to allow reuse the collector could move the objects and invalidate the derived pointer This is bad enough in the first but safe points can crop up unpredictably **array_addr i32 n y store obj obj **nth_el If the i64 division is lowered to a libcall</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00127">README.txt:127</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html"><div class="ttname"><a href="classllvm_1_1LLT.html">llvm::LLT</a></div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00039">LowLevelTypeImpl.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLT_html_acd1eca3232b7b3072543294cd2377a37"><div class="ttname"><a href="classllvm_1_1LLT.html#acd1eca3232b7b3072543294cd2377a37">llvm::LLT::fixed_vector</a></div><div class="ttdeci">static constexpr LLT fixed_vector(unsigned NumElements, unsigned ScalarSizeInBits)</div><div class="ttdoc">Get a low-level fixed-width vector of some number of elements and element width.</div><div class="ttdef"><b>Definition:</b> <a href="LowLevelTypeImpl_8h_source.html#l00076">LowLevelTypeImpl.h:76</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:22:53 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
