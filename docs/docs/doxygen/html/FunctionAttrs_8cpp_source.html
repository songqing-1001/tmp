<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/IPO/FunctionAttrs.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_13abb262e9c52ddea8d07639819afd6c.html">IPO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FunctionAttrs.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="FunctionAttrs_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- FunctionAttrs.cpp - Pass which marks functions attributes ----------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// This file implements interprocedural passes which walk the</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// call-graph deducing and/or propagating function attributes.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="FunctionAttrs_8h.html">llvm/Transforms/IPO/FunctionAttrs.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DenseMap_8h.html">llvm/ADT/DenseMap.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SCCIterator_8h.html">llvm/ADT/SCCIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SetVector_8h.html">llvm/ADT/SetVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallSet_8h.html">llvm/ADT/SmallSet.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AssumptionCache_8h.html">llvm/Analysis/AssumptionCache.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicAliasAnalysis_8h.html">llvm/Analysis/BasicAliasAnalysis.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Analysis_2CFG_8h.html">llvm/Analysis/CFG.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CGSCCPassManager_8h.html">llvm/Analysis/CGSCCPassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraph_8h.html">llvm/Analysis/CallGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CallGraphSCCPass_8h.html">llvm/Analysis/CallGraphSCCPass.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CaptureTracking_8h.html">llvm/Analysis/CaptureTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LazyCallGraph_8h.html">llvm/Analysis/LazyCallGraph.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryLocation_8h.html">llvm/Analysis/MemoryLocation.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Argument_8h.html">llvm/IR/Argument.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Attributes_8h.html">llvm/IR/Attributes.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlock_8h.html">llvm/IR/BasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constants_8h.html">llvm/IR/Constants.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstIterator_8h.html">llvm/IR/InstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrTypes_8h.html">llvm/IR/InstrTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Metadata_8h.html">llvm/IR/Metadata.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleSummaryIndex_8h.html">llvm/IR/ModuleSummaryIndex.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Use_8h.html">llvm/IR/Use.h</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Casting_8h.html">llvm/Support/Casting.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2ErrorHandling_8h.html">llvm/Support/ErrorHandling.h</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2IPO_8h.html">llvm/Transforms/IPO.h</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Transforms_2Utils_2Local_8h.html">llvm/Transforms/Utils/Local.h</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   71</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;function-attrs&quot;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumMemoryAttr, <span class="stringliteral">&quot;Number of functions with improved memory attribute&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoCapture, <span class="stringliteral">&quot;Number of arguments marked nocapture&quot;</span>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumReturned, <span class="stringliteral">&quot;Number of arguments marked returned&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumReadNoneArg, <span class="stringliteral">&quot;Number of arguments marked readnone&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumReadOnlyArg, <span class="stringliteral">&quot;Number of arguments marked readonly&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumWriteOnlyArg, <span class="stringliteral">&quot;Number of arguments marked writeonly&quot;</span>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoAlias, <span class="stringliteral">&quot;Number of function returns marked noalias&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNonNullReturn, <span class="stringliteral">&quot;Number of function returns marked nonnull&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoRecurse, <span class="stringliteral">&quot;Number of functions marked as norecurse&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoUnwind, <span class="stringliteral">&quot;Number of functions marked as nounwind&quot;</span>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoFree, <span class="stringliteral">&quot;Number of functions marked as nofree&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumWillReturn, <span class="stringliteral">&quot;Number of functions marked as willreturn&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumNoSync, <span class="stringliteral">&quot;Number of functions marked as nosync&quot;</span>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumThinLinkNoRecurse,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          <span class="stringliteral">&quot;Number of functions marked as norecurse during thinlink&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumThinLinkNoUnwind,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          <span class="stringliteral">&quot;Number of functions marked as nounwind during thinlink&quot;</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="FunctionAttrs_8cpp.html#ac45ebe526e991e91bc23dd8a581e56c5">EnableNonnullArgPropagation</a>(</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="stringliteral">&quot;enable-nonnull-arg-prop&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Try to propagate nonnull argument attributes from callsites to &quot;</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;             <span class="stringliteral">&quot;caller functions.&quot;</span>));</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="FunctionAttrs_8cpp.html#a0977a377d388781d894bb237f0429777">DisableNoUnwindInference</a>(</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="stringliteral">&quot;disable-nounwind-inference&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Stop inferring nounwind attribute during function-attrs pass&quot;</span>));</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="FunctionAttrs_8cpp.html#afa6978376a8030111bb1068f3363912a">DisableNoFreeInference</a>(</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="stringliteral">&quot;disable-nofree-inference&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Stop inferring nofree attribute during function-attrs pass&quot;</span>));</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="FunctionAttrs_8cpp.html#a8c1ed5c248cbcb0432178c8925fa0e77">DisableThinLTOPropagation</a>(</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="stringliteral">&quot;disable-thinlto-funcattrs&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Don&#39;t propagate function-attrs in thinLTO&quot;</span>));</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">using</span> SCCNodeSet = <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Function *, 8&gt;</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/// Returns the memory access attribute for function F using AAR for AA results,</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">/// where SCCNodes is the current SCC.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">/// If ThisBody is true, this function may examine the function body and will</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">/// return a result pertaining to this copy of the function. If it is false, the</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/// result will be based only on AA results for the function declaration; it</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// will be assumed that some other (perhaps less optimized) version of the</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/// function may be selected at link time.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ab60b866ad3294245873494390a00e213">  123</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> <a class="code" href="FunctionAttrs_8cpp.html#ab60b866ad3294245873494390a00e213">checkFunctionMemoryAccess</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keywordtype">bool</span> ThisBody,</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                               <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AAR,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                               <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> OrigME = AAR.<a class="code" href="classllvm_1_1AAResults.html#a98f54e18da022cdb497fbbeed4488276">getMemoryEffects</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (OrigME.<a class="code" href="classllvm_1_1MemoryEffects.html#a5e215734f00c96489db57a352b0439cc">doesNotAccessMemory</a>())</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">// Already perfect!</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> OrigME;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keywordflow">if</span> (!ThisBody)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">return</span> OrigME;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> ME = <a class="code" href="classllvm_1_1MemoryEffects.html#ad5430077c62f3b57349697776c590823">MemoryEffects::none</a>();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// Inalloca and preallocated arguments are always clobbered by the call.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAttributes().hasAttrSomewhere(Attribute::InAlloca) ||</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getAttributes().hasAttrSomewhere(Attribute::Preallocated))</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    ME |= <a class="code" href="classllvm_1_1MemoryEffects.html#adfda3db956cf3d285f3a346c3e5f94ef">MemoryEffects::argMemOnly</a>(<a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">ModRefInfo::ModRef</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="keyword">auto</span> AddLocAccess = [&amp;](<span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryLocation.html">MemoryLocation</a> &amp;Loc, <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> MR) {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="comment">// Ignore accesses to known-invariant or local memory.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    MR &amp;= AAR.<a class="code" href="classllvm_1_1AAResults.html#a7785e563bd969eb1f63d26eca6873eb6">getModRefInfoMask</a>(Loc, <span class="comment">/*IgnoreLocal=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ae96dbd1485a431400525ca17896ec48e">isNoModRef</a>(MR))</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *UO = <a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Loc.<a class="code" href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">Ptr</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!isa&lt;AllocaInst&gt;(UO) &amp;&amp;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;           <span class="stringliteral">&quot;Should have been handled by getModRefInfoMask()&quot;</span>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Argument&gt;(UO)) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      ME |= <a class="code" href="classllvm_1_1MemoryEffects.html#adfda3db956cf3d285f3a346c3e5f94ef">MemoryEffects::argMemOnly</a>(MR);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">// If it&#39;s not an identified object, it might be an argument.</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">isIdentifiedObject</a>(UO))</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      ME |= <a class="code" href="classllvm_1_1MemoryEffects.html#adfda3db956cf3d285f3a346c3e5f94ef">MemoryEffects::argMemOnly</a>(MR);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    ME |= <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a>(<a class="code" href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a24756b3dee473132cb9203e15f937a59">MemoryEffects::Other</a>, MR);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  };</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// Scan the function body for instructions that may read or write memory.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">// Some instructions can be ignored even if they read or write memory.</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">// Detect these now, skipping to the next instruction if one is found.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Call = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="comment">// Ignore calls to functions in the same SCC, as long as the call sites</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="comment">// don&#39;t have operand bundles.  Calls with operand bundles are allowed to</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="comment">// have memory effects not described by the memory effects of the call</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="comment">// target.</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="keywordflow">if</span> (!Call-&gt;hasOperandBundles() &amp;&amp; Call-&gt;getCalledFunction() &amp;&amp;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;          SCCNodes.count(Call-&gt;getCalledFunction()))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> CallME = AAR.<a class="code" href="classllvm_1_1AAResults.html#a98f54e18da022cdb497fbbeed4488276">getMemoryEffects</a>(Call);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <span class="comment">// If the call doesn&#39;t access memory, we&#39;re done.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span> (CallME.<a class="code" href="classllvm_1_1MemoryEffects.html#a5e215734f00c96489db57a352b0439cc">doesNotAccessMemory</a>())</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="comment">// A pseudo probe call shouldn&#39;t change any function attribute since it</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <span class="comment">// doesn&#39;t translate to a real instruction. It comes with a memory access</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="comment">// tag to prevent itself being removed by optimizations and not block</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="comment">// other instructions being optimized.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (isa&lt;PseudoProbeInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      ME |= CallME.<a class="code" href="classllvm_1_1MemoryEffects.html#ac74f64b68de08d6551bc3ccfbbb68c09">getWithoutLoc</a>(<a class="code" href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a048abbcfb5ae8b2872302936a60e6f67">MemoryEffects::ArgMem</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="comment">// If the call accesses captured memory (currently part of &quot;other&quot;) and</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="comment">// an argument is captured (currently not tracked), then it may also</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      <span class="comment">// access argument memory.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> OtherMR = CallME.<a class="code" href="classllvm_1_1MemoryEffects.html#ac9afa1cbc2053845ada53374ff24c5f9">getModRef</a>(<a class="code" href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a24756b3dee473132cb9203e15f937a59">MemoryEffects::Other</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      ME |= <a class="code" href="classllvm_1_1MemoryEffects.html#adfda3db956cf3d285f3a346c3e5f94ef">MemoryEffects::argMemOnly</a>(OtherMR);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      <span class="comment">// Check whether all pointer arguments point to local memory, and</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="comment">// ignore calls that only access local memory.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> ArgMR = CallME.<a class="code" href="classllvm_1_1MemoryEffects.html#ac9afa1cbc2053845ada53374ff24c5f9">getModRef</a>(<a class="code" href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a048abbcfb5ae8b2872302936a60e6f67">MemoryEffects::ArgMem</a>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      <span class="keywordflow">if</span> (ArgMR != <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">ModRefInfo::NoModRef</a>) {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : Call-&gt;args()) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a> = U;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;          <span class="keywordflow">if</span> (!<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>-&gt;getType()-&gt;isPtrOrPtrVectorTy())</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          AddLocAccess(<a class="code" href="classllvm_1_1MemoryLocation.html#a46815b7f69bb96eddd2e1e01bec6120c">MemoryLocation::getBeforeOrAfter</a>(<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.getAAMetadata()), ArgMR);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">ModRefInfo</a> MR = <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">ModRefInfo::NoModRef</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayWriteToMemory())</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      MR |= <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">ModRefInfo::Mod</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayReadFromMemory())</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      MR |= <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">ModRefInfo::Ref</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (MR == <a class="code" href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">ModRefInfo::NoModRef</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::optional&lt;MemoryLocation&gt; Loc = <a class="code" href="classllvm_1_1MemoryLocation.html#af61b31a99c1e58b1760492d2a7a1ba9c">MemoryLocation::getOrNone</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">if</span> (!Loc) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// If no location is known, conservatively assume anything can be</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// accessed.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      ME |= <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a>(MR);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">// Volatile operations may access inaccessible memory.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile())</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      ME |= <a class="code" href="classllvm_1_1MemoryEffects.html#a2bfa51980a77eceed93d50103dcb7211">MemoryEffects::inaccessibleMemOnly</a>(MR);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    AddLocAccess(*Loc, MR);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordflow">return</span> OrigME &amp; ME;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">  233</a></span>&#160;<a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> <a class="code" href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">llvm::computeFunctionBodyMemoryAccess</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                    <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AAR) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#ab60b866ad3294245873494390a00e213">checkFunctionMemoryAccess</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="comment">/*ThisBody=*/</span><span class="keyword">true</span>, AAR, {});</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">/// Deduce readonly/readnone/writeonly attributes for the SCC.</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment"></span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> AARGetterT&gt;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#aa407dded90aa101d97422c314f4c64fa">  240</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#aa407dded90aa101d97422c314f4c64fa">addMemoryAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes, AARGetterT &amp;&amp;AARGetter,</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                           <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> ME = <a class="code" href="classllvm_1_1MemoryEffects.html#ad5430077c62f3b57349697776c590823">MemoryEffects::none</a>();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// Call the callable parameter to look up AA results for this function.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp;AAR = AARGetter(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// Non-exact function definitions may not be selected at link time, and an</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// alternative version that writes to memory may be selected.  See the</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// comment on GlobalValue::isDefinitionExact for more details.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    ME |= <a class="code" href="FunctionAttrs_8cpp.html#ab60b866ad3294245873494390a00e213">checkFunctionMemoryAccess</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition(), AAR, SCCNodes);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Reached bottom of the lattice, we will not be able to improve the result.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">if</span> (ME == <a class="code" href="classllvm_1_1MemoryEffects.html#af1d556c5ac64fbaee047a05297c62a60">MemoryEffects::unknown</a>())</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> OldME = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getMemoryEffects();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classllvm_1_1MemoryEffects.html">MemoryEffects</a> NewME = ME &amp; OldME;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span> (NewME != OldME) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      ++NumMemoryAttr;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setMemoryEffects(NewME);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// Compute definitive function attributes for a function taking into account</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">// prevailing definitions and linkage types</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a8e01be8df392a48a6ca68228ffeeed7b">  268</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *<a class="code" href="FunctionAttrs_8cpp.html#a8e01be8df392a48a6ca68228ffeeed7b">calculatePrevailingSummary</a>(</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="structllvm_1_1ValueInfo.html">ValueInfo</a> <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ValueInfo, FunctionSummary *&gt;</a> &amp;CachedPrevailingSummary,</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValueSummary.html">GlobalValueSummary</a> *)&gt;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        IsPrevailing) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (CachedPrevailingSummary.<a class="code" href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">count</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>))</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span> CachedPrevailingSummary[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>];</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">  /// At this point, prevailing symbols have been resolved. The following leads</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">  /// to returning a conservative result:</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">  /// - Multiple instances with local linkage. Normally local linkage would be</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  ///   unique per module</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  ///   as the GUID includes the module path. We could have a guid alias if</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">  ///   there wasn&#39;t any distinguishing path when each file was compiled, but</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">  ///   that should be rare so we&#39;ll punt on those.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">  /// These next 2 cases should not happen and will assert:</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">  /// - Multiple instances with external linkage. This should be caught in</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  ///   symbol resolution</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment">  /// - Non-existent FunctionSummary for Aliasee. This presents a hole in our</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">  ///   knowledge meaning we have to go conservative.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment"></span><span class="comment"></span> </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">  /// Otherwise, we calculate attributes for a function as:</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">  ///   1. If we have a local linkage, take its attributes. If there&#39;s somehow</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">  ///      multiple, bail and go conservative.</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">  ///   2. If we have an external/WeakODR/LinkOnceODR linkage check that it is</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">  ///      prevailing, take its attributes.</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">  ///   3. If we have a Weak/LinkOnce linkage the copies can have semantic</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">  ///      differences. However, if the prevailing copy is known it will be used</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">  ///      so take its attributes. If the prevailing copy is in a native file</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment">  ///      all IR copies will be dead and propagation will go conservative.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">  ///   4. AvailableExternally summaries without a prevailing copy are known to</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">  ///      occur in a couple of circumstances:</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">  ///      a. An internal function gets imported due to its caller getting</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">  ///         imported, it becomes AvailableExternally but no prevailing</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment">  ///         definition exists. Because it has to get imported along with its</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">  ///         caller the attributes will be captured by propagating on its</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">  ///         caller.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">  ///      b. C++11 [temp.explicit]p10 can generate AvailableExternally</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">  ///         definitions of explicitly instanced template declarations</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">  ///         for inlining which are ultimately dropped from the TU. Since this</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">  ///         is localized to the TU the attributes will have already made it to</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">  ///         the callers.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">  ///      These are edge cases and already captured by their callers so we</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment">  ///      ignore these for now. If they become relevant to optimize in the</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">  ///      future this can be revisited.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">  ///   5. Otherwise, go conservative.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  CachedPrevailingSummary[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *Local = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *Prevailing = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;GVS : <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getSummaryList()) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="keywordflow">if</span> (!GVS-&gt;isLive())</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(GVS-&gt;getBaseObject());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// Virtual and Unknown (e.g. indirect) calls require going conservative</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> || <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;fflags().HasUnknownCall)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Linkage = GVS-&gt;linkage();</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">GlobalValue::isLocalLinkage</a>(Linkage)) {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <span class="keywordflow">if</span> (Local) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            &lt;&lt; <span class="stringliteral">&quot;ThinLTO FunctionAttrs: Multiple Local Linkage, bailing on &quot;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;               <span class="stringliteral">&quot;function &quot;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            &lt;&lt; <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.name() &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;modulePath() &lt;&lt; <span class="stringliteral">&quot;. Previous module &quot;</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            &lt;&lt; Local-&gt;modulePath() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      }</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      Local = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a89a664b58385307fbb24c02e141d864b">GlobalValue::isExternalLinkage</a>(Linkage)) {</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IsPrevailing(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getGUID(), GVS.get()));</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      Prevailing = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a39cdc71d12722bb912f3a299ab5574ab">GlobalValue::isWeakODRLinkage</a>(Linkage) ||</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;               <a class="code" href="classllvm_1_1GlobalValue.html#af4663ee02ad0f28a78539ec85c91bec0">GlobalValue::isLinkOnceODRLinkage</a>(Linkage) ||</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;               <a class="code" href="classllvm_1_1GlobalValue.html#a0918c134c7b8131fa37df98101cd17db">GlobalValue::isWeakAnyLinkage</a>(Linkage) ||</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;               <a class="code" href="classllvm_1_1GlobalValue.html#a0dc5c71cdefd415dcc8569ae3f2b7892">GlobalValue::isLinkOnceAnyLinkage</a>(Linkage)) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="keywordflow">if</span> (IsPrevailing(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>.getGUID(), GVS.get())) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        Prevailing = <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      }</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalValue.html#a578061260691a59a9e7b0455fd68359c">GlobalValue::isAvailableExternallyLinkage</a>(Linkage)) {</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      <span class="comment">// TODO: Handle these cases if they become meaningful</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  }</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">if</span> (Local) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Prevailing);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    CachedPrevailingSummary[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>] = Local;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Prevailing) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Local);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    CachedPrevailingSummary[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>] = Prevailing;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <span class="keywordflow">return</span> CachedPrevailingSummary[<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a>];</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="namespacellvm.html#a45395a3dca2e20d0e8dde2d0532ec401">  371</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm.html#a45395a3dca2e20d0e8dde2d0532ec401">llvm::thinLTOPropagateFunctionAttrs</a>(</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <a class="code" href="classllvm_1_1ModuleSummaryIndex.html">ModuleSummaryIndex</a> &amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>,</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="classllvm_1_1function__ref.html">function_ref</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">GlobalValue::GUID</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalValueSummary.html">GlobalValueSummary</a> *)&gt;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        IsPrevailing) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="comment">// TODO: implement addNoAliasAttrs once</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="comment">// there&#39;s more information about the return type in the summary</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a8c1ed5c248cbcb0432178c8925fa0e77">DisableThinLTOPropagation</a>)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <a class="code" href="classllvm_1_1DenseMap.html">DenseMap&lt;ValueInfo, FunctionSummary *&gt;</a> CachedPrevailingSummary;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keyword">auto</span> PropagateAttributes = [&amp;](std::vector&lt;ValueInfo&gt; &amp;SCCNodes) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// Assume we can propagate unless we discover otherwise</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html">FunctionSummary::FFlags</a> InferredFlags;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a> = (SCCNodes.size() == 1);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : SCCNodes) {</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *CallerSummary =</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          <a class="code" href="FunctionAttrs_8cpp.html#a8e01be8df392a48a6ca68228ffeeed7b">calculatePrevailingSummary</a>(V, CachedPrevailingSummary, IsPrevailing);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="comment">// Function summaries can fail to contain information such as declarations</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <span class="keywordflow">if</span> (!CallerSummary)</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160; </div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="keywordflow">if</span> (CallerSummary-&gt;<a class="code" href="classllvm_1_1FunctionSummary.html#adf3998a7e0703c1eac651524d9d14a0d">fflags</a>().<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a3be485a3c17c68829f4ac271a1572b9f">MayThrow</a>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> : CallerSummary-&gt;<a class="code" href="classllvm_1_1FunctionSummary.html#a207acb0a8d3dedb0ededbdbaa5a28d8d">calls</a>()) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <a class="code" href="classllvm_1_1FunctionSummary.html">FunctionSummary</a> *CalleeSummary = <a class="code" href="FunctionAttrs_8cpp.html#a8e01be8df392a48a6ca68228ffeeed7b">calculatePrevailingSummary</a>(</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>.first, CachedPrevailingSummary, IsPrevailing);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> (!CalleeSummary)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span> (!CalleeSummary-&gt;<a class="code" href="classllvm_1_1FunctionSummary.html#adf3998a7e0703c1eac651524d9d14a0d">fflags</a>().<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a>)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;          InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (!CalleeSummary-&gt;<a class="code" href="classllvm_1_1FunctionSummary.html#adf3998a7e0703c1eac651524d9d14a0d">fflags</a>().<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">if</span> (!InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a> &amp;&amp; !InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a> || InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a>) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;V : SCCNodes) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">if</span> (InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a>) {</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ThinLTO FunctionAttrs: Propagated NoRecurse to &quot;</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                            &lt;&lt; V.name() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;          ++NumThinLinkNoRecurse;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">if</span> (InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a>) {</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;ThinLTO FunctionAttrs: Propagated NoUnwind to &quot;</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                            &lt;&lt; V.name() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;          ++NumThinLinkNoUnwind;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        }</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : V.getSummaryList()) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a> = dyn_cast&lt;FunctionSummary&gt;(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.get())) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;            <span class="keywordflow">if</span> (InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">NoRecurse</a>)</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;              <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;setNoRecurse();</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            <span class="keywordflow">if</span> (InferredFlags.<a class="code" href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">NoUnwind</a>)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;              <a class="code" href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">FS</a>-&gt;setNoUnwind();</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;          }</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      }</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    }</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  };</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">// Call propagation functions on each SCC in the Index</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1scc__iterator.html">scc_iterator&lt;ModuleSummaryIndex *&gt;</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">scc_begin</a>(&amp;<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>); !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtEnd();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;       ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    std::vector&lt;ValueInfo&gt; Nodes(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    PropagateAttributes(Nodes);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">/// For a given pointer Argument, this retains a list of Arguments of functions</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">/// in the same SCC that the pointer data flows into. We use this to build an</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;<span class="comment">/// SCC of the arguments.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="comment"></span><span class="keyword">struct </span>ArgumentGraphNode {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="classllvm_1_1Argument.html">Argument</a> *Definition;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;ArgumentGraphNode *, 4&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;};</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;<span class="keyword">class </span>ArgumentGraph {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="comment">// We store pointers to ArgumentGraphNode objects, so it&#39;s important that</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// that they not move around upon insert.</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keyword">using</span> ArgumentMapTy = std::map&lt;Argument *, ArgumentGraphNode&gt;;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  ArgumentMapTy ArgumentMap;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// There is no root node for the argument graph, in fact:</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="comment">//   void f(int *x, int *y) { if (...) f(x, y); }</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="comment">// is an example where the graph is disconnected. The SCCIterator requires a</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="comment">// single entry point, so we maintain a fake (&quot;synthetic&quot;) root node that</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  <span class="comment">// uses every node. Because the graph is directed and nothing points into</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="comment">// the root, it will not participate in any SCCs (except for its own).</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  ArgumentGraphNode SyntheticRoot;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160; </div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  ArgumentGraph() { SyntheticRoot.Definition = <span class="keyword">nullptr</span>; }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keyword">using</span> iterator = <a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">SmallVectorImpl&lt;ArgumentGraphNode *&gt;::iterator</a>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  iterator <a class="code" href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">begin</a>() { <span class="keywordflow">return</span> SyntheticRoot.Uses.begin(); }</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  iterator <a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>() { <span class="keywordflow">return</span> SyntheticRoot.Uses.end(); }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  ArgumentGraphNode *getEntryNode() { <span class="keywordflow">return</span> &amp;SyntheticRoot; }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  ArgumentGraphNode *operator[](<a class="code" href="classllvm_1_1Argument.html">Argument</a> *A) {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    ArgumentGraphNode &amp;Node = ArgumentMap[<a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>];</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    Node.Definition = <a class="code" href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">A</a>;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    SyntheticRoot.Uses.push_back(&amp;Node);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">return</span> &amp;Node;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;};</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">/// This tracker checks whether callees are in the SCC, and if so it does not</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="comment">/// consider that a capture, instead adding it to the &quot;Uses&quot; list and</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="comment">/// continuing with the analysis.</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="comment"></span><span class="keyword">struct </span>ArgumentUsesTracker : <span class="keyword">public</span> <a class="code" href="structllvm_1_1CaptureTracker.html">CaptureTracker</a> {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  ArgumentUsesTracker(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) : SCCNodes(SCCNodes) {}</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160; </div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <span class="keywordtype">void</span> tooManyUses()<span class="keyword"> override </span>{ Captured = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160; </div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordtype">bool</span> captured(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Use.html">Use</a> *U)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(U-&gt;getUser());</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">if</span> (!CB) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      Captured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition() || !SCCNodes.count(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      Captured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a754b47054852401f87e52805d15bdf05">isCallee</a>(U) &amp;&amp; <span class="stringliteral">&quot;callee operand reported captured?&quot;</span>);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> UseIndex = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a3ec61b88c722cd0e736fa93b4b599a19">getDataOperandNo</a>(U);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (UseIndex &gt;= CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">arg_size</a>()) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <span class="comment">// Data operand, but not a argument operand -- must be a bundle operand</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#aecc0c27ae96638bc9d8fa4caffa92c31">hasOperandBundles</a>() &amp;&amp; <span class="stringliteral">&quot;Must be!&quot;</span>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160; </div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="comment">// CaptureTracking told us that we&#39;re being captured by an operand bundle</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="comment">// use.  In this case it does not matter if the callee is within our SCC</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="comment">// or not -- we&#39;ve been captured in some unknown way, and we have to be</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;      <span class="comment">// conservative.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      Captured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (UseIndex &gt;= <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_size()) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isVarArg() &amp;&amp; <span class="stringliteral">&quot;More params than args in non-varargs call&quot;</span>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      Captured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160; </div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.push_back(&amp;*std::next(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;arg_begin(), UseIndex));</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// True only if certainly captured (used outside our SCC).</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordtype">bool</span> Captured = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Uses within our SCC.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Argument *, 4&gt;</a> <a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160; </div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;};</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html">  555</a></span>&#160;<span class="keyword">template</span> &lt;&gt; <span class="keyword">struct </span><a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;ArgumentGraphNode *&gt; {</div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">  556</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> = ArgumentGraphNode *;</div>
<div class="line"><a name="l00557"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">  557</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">ChildIteratorType</a> = <a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">SmallVectorImpl&lt;ArgumentGraphNode *&gt;::iterator</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160; </div>
<div class="line"><a name="l00559"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#afc0c1807210caf0f99a9689918c7f87f">  559</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#afc0c1807210caf0f99a9689918c7f87f">getEntryNode</a>(<a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>) { <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>; }</div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a231e88b22018a730290bf7e828c787b2">  560</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a231e88b22018a730290bf7e828c787b2">child_begin</a>(<a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) { <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Uses.begin(); }</div>
<div class="line"><a name="l00561"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#aa4f5d191d29a1a6652aac89920cfef6f">  561</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#aa4f5d191d29a1a6652aac89920cfef6f">child_end</a>(<a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) { <span class="keywordflow">return</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Uses.end(); }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;};</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160; </div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00565"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html">  565</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structllvm_1_1GraphTraits.html">GraphTraits</a>&lt;ArgumentGraph *&gt; : <span class="keyword">public</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html">GraphTraits&lt;ArgumentGraphNode *&gt;</a> {</div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#aa83677b39b0694b9874605608b37eed9">  566</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">NodeRef</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#aa83677b39b0694b9874605608b37eed9">getEntryNode</a>(ArgumentGraph *AG) { <span class="keywordflow">return</span> AG-&gt;getEntryNode(); }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#abfef12e43b4eb2165bcd1e0b42cdf14b">  568</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#abfef12e43b4eb2165bcd1e0b42cdf14b">nodes_begin</a>(ArgumentGraph *AG) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">return</span> AG-&gt;begin();</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160; </div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#a77f0b9307f18f69afc7c562c7c547183">  572</a></span>&#160;  <span class="keyword">static</span> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">ChildIteratorType</a> <a class="code" href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#a77f0b9307f18f69afc7c562c7c547183">nodes_end</a>(ArgumentGraph *AG) { <span class="keywordflow">return</span> AG-&gt;end(); }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;};</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;<span class="comment">/// Returns Attribute::None, Attribute::ReadOnly or Attribute::ReadNone.</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;<span class="comment"></span><span class="keyword">static</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a></div>
<div class="line"><a name="l00579"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">  579</a></span>&#160;<a class="code" href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">determinePointerAccessAttrs</a>(<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>,</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Argument *, 8&gt;</a> &amp;SCCNodes) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Use *, 32&gt;</a> Worklist;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Use *, 32&gt;</a> Visited;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// inalloca arguments are always clobbered by the call.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;hasInAllocaAttr() || <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;hasPreallocatedAttr())</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordtype">bool</span> IsRead = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordtype">bool</span> IsWrite = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160; </div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;U : <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;uses()) {</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;U);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    Worklist.push_back(&amp;U);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordflow">while</span> (!Worklist.empty()) {</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (IsWrite &amp;&amp; IsRead)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="comment">// No point in searching further..</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <a class="code" href="classllvm_1_1Use.html">Use</a> *U = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = cast&lt;Instruction&gt;(U-&gt;getUser());</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordflow">switch</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getOpcode()) {</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>:</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>:</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">case</span> Instruction::AddrSpaceCast:</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <span class="comment">// The original value is not read/written via this if the new value isn&#39;t.</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;UU : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;uses())</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;UU).second)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;          Worklist.push_back(&amp;UU);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">case</span> Instruction::Invoke: {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = cast&lt;CallBase&gt;(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a754b47054852401f87e52805d15bdf05">isCallee</a>(U)) {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        IsRead = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="comment">// Note that indirect calls do not capture, see comment in</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="comment">// CaptureTracking for context</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160; </div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <span class="comment">// Given we&#39;ve explictily handled the callee operand above, what&#39;s left</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="comment">// must be a data operand (e.g. argument or operand bundle)</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> UseIndex = CB.<a class="code" href="classllvm_1_1CallBase.html#a3ec61b88c722cd0e736fa93b4b599a19">getDataOperandNo</a>(U);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;      <span class="keywordflow">if</span> (!CB.<a class="code" href="classllvm_1_1CallBase.html#a27ab264aa1e655ed42732fe0ec40d441">doesNotCapture</a>(UseIndex)) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">if</span> (!CB.<a class="code" href="classllvm_1_1CallBase.html#a857a8c38e4856efec047cc914c25b692">onlyReadsMemory</a>())</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;          <span class="comment">// If the callee can save a copy into other memory, then simply</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;          <span class="comment">// scanning uses of the call is insufficient.  We have no way</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;          <span class="comment">// of tracking copies of the pointer through memory to see</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          <span class="comment">// if a reloaded copy is written to, thus we must give up.</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="comment">// Push users for processing once we finish this one</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getType()-&gt;isVoidTy())</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> &amp;UU : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;uses())</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;UU).second)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;              Worklist.push_back(&amp;UU);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;      }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;      <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a2d989cf6c0da10e436e1e95e380e0e09">doesNotAccessMemory</a>())</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>())</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#aeac59c1598cb931a07550c901220bcf2">isArgOperand</a>(U) &amp;&amp; UseIndex &lt; F-&gt;arg_size() &amp;&amp;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            SCCNodes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getArg(UseIndex)))</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;          <span class="comment">// This is an argument which is part of the speculative SCC.  Note</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;          <span class="comment">// that only operands corresponding to formal arguments of the callee</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;          <span class="comment">// can participate in the speculation.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;      <span class="comment">// The accessors used on call site here do the right thing for calls and</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      <span class="comment">// invokes with operand bundles.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a2d989cf6c0da10e436e1e95e380e0e09">doesNotAccessMemory</a>(UseIndex)) {</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        <span class="comment">/* nop */</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a857a8c38e4856efec047cc914c25b692">onlyReadsMemory</a>() || CB.<a class="code" href="classllvm_1_1CallBase.html#a857a8c38e4856efec047cc914c25b692">onlyReadsMemory</a>(UseIndex)) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        IsRead = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a2fbfe5377a984518a7c03d8558df726d">hasFnAttr</a>(Attribute::WriteOnly) ||</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                 CB.<a class="code" href="classllvm_1_1CallBase.html#a590b8b0d5d2ae53eeb6f290d7395c71c">dataOperandHasImpliedAttr</a>(UseIndex, Attribute::WriteOnly)) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      }</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160; </div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">Instruction::Load</a>:</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="comment">// A volatile load has side effects beyond what readonly can be relied</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="comment">// upon.</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <span class="keywordflow">if</span> (cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isVolatile())</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      IsRead = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">Instruction::Store</a>:</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <span class="keywordflow">if</span> (cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;getValueOperand() == *U)</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <span class="comment">// untrackable capture</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="comment">// A volatile store has side effects beyond what writeonly can be relied</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="comment">// upon.</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      <span class="keywordflow">if</span> (cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;isVolatile())</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">case</span> Instruction::ICmp:</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Instruction::Ret</a>:</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keywordflow">if</span> (IsWrite &amp;&amp; IsRead)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsRead)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> Attribute::ReadOnly;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (IsWrite)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> Attribute::WriteOnly;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">return</span> Attribute::ReadNone;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">/// Deduce returned attributes for the SCC.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#aeb16f6743f500ffa4e061fe1bf0f1ec5">  712</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#aeb16f6743f500ffa4e061fe1bf0f1ec5">addArgumentReturnedAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                                     <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="comment">// Check each function in turn, determining if an argument is always returned.</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">// We can infer and propagate function attributes only when we know that the</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// definition we&#39;ll get at link time is *exactly* the definition we see now.</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// For more details, see GlobalValue::mayBeDerefined.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition())</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160; </div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isVoidTy())</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="comment">// There is nothing to do if an argument is already marked as &#39;returned&#39;.</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args(),</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                     [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a>) { return Arg.hasReturnedAttr(); }))</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keyword">auto</span> FindRetArg = [&amp;]() -&gt; <a class="code" href="classllvm_1_1Value.html">Value</a> * {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *RetArg = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = dyn_cast&lt;ReturnInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminator())) {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;          <span class="comment">// Note that stripPointerCasts should look through functions with</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;          <span class="comment">// returned arguments.</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;          <a class="code" href="classllvm_1_1Value.html">Value</a> *RetVal = <a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>-&gt;getReturnValue()-&gt;stripPointerCasts();</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;          <span class="keywordflow">if</span> (!isa&lt;Argument&gt;(RetVal) || RetVal-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>() != <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType())</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;          <span class="keywordflow">if</span> (!RetArg)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            RetArg = RetVal;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RetArg != RetVal)</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      <span class="keywordflow">return</span> RetArg;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    };</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *RetArg = FindRetArg()) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = cast&lt;Argument&gt;(RetArg);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;addAttr(Attribute::Returned);</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      ++NumReturned;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    }</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;}</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment">/// If a callsite has arguments that are also arguments to the parent function,</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment">/// try to propagate attributes from the callsite&#39;s arguments to the parent&#39;s</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;<span class="comment">/// arguments. This may be important because inlining can cause information loss</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;<span class="comment">/// when attribute knowledge disappears with the inlined call.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a35c66c8d7328637260a03faa73269783">  762</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a35c66c8d7328637260a03faa73269783">addArgumentAttrsFromCallsites</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#ac45ebe526e991e91bc23dd8a581e56c5">EnableNonnullArgPropagation</a>)</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160; </div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">// For an argument attribute to transfer from a callsite to the parent, the</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">// call must be guaranteed to execute every time the parent is called.</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="comment">// Conservatively, just check for calls in the entry block that are guaranteed</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="comment">// to execute.</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="comment">// TODO: This could be enhanced by testing if the callsite post-dominates the</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="comment">// entry block or by doing simple forward walks or backward walks to the</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="comment">// callsite.</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;Entry = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getEntryBlock();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : Entry) {</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CalledFunc = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;CSArg : CalledFunc-&gt;args()) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;          <span class="keywordflow">if</span> (!CSArg.hasNonNullAttr(<span class="comment">/* AllowUndefOrPoison */</span> <span class="keyword">false</span>))</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160; </div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;          <span class="comment">// If the non-null callsite argument operand is an argument to &#39;F&#39;</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          <span class="comment">// (the caller) and the call is guaranteed to execute, then the value</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;          <span class="comment">// must be non-null throughout &#39;F&#39;.</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          <span class="keyword">auto</span> *FArg = dyn_cast&lt;Argument&gt;(CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">getArgOperand</a>(CSArg.getArgNo()));</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;          <span class="keywordflow">if</span> (FArg &amp;&amp; !FArg-&gt;hasNonNullAttr()) {</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            FArg-&gt;addAttr(Attribute::NonNull);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            Changed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        }</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">isGuaranteedToTransferExecutionToSuccessor</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160; </div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">  801</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">addAccessAttr</a>(<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> == Attribute::ReadOnly || <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> == Attribute::ReadNone ||</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;          <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> == Attribute::WriteOnly)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;         &amp;&amp; <span class="stringliteral">&quot;Must be an access attribute.&quot;</span>);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> &amp;&amp; <span class="stringliteral">&quot;Argument must not be null.&quot;</span>);</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  <span class="comment">// If the argument already has the attribute, nothing needs to be done.</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;hasAttribute(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>))</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160; </div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="comment">// Otherwise, remove potentially conflicting attribute, add the new one,</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="comment">// and update statistics.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;removeAttr(Attribute::WriteOnly);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;removeAttr(Attribute::ReadOnly);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;removeAttr(Attribute::ReadNone);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;addAttr(<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> == Attribute::ReadOnly)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    ++NumReadOnlyArg;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> == Attribute::WriteOnly)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    ++NumWriteOnlyArg;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    ++NumReadNoneArg;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;}</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="comment">/// Deduce nocapture attributes for the SCC.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a58e7049a60860bfd38dc2b17220ba0c9">  827</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#a58e7049a60860bfd38dc2b17220ba0c9">addArgumentAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                             <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  ArgumentGraph AG;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160; </div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="comment">// Check each function in turn, determining which pointer arguments are not</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="comment">// captured.</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="comment">// We can infer and propagate function attributes only when we know that the</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <span class="comment">// definition we&#39;ll get at link time is *exactly* the definition we see now.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="comment">// For more details, see GlobalValue::mayBeDerefined.</span></div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition())</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160; </div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a35c66c8d7328637260a03faa73269783">addArgumentAttrsFromCallsites</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160; </div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="comment">// Functions that are readonly (or readnone) and nounwind and don&#39;t return</span></div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="comment">// a value can&#39;t capture arguments. Don&#39;t analyze them.</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;onlyReadsMemory() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotThrow() &amp;&amp;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isVoidTy()) {</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args()) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.getType()-&gt;isPointerTy() &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.hasNoCaptureAttr()) {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;          <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.addAttr(Attribute::NoCapture);</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;          ++NumNoCapture;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;          Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;args()) {</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.getType()-&gt;isPointerTy())</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;      <span class="keywordtype">bool</span> HasNonLocalUses = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.hasNoCaptureAttr()) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;        ArgumentUsesTracker Tracker(SCCNodes);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;        <a class="code" href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">PointerMayBeCaptured</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, &amp;Tracker);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        <span class="keywordflow">if</span> (!Tracker.Captured) {</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;          <span class="keywordflow">if</span> (Tracker.Uses.empty()) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <span class="comment">// If it&#39;s trivially not captured, mark it nocapture now.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.addAttr(Attribute::NoCapture);</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;            ++NumNoCapture;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            <span class="comment">// If it&#39;s not trivially captured and not trivially not captured,</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="comment">// then it must be calling into another function in our SCC. Save</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            <span class="comment">// its particulars for Argument-SCC analysis later.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            ArgumentGraphNode *Node = AG[&amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>];</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="classllvm_1_1Use.html">Use</a> : Tracker.Uses) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;              Node-&gt;Uses.push_back(AG[<a class="code" href="classllvm_1_1Use.html">Use</a>]);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Use.html">Use</a> != &amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>)</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                HasNonLocalUses = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;          }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <span class="comment">// Otherwise, it&#39;s captured. Don&#39;t bother doing SCC analysis on it.</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      }</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">if</span> (!HasNonLocalUses &amp;&amp; !<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>.onlyReadsMemory()) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="comment">// Can we determine that it&#39;s readonly/readnone/writeonly without doing</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="comment">// an SCC? Note that we don&#39;t allow any calls at all here, or else our</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="comment">// result will be dependent on the iteration order through the</span></div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;        <span class="comment">// functions in the SCC.</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Argument *, 8&gt;</a> Self;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        Self.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">determinePointerAccessAttrs</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, Self);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> != <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">addAccessAttr</a>(&amp;<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>))</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;            Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      }</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160; </div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  <span class="comment">// The graph we&#39;ve collected is partial because we stopped scanning for</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// argument uses once we solved the argument trivially. These partial nodes</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="comment">// show up as ArgumentGraphNode objects with an empty Uses list, and for</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  <span class="comment">// these nodes the final decision about whether they capture has already been</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <span class="comment">// made.  If the definition doesn&#39;t have a &#39;nocapture&#39; attribute by now, it</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  <span class="comment">// captures.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1scc__iterator.html">scc_iterator&lt;ArgumentGraph *&gt;</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">scc_begin</a>(&amp;AG); !<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isAtEnd(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="keyword">const</span> std::vector&lt;ArgumentGraphNode *&gt; &amp;ArgumentSCC = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">if</span> (ArgumentSCC.size() == 1) {</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">if</span> (!ArgumentSCC[0]-&gt;Definition)</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">continue</span>; <span class="comment">// synthetic root node</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160; </div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">// eg. &quot;void f(int* x) { if (...) f(x); }&quot;</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <span class="keywordflow">if</span> (ArgumentSCC[0]-&gt;<a class="code" href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a>.size() == 1 &amp;&amp;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;          ArgumentSCC[0]-&gt;Uses[0] == ArgumentSCC[0]) {</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = ArgumentSCC[0]-&gt;Definition;</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;addAttr(Attribute::NoCapture);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        ++NumNoCapture;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getParent());</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <span class="comment">// Infer the access attributes given the new nocapture one</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Argument *, 8&gt;</a> Self;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        Self.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;*<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> = <a class="code" href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">determinePointerAccessAttrs</a>(&amp;*<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, Self);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a> != <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>)</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;          <a class="code" href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">addAccessAttr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">R</a>);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160; </div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordtype">bool</span> SCCCaptured = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">for</span> (ArgumentGraphNode *Node : ArgumentSCC) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">if</span> (Node-&gt;Uses.empty() &amp;&amp; !Node-&gt;Definition-&gt;hasNoCaptureAttr()) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        SCCCaptured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    }</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    <span class="keywordflow">if</span> (SCCCaptured)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160; </div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;Argument *, 8&gt;</a> ArgumentSCCNodes;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <span class="comment">// Fill ArgumentSCCNodes with the elements of the ArgumentSCC.  Used for</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="comment">// quickly looking up whether a given Argument is in this ArgumentSCC.</span></div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : ArgumentSCC) {</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      ArgumentSCCNodes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;Definition);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    }</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160; </div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : ArgumentSCC) {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;      <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="classllvm_1_1Use.html">Use</a> : <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Uses) {</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="classllvm_1_1Use.html">Use</a>-&gt;Definition;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;hasNoCaptureAttr() || ArgumentSCCNodes.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">count</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>))</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        SCCCaptured = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      }</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      <span class="keywordflow">if</span> (SCCCaptured)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    }</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (SCCCaptured)</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160; </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : ArgumentSCC) {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Definition;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;addAttr(Attribute::NoCapture);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      ++NumNoCapture;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getParent());</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    }</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">// We also want to compute readonly/readnone/writeonly. With a small number</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    <span class="comment">// of false negatives, we can assume that any pointer which is captured</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">// isn&#39;t going to be provably readonly or readnone, since by definition</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">// we can&#39;t analyze all uses of a captured pointer.</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="comment">// The false negatives happen when the pointer is captured by a function</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// that promises readonly/readnone behaviour on the pointer, then the</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">// pointer&#39;s lifetime ends before anything that writes to arbitrary memory.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// Also, a readonly/readnone pointer may be returned, but returning a</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="comment">// pointer is capturing it.</span></div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160; </div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keyword">auto</span> meetAccessAttr = [](<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> == <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>)</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> == Attribute::ReadNone)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a>;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a> == Attribute::ReadNone)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    };</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> AccessAttr = Attribute::ReadNone;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : ArgumentSCC) {</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Definition;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> K = <a class="code" href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">determinePointerAccessAttrs</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, ArgumentSCCNodes);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      AccessAttr = meetAccessAttr(AccessAttr, K);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      <span class="keywordflow">if</span> (AccessAttr == <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>)</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160; </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="keywordflow">if</span> (AccessAttr != <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">Attribute::None</a>) {</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">for</span> (ArgumentGraphNode *<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : ArgumentSCC) {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <a class="code" href="classllvm_1_1Argument.html">Argument</a> *<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a> = <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;Definition;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">addAccessAttr</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>, AccessAttr))</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;          Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a>-&gt;getParent());</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      }</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    }</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<span class="comment">/// Tests whether a function is &quot;malloc-like&quot;.</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;<span class="comment">/// A function is &quot;malloc-like&quot; if it returns either null or a pointer that</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;<span class="comment">/// doesn&#39;t alias any other pointer visible to the caller.</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a46f0bc39f45a99f997c4f124c505fb50"> 1012</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a46f0bc39f45a99f997c4f124c505fb50">isFunctionMallocLike</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Value *, 8&gt;</a> FlowsToReturn;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1ReturnInst.html">ReturnInst</a> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = dyn_cast&lt;ReturnInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminator()))</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;      FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>-&gt;getReturnValue());</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160; </div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *RetVal = FlowsToReturn[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160; </div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = dyn_cast&lt;Constant&gt;(RetVal)) {</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>-&gt;isNullValue() &amp;&amp; !isa&lt;UndefValue&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>))</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160; </div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    }</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">if</span> (isa&lt;Argument&gt;(RetVal))</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160; </div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *RVI = dyn_cast&lt;Instruction&gt;(RetVal))</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;      <span class="keywordflow">switch</span> (RVI-&gt;getOpcode()) {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;      <span class="comment">// Extend the analysis by looking upwards.</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;      <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;      <span class="keywordflow">case</span> Instruction::AddrSpaceCast:</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(RVI-&gt;getOperand(0));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>: {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(RVI);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue());</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue());</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>: {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(RVI);</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Value.html">Value</a> *IncValue : PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a1f0ff79b64a40d383b891f1baba89c6b">incoming_values</a>())</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;          FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(IncValue);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;      }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160; </div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      <span class="comment">// Check whether the pointer came from an allocation.</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      <span class="keywordflow">case</span> Instruction::Alloca:</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;      <span class="keywordflow">case</span> Instruction::Invoke: {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = cast&lt;CallBase&gt;(*RVI);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a330471067c17061b7c2152d75102f24a">hasRetAttr</a>(Attribute::NoAlias))</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">if</span> (CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>() &amp;&amp; SCCNodes.count(CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()))</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        [[fallthrough]];</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Did not come from an allocation.</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">PointerMayBeCaptured</a>(RetVal, <span class="keyword">false</span>, <span class="comment">/*StoreCaptures=*/</span><span class="keyword">false</span>))</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  }</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160; </div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="comment">/// Deduce noalias attributes for the SCC.</span></div>
<div class="line"><a name="l01076"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ad447fd4d9b07ad3c98df6acdd371d158"> 1076</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#ad447fd4d9b07ad3c98df6acdd371d158">addNoAliasAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                            <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="comment">// Check each function in turn, determining which functions return noalias</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="comment">// pointers.</span></div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="comment">// Already noalias.</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;returnDoesNotAlias())</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160; </div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="comment">// We can infer and propagate function attributes only when we know that the</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    <span class="comment">// definition we&#39;ll get at link time is *exactly* the definition we see now.</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="comment">// For more details, see GlobalValue::mayBeDerefined.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition())</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160; </div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="comment">// We annotate noalias return values, which are only applicable to</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">// pointer types.</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160; </div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#a46f0bc39f45a99f997c4f124c505fb50">isFunctionMallocLike</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, SCCNodes))</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;returnDoesNotAlias() ||</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160; </div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setReturnDoesNotAlias();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    ++NumNoAlias;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  }</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;}</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;<span class="comment">/// Tests whether this function is known to not return null.</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;<span class="comment">/// Requires that the function returns a pointer.</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="comment">/// Returns true if it believes the function will not return a null, and sets</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="comment">/// \p Speculative based on whether the returned conclusion is a speculative</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="comment">/// conclusion due to SCC calls.</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a9ec948ba8709fe1041a2ec4a79cb6e4b"> 1118</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a9ec948ba8709fe1041a2ec4a79cb6e4b">isReturnNonNull</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                            <span class="keywordtype">bool</span> &amp;Speculative) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isPointerTy() &amp;&amp;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;         <span class="stringliteral">&quot;nonnull only meaningful on pointer types&quot;</span>);</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  Speculative = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160; </div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <a class="code" href="classllvm_1_1SmallSetVector.html">SmallSetVector&lt;Value *, 8&gt;</a> FlowsToReturn;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a> = dyn_cast&lt;ReturnInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminator()))</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">Ret</a>-&gt;getReturnValue());</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160; </div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="keyword">auto</span> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getParent()-&gt;getDataLayout();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160; </div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">size</a>(); ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *RetVal = FlowsToReturn[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160; </div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="comment">// If this value is locally known to be non-null, we&#39;re good</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">isKnownNonZero</a>(RetVal, <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>))</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160; </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// Otherwise, we need to look upwards since we can&#39;t make any local</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">// conclusions.</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *RVI = dyn_cast&lt;Instruction&gt;(RetVal);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    <span class="keywordflow">if</span> (!RVI)</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    <span class="keywordflow">switch</span> (RVI-&gt;<a class="code" href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">getOpcode</a>()) {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">// Extend the analysis by looking upwards.</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">case</span> Instruction::BitCast:</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;    <span class="keywordflow">case</span> Instruction::GetElementPtr:</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;    <span class="keywordflow">case</span> Instruction::AddrSpaceCast:</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(RVI-&gt;<a class="code" href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">getOperand</a>(0));</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Instruction::Select</a>: {</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="classllvm_1_1SelectInst.html">SelectInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = cast&lt;SelectInst&gt;(RVI);</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getTrueValue());</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;      FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getFalseValue());</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    }</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">Instruction::PHI</a>: {</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;      <a class="code" href="classllvm_1_1PHINode.html">PHINode</a> *PN = cast&lt;PHINode&gt;(RVI);</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">getNumIncomingValues</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        FlowsToReturn.<a class="code" href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">insert</a>(PN-&gt;<a class="code" href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">getIncomingValue</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>));</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Instruction::Call</a>:</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">case</span> Instruction::Invoke: {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> &amp;CB = cast&lt;CallBase&gt;(*RVI);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB.<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="comment">// A call to a node within the SCC is assumed to return null until</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;      <span class="comment">// proven otherwise</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> &amp;&amp; SCCNodes.count(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>)) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        Speculative = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;      }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="comment">// Unknown source, may be null</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    };</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;should have either continued or returned&quot;</span>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  }</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160; </div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;}</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="comment">/// Deduce nonnull attributes for the SCC.</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#afaaa2d8391708787311e242879016162"> 1184</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#afaaa2d8391708787311e242879016162">addNonNullAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                            <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="comment">// Speculative that all functions in the SCC return only nonnull</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="comment">// pointers.  We may refute this as we analyze functions.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="keywordtype">bool</span> SCCReturnsNonNull = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160; </div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// Check each function in turn, determining which functions return nonnull</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">// pointers.</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// Already nonnull.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::NonNull))</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160; </div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="comment">// We can infer and propagate function attributes only when we know that the</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="comment">// definition we&#39;ll get at link time is *exactly* the definition we see now.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="comment">// For more details, see GlobalValue::mayBeDerefined.</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition())</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160; </div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="comment">// We annotate nonnull return values, which are only applicable to</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    <span class="comment">// pointer types.</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160; </div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordtype">bool</span> Speculative = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a9ec948ba8709fe1041a2ec4a79cb6e4b">isReturnNonNull</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, SCCNodes, Speculative)) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      <span class="keywordflow">if</span> (!Speculative) {</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="comment">// Mark the function eagerly since we may discover a function</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        <span class="comment">// which prevents us from speculating about the entire SCC</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Eagerly marking &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName()</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot; as nonnull\n&quot;</span>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addRetAttr(Attribute::NonNull);</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        ++NumNonNullReturn;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;      }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="comment">// At least one function returns something which could be null, can&#39;t</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// speculate any more.</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    SCCReturnsNonNull = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160; </div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">if</span> (SCCReturnsNonNull) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getAttributes().hasRetAttr(Attribute::NonNull) ||</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;          !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getReturnType()-&gt;isPointerTy())</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;SCC marking &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; as nonnull\n&quot;</span>);</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;addRetAttr(Attribute::NonNull);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      ++NumNonNullReturn;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  }</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;<span class="comment">/// Collects a set of attribute inference requests and performs them all in one</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">/// go on a single SCC Node. Inference involves scanning function bodies</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;<span class="comment">/// looking for instructions that violate attribute assumptions.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;<span class="comment">/// As soon as all the bodies are fine we are free to set the attribute.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;<span class="comment">/// Customization of inference for individual attributes is performed by</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;<span class="comment">/// providing a handful of predicates for each attribute.</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;<span class="comment"></span><span class="keyword">class </span>AttributeInferer {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;<span class="keyword">public</span>:<span class="comment"></span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;<span class="comment">  /// Describes a request for inference of a single attribute.</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;<span class="comment"></span>  <span class="keyword">struct </span>InferenceDescriptor {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;<span class="comment">    /// Returns true if this function does not have to be handled.</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;<span class="comment">    /// General intent for this predicate is to provide an optimization</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="comment">    /// for functions that do not need this attribute inference at all</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="comment">    /// (say, for functions that already have the attribute).</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;<span class="comment"></span>    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; SkipFunction;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">    /// Returns true if this instruction violates attribute assumptions.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment"></span>    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;bool(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;)&gt; InstrBreaksAttribute;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;<span class="comment">    /// Sets the inferred attribute for this function.</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;<span class="comment"></span>    <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;void(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; SetAttribute;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment">    /// Attribute we derive.</span></div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment"></span>    <a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> AKind;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment">    /// If true, only &quot;exact&quot; definitions can be used to infer this attribute.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;<span class="comment">    /// See GlobalValue::isDefinitionExact.</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> RequiresExactDefinition;</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160; </div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    InferenceDescriptor(<a class="code" href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">Attribute::AttrKind</a> AK,</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                        <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; SkipFunc,</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;                        <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">bool</span>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;)&gt; InstrScan,</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                        <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">std::function</a>&lt;<span class="keywordtype">void</span>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;)&gt; SetAttr,</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;                        <span class="keywordtype">bool</span> ReqExactDef)</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        : SkipFunction(SkipFunc), InstrBreaksAttribute(InstrScan),</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;          SetAttribute(SetAttr), AKind(AK),</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;          RequiresExactDefinition(ReqExactDef) {}</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;  };</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160; </div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;InferenceDescriptor, 4&gt;</a> InferenceDescriptors;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160; </div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordtype">void</span> registerAttrInference(InferenceDescriptor AttrInference) {</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    InferenceDescriptors.push_back(AttrInference);</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes, <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;};</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;<span class="comment">/// Perform all the requested attribute inference actions according to the</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;<span class="comment">/// attribute predicates stored before.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">AttributeInferer::run</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                           <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;InferenceDescriptor, 4&gt;</a> InferInSCC = InferenceDescriptors;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="comment">// Go through all the functions in SCC and check corresponding attribute</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <span class="comment">// assumptions for each of them. Attributes that are invalid for this SCC</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <span class="comment">// will be removed from InferInSCC.</span></div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// No attributes whose assumptions are still valid - done.</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (InferInSCC.empty())</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160; </div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="comment">// Check if our attributes ever need scanning/can be scanned.</span></div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(InferInSCC, [<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>](<span class="keyword">const</span> InferenceDescriptor &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.SkipFunction(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <span class="comment">// Remove from further inference (invalidate) when visiting a function</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      <span class="comment">// that has no instructions to scan/has an unsuitable definition.</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isDeclaration() ||</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;             (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.RequiresExactDefinition &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition());</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    });</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160; </div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <span class="comment">// For each attribute still in InferInSCC that doesn&#39;t explicitly skip F,</span></div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;    <span class="comment">// set up the F instructions scan to verify assumptions of the attribute.</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;InferenceDescriptor, 4&gt;</a> InferInThisFunc;</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    <a class="code" href="namespacellvm.html#a4d13fd05401d8eb0c97b9864a0eb6028">llvm::copy_if</a>(</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        InferInSCC, std::back_inserter(InferInThisFunc),</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        [<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>](<span class="keyword">const</span> InferenceDescriptor &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) { <span class="keywordflow">return</span> !<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.SkipFunction(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>); });</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160; </div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="keywordflow">if</span> (InferInThisFunc.empty())</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160; </div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="comment">// Start instruction scan.</span></div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(InferInThisFunc, [&amp;](<span class="keyword">const</span> InferenceDescriptor &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.InstrBreaksAttribute(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;          <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="comment">// Remove attribute from further inference on any other functions</span></div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;        <span class="comment">// because attribute assumptions have just been violated.</span></div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        <a class="code" href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a>(InferInSCC, [&amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>](<span class="keyword">const</span> InferenceDescriptor &amp;<a class="code" href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a>) {</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;          return D.AKind == ID.AKind;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;        });</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;        <span class="comment">// Remove attribute from the rest of current instruction scan.</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      });</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160; </div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <span class="keywordflow">if</span> (InferInThisFunc.empty())</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;  }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160; </div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;  <span class="keywordflow">if</span> (InferInSCC.empty())</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160; </div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes)</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="comment">// At this point InferInSCC contains only functions that were either:</span></div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    <span class="comment">//   - explicitly skipped from scan/inference, or</span></div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <span class="comment">//   - verified to have no instructions that break attribute assumptions.</span></div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    <span class="comment">// Hence we just go and force the attribute for all non-skipped functions.</span></div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a> : InferInSCC) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.SkipFunction(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>.SetAttribute(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;}</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160; </div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;<span class="keyword">struct </span>SCCNodesResult {</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  SCCNodeSet SCCNodes;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  <span class="keywordtype">bool</span> HasUnknownCall;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;};</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160; </div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;<span class="comment">/// Helper for non-Convergent inference predicate InstrBreaksAttribute.</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ae64bb5b78cd6a7e4568e355e6422f6f4"> 1371</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#ae64bb5b78cd6a7e4568e355e6422f6f4">InstrBreaksNonConvergent</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>,</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;                                     <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="comment">// Breaks non-convergent assumption if CS is a convergent call to a function</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// not in the SCC.</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="keywordflow">return</span> CB &amp;&amp; CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#ac32c9ebab7dfd3db749d0ab5e6e58b3e">isConvergent</a>() &amp;&amp;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;         !SCCNodes.contains(CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>());</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;}</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;<span class="comment">/// Helper for NoUnwind inference predicate InstrBreaksAttribute.</span></div>
<div class="line"><a name="l01381"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a8bb91dc842aaadf750a9ce52b00c8f59"> 1381</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a8bb91dc842aaadf750a9ce52b00c8f59">InstrBreaksNonThrowing</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.mayThrow())</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CI-&gt;getCalledFunction()) {</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="comment">// I is a may-throw call to a function inside our SCC. This doesn&#39;t</span></div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;      <span class="comment">// invalidate our current working assumption that the SCC is no-throw; we</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      <span class="comment">// just have to scan that other function.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;      <span class="keywordflow">if</span> (SCCNodes.contains(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>))</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  }</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;}</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;<span class="comment">/// Helper for NoFree inference predicate InstrBreaksAttribute.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#abed91fefcc041268a8f52d7db0be4fce"> 1397</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#abed91fefcc041268a8f52d7db0be4fce">InstrBreaksNoFree</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;  <span class="keywordflow">if</span> (!CB)</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160; </div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordflow">if</span> (CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a2fbfe5377a984518a7c03d8558df726d">hasFnAttr</a>(Attribute::NoFree))</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160; </div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;  <span class="comment">// Speculatively assume in SCC.</span></div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>())</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <span class="keywordflow">if</span> (SCCNodes.contains(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>))</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;}</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;<span class="comment">/// Attempt to remove convergent function attribute when possible.</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;<span class="comment">/// Returns true if any changes to function attributes were made.</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#aacb8bb19bd4e35daf65ca4d0a1296f5a"> 1416</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#aacb8bb19bd4e35daf65ca4d0a1296f5a">inferConvergent</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;                            <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;  AttributeInferer AI;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160; </div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  <span class="comment">// Request to remove the convergent attribute from all functions in the SCC</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;  <span class="comment">// if every callsite within the SCC is not convergent (except for calls</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  <span class="comment">// to functions within the SCC).</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;  <span class="comment">// Note: Removal of the attr from the callsites will happen in</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;  <span class="comment">// InstCombineCalls separately.</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;  AI.registerAttrInference(AttributeInferer::InferenceDescriptor{</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;      <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">Attribute::Convergent</a>,</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <span class="comment">// Skip non-convergent functions.</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isConvergent(); },</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="comment">// Instructions that break non-convergent assumption.</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;      [SCCNodes](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#ae64bb5b78cd6a7e4568e355e6422f6f4">InstrBreaksNonConvergent</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SCCNodes);</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;      },</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;      [](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Removing convergent attr from fn &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName()</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                          &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setNotConvergent();</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      },</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;      <span class="comment">/* RequiresExactDefinition= */</span> <span class="keyword">false</span>});</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;  <span class="comment">// Perform all the requested attribute inference actions.</span></div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;  AI.run(SCCNodes, Changed);</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;}</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;<span class="comment">/// Infer attributes from all functions in the SCC by scanning every</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;<span class="comment">/// instruction for compliance to the attribute assumptions. Currently it</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;<span class="comment">/// does:</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;<span class="comment">///   - addition of NoUnwind attribute</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;<span class="comment">///</span></div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;<span class="comment">/// Returns true if any changes to function attributes were made.</span></div>
<div class="line"><a name="l01449"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a705838e4c991d2a041852a987a8aad3f"> 1449</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#a705838e4c991d2a041852a987a8aad3f">inferAttrsFromFunctionBodies</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                                         <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  AttributeInferer AI;</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160; </div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#a0977a377d388781d894bb237f0429777">DisableNoUnwindInference</a>)</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="comment">// Request to infer nounwind attribute for all the functions in the SCC if</span></div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    <span class="comment">// every callsite within the SCC is not throwing (except for calls to</span></div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="comment">// functions within the SCC). Note that nounwind attribute suffers from</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    <span class="comment">// derefinement - results may change depending on how functions are</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <span class="comment">// optimized. Thus it can be inferred only from exact definitions.</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    AI.registerAttrInference(AttributeInferer::InferenceDescriptor{</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        Attribute::NoUnwind,</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <span class="comment">// Skip non-throwing functions.</span></div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.doesNotThrow(); },</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="comment">// Instructions that break non-throwing assumption.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        [&amp;SCCNodes](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#a8bb91dc842aaadf750a9ce52b00c8f59">InstrBreaksNonThrowing</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SCCNodes);</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        },</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;        [](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;Adding nounwind attr to fn &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setDoesNotThrow();</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;          ++NumNoUnwind;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        },</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <span class="comment">/* RequiresExactDefinition= */</span> <span class="keyword">true</span>});</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160; </div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#afa6978376a8030111bb1068f3363912a">DisableNoFreeInference</a>)</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">// Request to infer nofree attribute for all the functions in the SCC if</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// every callsite within the SCC does not directly or indirectly free</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="comment">// memory (except for calls to functions within the SCC). Note that nofree</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="comment">// attribute suffers from derefinement - results may change depending on</span></div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="comment">// how functions are optimized. Thus it can be inferred only from exact</span></div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    <span class="comment">// definitions.</span></div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;    AI.registerAttrInference(AttributeInferer::InferenceDescriptor{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        Attribute::NoFree,</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;        <span class="comment">// Skip functions known not to free memory.</span></div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.doesNotFreeMemory(); },</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="comment">// Instructions that break non-deallocating assumption.</span></div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        [&amp;SCCNodes](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#abed91fefcc041268a8f52d7db0be4fce">InstrBreaksNoFree</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SCCNodes);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        },</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        [](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;          <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;                     &lt;&lt; <span class="stringliteral">&quot;Adding nofree attr to fn &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;          <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setDoesNotFreeMemory();</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;          ++NumNoFree;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        },</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="comment">/* RequiresExactDefinition= */</span> <span class="keyword">true</span>});</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;  <span class="comment">// Perform all the requested attribute inference actions.</span></div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;  AI.run(SCCNodes, Changed);</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;}</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160; </div>
<div class="line"><a name="l01502"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#aa878a4543a04856b3a745395c90ace5d"> 1502</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#aa878a4543a04856b3a745395c90ace5d">addNoRecurseAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                              <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;  <span class="comment">// Try and identify functions that do not recurse.</span></div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160; </div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// If the SCC contains multiple nodes we know for sure there is recursion.</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordflow">if</span> (SCCNodes.size() != 1)</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160; </div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = *SCCNodes.begin();</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotRecurse())</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160; </div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">// If all of the calls in F are identifiable and are to norecurse functions, F</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// is norecurse. This check also detects self-recursion as F is not currently</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// marked norecurse, so any called from F to F will not be marked norecurse.</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.instructionsWithoutDebug())</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;        <a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>();</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> || <a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> == <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || !<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>-&gt;doesNotRecurse())</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;          <span class="comment">// Function calls a potentially recursive function.</span></div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;          <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;      }</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160; </div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="comment">// Every call was to a non-recursive function other than this function, and</span></div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="comment">// we have no indirect recursion as the SCC size is one. This function cannot</span></div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;  <span class="comment">// recurse.</span></div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setDoesNotRecurse();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  ++NumNoRecurse;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;}</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160; </div>
<div class="line"><a name="l01534"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ad5082c0a778e9ce6adafb92e38b1bf6b"> 1534</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#ad5082c0a778e9ce6adafb92e38b1bf6b">instructionDoesNotReturn</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keywordflow">return</span> CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a2fbfe5377a984518a7c03d8558df726d">hasFnAttr</a>(Attribute::NoReturn);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;}</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160; </div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;<span class="comment">// A basic block can only return if it terminates with a ReturnInst and does not</span></div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;<span class="comment">// contain calls to noreturn functions.</span></div>
<div class="line"><a name="l01542"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a96f99bd2a31fec426c13e7adf776fe16"> 1542</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a96f99bd2a31fec426c13e7adf776fe16">basicBlockCanReturn</a>(<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> (!isa&lt;ReturnInst&gt;(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>.getTerminator()))</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">none_of</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, <a class="code" href="FunctionAttrs_8cpp.html#ad5082c0a778e9ce6adafb92e38b1bf6b">instructionDoesNotReturn</a>);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;}</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160; </div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;<span class="comment">// FIXME: this doesn&#39;t handle recursion.</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a596a49623f77050eb85eb8f12b88de3e"> 1549</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a596a49623f77050eb85eb8f12b88de3e">canReturn</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;BasicBlock *, 16&gt;</a> Worklist;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;BasicBlock *, 16&gt;</a> Visited;</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front());</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  Worklist.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front());</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160; </div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = Worklist.<a class="code" href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">pop_back_val</a>();</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a96f99bd2a31fec426c13e7adf776fe16">basicBlockCanReturn</a>(*<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *Succ : <a class="code" href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">successors</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>))</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">if</span> (Visited.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Succ).second)</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        Worklist.push_back(Succ);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;  } <span class="keywordflow">while</span> (!Worklist.empty());</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160; </div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;}</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160; </div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;<span class="comment">// Set the noreturn function attribute if possible.</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a062c7e0be2dcadb1daf2221992df7d4c"> 1569</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#a062c7e0be2dcadb1daf2221992df7d4c">addNoReturnAttrs</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;                             <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasExactDefinition() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(Attribute::Naked) ||</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;doesNotReturn())</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#a596a49623f77050eb85eb8f12b88de3e">canReturn</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;      <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setDoesNotReturn();</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;      Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    }</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;  }</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;}</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160; </div>
<div class="line"><a name="l01583"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#af03b866cfd7aa23da26179050622de5a"> 1583</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#af03b866cfd7aa23da26179050622de5a">functionWillReturn</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;  <span class="comment">// We can infer and propagate function attributes only when we know that the</span></div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;  <span class="comment">// definition we&#39;ll get at link time is *exactly* the definition we see now.</span></div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  <span class="comment">// For more details, see GlobalValue::mayBeDerefined.</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasExactDefinition())</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160; </div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  <span class="comment">// Must-progress function without side-effects must return.</span></div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.mustProgress() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.onlyReadsMemory())</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160; </div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <span class="comment">// Can only analyze functions with a definition.</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration())</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160; </div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;  <span class="comment">// Functions with loops require more sophisticated analysis, as the loop</span></div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;  <span class="comment">// may be infinite. For now, don&#39;t try to handle them.</span></div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const BasicBlock *, const BasicBlock *&gt;</a>&gt; Backedges;</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;  <a class="code" href="namespacellvm.html#aec1d6e397956b9f5fa62416d0beba785">FindFunctionBackedges</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, Backedges);</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;  <span class="keywordflow">if</span> (!Backedges.empty())</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160; </div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;  <span class="comment">// If there are no loops, then the function is willreturn if all calls in</span></div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="comment">// it are willreturn.</span></div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">all_of</a>(<a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>), [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.willReturn();</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  });</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160; </div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">// Set the willreturn function attribute if possible.</span></div>
<div class="line"><a name="l01613"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ad83b36729cc3328ed0adb99c0dfde77c"> 1613</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#ad83b36729cc3328ed0adb99c0dfde77c">addWillReturn</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                          <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : SCCNodes) {</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;willReturn() || !<a class="code" href="FunctionAttrs_8cpp.html#af03b866cfd7aa23da26179050622de5a">functionWillReturn</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160; </div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;setWillReturn();</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    NumWillReturn++;</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  }</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;}</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;<span class="comment">// Return true if this is an atomic which has an ordering stronger than</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;<span class="comment">// unordered.  Note that this is different than the predicate we use in</span></div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;<span class="comment">// Attributor.  Here we chose to be conservative and consider monotonic</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;<span class="comment">// operations potentially synchronizing.  We generally don&#39;t do much with</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;<span class="comment">// monotonic operations, so this is simply risk reduction.</span></div>
<div class="line"><a name="l01630"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a3bad008875e969bbcae4a240834151fd"> 1630</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a3bad008875e969bbcae4a240834151fd">isOrderedAtomic</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;isAtomic())</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160; </div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *FI = dyn_cast&lt;FenceInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;    <span class="comment">// All legal orderings for fence are stronger than monotonic.</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;    <span class="keywordflow">return</span> FI-&gt;getSyncScopeID() != <a class="code" href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a">SyncScope::SingleThread</a>;</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;AtomicCmpXchgInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) || isa&lt;AtomicRMWInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;isUnordered();</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> !LI-&gt;isUnordered();</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;unknown atomic instruction?&quot;</span>);</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;  }</div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;}</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160; </div>
<div class="line"><a name="l01648"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#aaf3e450cfe1a015165e602af71d5eedf"> 1648</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#aaf3e450cfe1a015165e602af71d5eedf">InstrBreaksNoSync</a>(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> SCCNodeSet &amp;SCCNodes) {</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;  <span class="comment">// Volatile may synchronize</span></div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.isVolatile())</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160; </div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="comment">// An ordered atomic may synchronize.  (See comment about on monotonic.)</span></div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="FunctionAttrs_8cpp.html#a3bad008875e969bbcae4a240834151fd">isOrderedAtomic</a>(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160; </div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <span class="keywordflow">if</span> (!CB)</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="comment">// Non call site cases covered by the two checks above</span></div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160; </div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordflow">if</span> (CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a2fbfe5377a984518a7c03d8558df726d">hasFnAttr</a>(Attribute::NoSync))</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160; </div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  <span class="comment">// Non volatile memset/memcpy/memmoves are nosync</span></div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="comment">// NOTE: Only intrinsics with volatile flags should be handled here.  All</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <span class="comment">// others should be marked in Intrinsics.td.</span></div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = dyn_cast&lt;MemIntrinsic&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;isVolatile())</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160; </div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;  <span class="comment">// Speculatively assume in SCC.</span></div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a> = CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>())</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    <span class="keywordflow">if</span> (SCCNodes.contains(<a class="code" href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a>))</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160; </div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;}</div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160; </div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;<span class="comment">// Infer the nosync attribute.</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a2b9ce0388ffca9ad9191e298e43a6b04"> 1681</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="FunctionAttrs_8cpp.html#a2b9ce0388ffca9ad9191e298e43a6b04">addNoSyncAttr</a>(<span class="keyword">const</span> SCCNodeSet &amp;SCCNodes,</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;                          <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> &amp;Changed) {</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;  AttributeInferer AI;</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;  AI.registerAttrInference(AttributeInferer::InferenceDescriptor{</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;      Attribute::NoSync,</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;      <span class="comment">// Skip already marked functions.</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) { <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasNoSync(); },</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      <span class="comment">// Instructions that break nosync assumption.</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      [&amp;SCCNodes](<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#aaf3e450cfe1a015165e602af71d5eedf">InstrBreaksNoSync</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, SCCNodes);</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      },</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      [](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>()</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;                   &lt;&lt; <span class="stringliteral">&quot;Adding nosync attr to fn &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setNoSync();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        ++NumNoSync;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;      },</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <span class="comment">/* RequiresExactDefinition= */</span> <span class="keyword">true</span>});</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  AI.run(SCCNodes, Changed);</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;}</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160; </div>
<div class="line"><a name="l01702"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ae108e4dbbaf43d863f88674e0a37efcd"> 1702</a></span>&#160;<span class="keyword">static</span> SCCNodesResult <a class="code" href="FunctionAttrs_8cpp.html#ae108e4dbbaf43d863f88674e0a37efcd">createSCCNodeSet</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Function *&gt;</a> Functions) {</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;  SCCNodesResult Res;</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;  Res.HasUnknownCall = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Functions) {</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasOptNone() || <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;hasFnAttribute(Attribute::Naked) ||</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;isPresplitCoroutine()) {</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      <span class="comment">// Treat any function we&#39;re trying not to optimize as if it were an</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;      <span class="comment">// indirect call and omit it from the node set used below.</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;      Res.HasUnknownCall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;    }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    <span class="comment">// Track whether any functions in this SCC have an unknown call edge.</span></div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="comment">// Note: if this is ever a performance hit, we can common it with</span></div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="comment">// subsequent routines which also do scans over the instructions of the</span></div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <span class="comment">// function.</span></div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;    <span class="keywordflow">if</span> (!Res.HasUnknownCall) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">instructions</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CB = dyn_cast&lt;CallBase&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;          <span class="keywordflow">if</span> (!CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">getCalledFunction</a>()) {</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            Res.HasUnknownCall = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;          }</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    }</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    Res.SCCNodes.insert(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  }</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="keywordflow">return</span> Res;</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;}</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160; </div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AARGetterT&gt;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a></div>
<div class="line"><a name="l01734"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a89332493312d58a15f011cf8395fbc92"> 1734</a></span>&#160;<a class="code" href="FunctionAttrs_8cpp.html#a89332493312d58a15f011cf8395fbc92">deriveAttrsInPostOrder</a>(<a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Function *&gt;</a> Functions, AARGetterT &amp;&amp;AARGetter) {</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;  SCCNodesResult Nodes = <a class="code" href="FunctionAttrs_8cpp.html#ae108e4dbbaf43d863f88674e0a37efcd">createSCCNodeSet</a>(Functions);</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160; </div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <span class="comment">// Bail if the SCC only contains optnone functions.</span></div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordflow">if</span> (Nodes.SCCNodes.empty())</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;    <span class="keywordflow">return</span> {};</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160; </div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="classllvm_1_1SmallSet.html">SmallSet&lt;Function *, 8&gt;</a> Changed;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160; </div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#aeb16f6743f500ffa4e061fe1bf0f1ec5">addArgumentReturnedAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#aa407dded90aa101d97422c314f4c64fa">addMemoryAttrs</a>(Nodes.SCCNodes, AARGetter, Changed);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#a58e7049a60860bfd38dc2b17220ba0c9">addArgumentAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#aacb8bb19bd4e35daf65ca4d0a1296f5a">inferConvergent</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#a062c7e0be2dcadb1daf2221992df7d4c">addNoReturnAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#ad83b36729cc3328ed0adb99c0dfde77c">addWillReturn</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160; </div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;  <span class="comment">// If we have no external nodes participating in the SCC, we can deduce some</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;  <span class="comment">// more precise attributes as well.</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <span class="keywordflow">if</span> (!Nodes.HasUnknownCall) {</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="FunctionAttrs_8cpp.html#ad447fd4d9b07ad3c98df6acdd371d158">addNoAliasAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="FunctionAttrs_8cpp.html#afaaa2d8391708787311e242879016162">addNonNullAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <a class="code" href="FunctionAttrs_8cpp.html#a705838e4c991d2a041852a987a8aad3f">inferAttrsFromFunctionBodies</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="FunctionAttrs_8cpp.html#aa878a4543a04856b3a745395c90ace5d">addNoRecurseAttrs</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;  }</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160; </div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;  <a class="code" href="FunctionAttrs_8cpp.html#a2b9ce0388ffca9ad9191e298e43a6b04">addNoSyncAttr</a>(Nodes.SCCNodes, Changed);</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160; </div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  <span class="comment">// Finally, infer the maximal set of attributes from the ones we&#39;ve inferred</span></div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  <span class="comment">// above.  This is handling the cases where one attribute on a signature</span></div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;  <span class="comment">// implies another, but for implementation reasons the inference rule for</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="comment">// the later is missing (or simply less sophisticated).</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : Nodes.SCCNodes)</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#ada75fb6345bfa2602ef65d6898d3e236">inferAttributesFromOthers</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        Changed.<a class="code" href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">insert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160; </div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;}</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160; </div>
<div class="line"><a name="l01773"></a><span class="lineno"><a class="line" href="structllvm_1_1PostOrderFunctionAttrsPass.html#a8312d250d0f7b4407b4bad97293e5865"> 1773</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="structllvm_1_1PostOrderFunctionAttrsPass.html#a8312d250d0f7b4407b4bad97293e5865">PostOrderFunctionAttrsPass::run</a>(<a class="code" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>,</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;                                                  <a class="code" href="classllvm_1_1AnalysisManager.html">CGSCCAnalysisManager</a> &amp;AM,</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                                                  <a class="code" href="classllvm_1_1LazyCallGraph.html">LazyCallGraph</a> &amp;CG,</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;                                                  <a class="code" href="structllvm_1_1CGSCCUpdateResult.html">CGSCCUpdateResult</a> &amp;) {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;  <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;<a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a> =</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;      AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, CG).getManager();</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160; </div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="comment">// We pass a lambda into functions to wire them up to the analysis manager</span></div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="comment">// for getting function analyses.</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keyword">auto</span> AARGetter = [&amp;](<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) -&gt; <a class="code" href="classllvm_1_1AAResults.html">AAResults</a> &amp; {</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1AAManager.html">AAManager</a>&gt;(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  };</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160; </div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 8&gt;</a> Functions;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LazyCallGraph_1_1Node.html">LazyCallGraph::Node</a> &amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> : <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>) {</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    Functions.push_back(&amp;<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>.getFunction());</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;  }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160; </div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;  <span class="keyword">auto</span> ChangedFunctions = <a class="code" href="FunctionAttrs_8cpp.html#a89332493312d58a15f011cf8395fbc92">deriveAttrsInPostOrder</a>(Functions, AARGetter);</div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;  <span class="keywordflow">if</span> (ChangedFunctions.empty())</div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160; </div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  <span class="comment">// Invalidate analyses for modified functions so that we don&#39;t have to</span></div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;  <span class="comment">// invalidate all analyses for all functions in this SCC.</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> FuncPA;</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;  <span class="comment">// We haven&#39;t changed the CFG for modified functions.</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  FuncPA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">preserveSet</a>&lt;<a class="code" href="classllvm_1_1CFGAnalyses.html">CFGAnalyses</a>&gt;();</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Function.html">Function</a> *Changed : ChangedFunctions) {</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#a64b2a209a16bcd41375b5cae12690eaa">invalidate</a>(*Changed, FuncPA);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;    <span class="comment">// Also invalidate any direct callers of changed functions since analyses</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;    <span class="comment">// may care about attributes of direct callees. For example, MemorySSA cares</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    <span class="comment">// about whether or not a call&#39;s callee modifies memory and queries that</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    <span class="comment">// through function attributes.</span></div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> *U : Changed-&gt;users()) {</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Call = dyn_cast&lt;CallBase&gt;(U)) {</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <span class="keywordflow">if</span> (Call-&gt;getCalledFunction() == Changed)</div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;          <a class="code" href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a>.<a class="code" href="classllvm_1_1AnalysisManager.html#a64b2a209a16bcd41375b5cae12690eaa">invalidate</a>(*Call-&gt;getFunction(), FuncPA);</div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      }</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;    }</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  }</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160; </div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;  <span class="comment">// We have not added or removed functions.</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">FunctionAnalysisManagerCGSCCProxy</a>&gt;();</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;  <span class="comment">// We already invalidated all relevant function analyses above.</span></div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">preserveSet</a>&lt;<a class="code" href="classllvm_1_1AllAnalysesOn.html">AllAnalysesOn&lt;Function&gt;</a>&gt;();</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;}</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160; </div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160; </div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;<span class="keyword">struct </span>PostOrderFunctionAttrsLegacyPass : <span class="keyword">public</span> <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a> {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="comment">// Pass identification, replacement for typeid</span></div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160; </div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;  PostOrderFunctionAttrsLegacyPass() : <a class="code" href="classllvm_1_1CallGraphSCCPass.html">CallGraphSCCPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;    <a class="code" href="namespacellvm.html#a216d14de36b8a826480677a45a95b942">initializePostOrderFunctionAttrsLegacyPassPass</a>(</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        *<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  }</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160; </div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;  <span class="keywordtype">bool</span> runOnSCC(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) <span class="keyword">override</span>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160; </div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordtype">void</span> getAnalysisUsage(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const override </span>{</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">addRequired</a>&lt;<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>&gt;();</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;    <a class="code" href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">getAAResultsAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <a class="code" href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">CallGraphSCCPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;  }</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;};</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160; </div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160; </div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">PostOrderFunctionAttrsLegacyPass::ID</a> = 0;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;<a class="code" href="FunctionAttrs_8cpp.html#a5df7eb5d682c3dd160910c213d5f9b23">INITIALIZE_PASS_BEGIN</a>(PostOrderFunctionAttrsLegacyPass, <span class="stringliteral">&quot;function-attrs&quot;</span>,</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                      <span class="stringliteral">&quot;Deduce function attributes&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AAResultsWrapperPass.html">AAResultsWrapperPass</a>)</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1AssumptionCacheTracker.html">AssumptionCacheTracker</a>)</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1CallGraphWrapperPass.html">CallGraphWrapperPass</a>)</div>
<div class="line"><a name="l01851"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#afaaa7a54f8efe730ccfb969164d51ccf"> 1851</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(PostOrderFunctionAttrsLegacyPass, &quot;<a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a>-<a class="code" href="FunctionAttrs_8cpp.html#afaaa7a54f8efe730ccfb969164d51ccf">attrs</a>&quot;,</div>
<div class="line"><a name="l01852"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a5003fc88cfefd9b49e3fe557e2e23163"> 1852</a></span>&#160;                    &quot;Deduce <a class="code" href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a> <a class="code" href="FunctionAttrs_8cpp.html#a4a5581b36782033ccd381c56bb1176a7">attributes</a>&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160; </div>
<div class="line"><a name="l01854"></a><span class="lineno"><a class="line" href="namespacellvm.html#a8faf819cc43a44ee07737f305ce4534f"> 1854</a></span>&#160;<a class="code" href="classllvm_1_1Pass.html">Pass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a8faf819cc43a44ee07737f305ce4534f">createPostOrderFunctionAttrsLegacyPass</a>() {</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> PostOrderFunctionAttrsLegacyPass();</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;}</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160; </div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> AARGetterT&gt;</div>
<div class="line"><a name="l01859"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#a62c6882e8be05d55fb7e7f743f43d902"> 1859</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#a62c6882e8be05d55fb7e7f743f43d902">runImpl</a>(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>, AARGetterT AARGetter) {</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 8&gt;</a> Functions;</div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1CallGraphNode.html">CallGraphNode</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    Functions.push_back(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getFunction());</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  }</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160; </div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">return</span> !<a class="code" href="FunctionAttrs_8cpp.html#a89332493312d58a15f011cf8395fbc92">deriveAttrsInPostOrder</a>(Functions, AARGetter).empty();</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;}</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160; </div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;<span class="keywordtype">bool</span> PostOrderFunctionAttrsLegacyPass::runOnSCC(<a class="code" href="classllvm_1_1CallGraphSCC.html">CallGraphSCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>) {</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">if</span> (skipSCC(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>))</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="FunctionAttrs_8cpp.html#a62c6882e8be05d55fb7e7f743f43d902">runImpl</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>, <a class="code" href="classllvm_1_1LegacyAARGetter.html">LegacyAARGetter</a>(*<span class="keyword">this</span>));</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;}</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160; </div>
<div class="line"><a name="l01874"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ad449dfa0d6d2308ee93fa07b5a1e1e0a"> 1874</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#ad449dfa0d6d2308ee93fa07b5a1e1e0a">addNoRecurseAttrsTopDown</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;  <span class="comment">// We check the preconditions for the function prior to calling this to avoid</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;  <span class="comment">// the cost of building up a reversible post-order list. We assert them here</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;  <span class="comment">// to make sure none of the invariants this relies on were violated.</span></div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() &amp;&amp; <span class="stringliteral">&quot;Cannot deduce norecurse without a definition!&quot;</span>);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.doesNotRecurse() &amp;&amp;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;         <span class="stringliteral">&quot;This function has already been deduced as norecurs!&quot;</span>);</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasInternalLinkage() &amp;&amp;</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;         <span class="stringliteral">&quot;Can only do top-down deduction for internal linkage functions!&quot;</span>);</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160; </div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  <span class="comment">// If F is internal and all of its uses are calls from a non-recursive</span></div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="comment">// functions, then none of its calls could in fact recurse without going</span></div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  <span class="comment">// through a function marked norecurse, and so we can mark this function too</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="comment">// as norecurse. Note that the uses must actually be calls -- otherwise</span></div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  <span class="comment">// a pointer to this function could be returned from a norecurse function but</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;  <span class="comment">// this function could be recursively (indirectly) called. Note that this</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;  <span class="comment">// also detects if F is directly recursive as F is not yet marked as</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;  <span class="comment">// a norecurse function.</span></div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;U : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.uses()) {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = dyn_cast&lt;Instruction&gt;(U.<a class="code" href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">getUser</a>());</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    <a class="code" href="classllvm_1_1CallBase.html">CallBase</a> *CB = dyn_cast&lt;CallBase&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">if</span> (!CB || !CB-&gt;<a class="code" href="classllvm_1_1CallBase.html#a754b47054852401f87e52805d15bdf05">isCallee</a>(&amp;U) ||</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        !CB-&gt;<a class="code" href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">getParent</a>()-&gt;<a class="code" href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">getParent</a>()-&gt;<a class="code" href="classllvm_1_1Function.html#a4e5c42dc883d0deb41a668301cd5ac72">doesNotRecurse</a>())</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  }</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.setDoesNotRecurse();</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  ++NumNoRecurse;</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160; </div>
<div class="line"><a name="l01906"></a><span class="lineno"><a class="line" href="FunctionAttrs_8cpp.html#ab389f58bce3bb2dcd1eb8284f46064ee"> 1906</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="FunctionAttrs_8cpp.html#ab389f58bce3bb2dcd1eb8284f46064ee">deduceFunctionAttributeInRPO</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1LazyCallGraph.html">LazyCallGraph</a> &amp;CG) {</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <span class="comment">// We only have a post-order SCC traversal (because SCCs are inherently</span></div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="comment">// discovered in post-order), so we accumulate them in a vector and then walk</span></div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  <span class="comment">// it in reverse. This is simpler than using the RPO iterator infrastructure</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;  <span class="comment">// because we need to combine SCC detection and the PO walk of the call</span></div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="comment">// graph. We can also cheat egregiously because we&#39;re primarily interested in</span></div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  <span class="comment">// synthesizing norecurse and so we can only save the singular SCCs as SCCs</span></div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="comment">// with multiple functions in them will clearly be recursive.</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160; </div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Function *, 16&gt;</a> Worklist;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;  CG.<a class="code" href="classllvm_1_1LazyCallGraph.html#a72787ab6acfbe504a11ca1d927513356">buildRefSCCs</a>();</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LazyCallGraph_1_1RefSCC.html">LazyCallGraph::RefSCC</a> &amp;RC : CG.<a class="code" href="classllvm_1_1LazyCallGraph.html#a9e7736a620a28815327d9fae9387092c">postorder_ref_sccs</a>()) {</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LazyCallGraph_1_1SCC.html">LazyCallGraph::SCC</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a> : RC) {</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>.size() != 1)</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;      <a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = <a class="code" href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">SCC</a>.begin()-&gt;getFunction();</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.isDeclaration() &amp;&amp; !<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.doesNotRecurse() &amp;&amp; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.hasInternalLinkage())</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        Worklist.push_back(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    }</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;  }</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;  <span class="keywordtype">bool</span> Changed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> : <a class="code" href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a>(Worklist))</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    Changed |= <a class="code" href="FunctionAttrs_8cpp.html#ad449dfa0d6d2308ee93fa07b5a1e1e0a">addNoRecurseAttrsTopDown</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160; </div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;  <span class="keywordflow">return</span> Changed;</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;}</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160; </div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l01934"></a><span class="lineno"><a class="line" href="classllvm_1_1ReversePostOrderFunctionAttrsPass.html#a711463cdc12e518aaca8c394a0f82139"> 1934</a></span>&#160;<a class="code" href="classllvm_1_1ReversePostOrderFunctionAttrsPass.html#a711463cdc12e518aaca8c394a0f82139">ReversePostOrderFunctionAttrsPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M, <a class="code" href="classllvm_1_1AnalysisManager.html">ModuleAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keyword">auto</span> &amp;CG = AM.<a class="code" href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">getResult</a>&lt;<a class="code" href="classllvm_1_1LazyCallGraphAnalysis.html">LazyCallGraphAnalysis</a>&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160; </div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="FunctionAttrs_8cpp.html#ab389f58bce3bb2dcd1eb8284f46064ee">deduceFunctionAttributeInRPO</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, CG))</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160; </div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;  <a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> PA;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  PA.<a class="code" href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">preserve</a>&lt;<a class="code" href="classllvm_1_1LazyCallGraphAnalysis.html">LazyCallGraphAnalysis</a>&gt;();</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;  <span class="keywordflow">return</span> PA;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a3af0428ec6e48cb2f05c199b7b9f7e07"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a3af0428ec6e48cb2f05c199b7b9f7e07">llvm::GlobalValue::GUID</a></div><div class="ttdeci">uint64_t GUID</div><div class="ttdoc">Declare a type to represent a global unique identifier for a global value.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00583">GlobalValue.h:583</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ead974636fce6d12e72054e61fb3c1e9a8">llvm::ModRefInfo::NoModRef</a></div><div class="ttdeci">@ NoModRef</div><div class="ttdoc">The access neither references nor modifies the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1Argument_html"><div class="ttname"><a href="classllvm_1_1Argument.html">llvm::Argument</a></div><div class="ttdoc">This class represents an incoming formal argument to a Function.</div><div class="ttdef"><b>Definition:</b> <a href="Argument_8h_source.html#l00028">Argument.h:28</a></div></div>
<div class="ttc" id="aAssumptionCache_8h_html"><div class="ttname"><a href="AssumptionCache_8h.html">AssumptionCache.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAManager_html"><div class="ttname"><a href="classllvm_1_1AAManager.html">llvm::AAManager</a></div><div class="ttdoc">A manager for alias analyses.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00885">AliasAnalysis.h:885</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html_a72787ab6acfbe504a11ca1d927513356"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html#a72787ab6acfbe504a11ca1d927513356">llvm::LazyCallGraph::buildRefSCCs</a></div><div class="ttdeci">void buildRefSCCs()</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8cpp_source.html#l01922">LazyCallGraph.cpp:1922</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7dc3069afa2ce5ea62ac2eb183e51c00"><div class="ttname"><a href="namespacellvm.html#a7dc3069afa2ce5ea62ac2eb183e51c00">llvm::none_of</a></div><div class="ttdeci">bool none_of(R &amp;&amp;Range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::none_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01749">STLExtras.h:1749</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReturnInst_html"><div class="ttname"><a href="classllvm_1_1ReturnInst.html">llvm::ReturnInst</a></div><div class="ttdoc">Return a value (possibly void), from a function.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l03057">Instructions.h:3057</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a1f0ff79b64a40d383b891f1baba89c6b"><div class="ttname"><a href="classllvm_1_1PHINode.html#a1f0ff79b64a40d383b891f1baba89c6b">llvm::PHINode::incoming_values</a></div><div class="ttdeci">op_range incoming_values()</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02784">Instructions.h:2784</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aMetadata_8h_html"><div class="ttname"><a href="Metadata_8h.html">Metadata.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_aec1d6e397956b9f5fa62416d0beba785"><div class="ttname"><a href="namespacellvm.html#aec1d6e397956b9f5fa62416d0beba785">llvm::FindFunctionBackedges</a></div><div class="ttdeci">void FindFunctionBackedges(const Function &amp;F, SmallVectorImpl&lt; std::pair&lt; const BasicBlock *, const BasicBlock * &gt; &gt; &amp;Result)</div><div class="ttdoc">Analyze the specified function to find all of the loop backedges in the function and return them.</div><div class="ttdef"><b>Definition:</b> <a href="CFG_8cpp_source.html#l00034">CFG.cpp:34</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html_a38bee869ad41aebfef3de2641b12004c"><div class="ttname"><a href="classllvm_1_1BasicBlock.html#a38bee869ad41aebfef3de2641b12004c">llvm::BasicBlock::getParent</a></div><div class="ttdeci">const Function * getParent() const</div><div class="ttdoc">Return the enclosing method, or null if none.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00112">BasicBlock.h:112</a></div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aSCCIterator_8h_html"><div class="ttname"><a href="SCCIterator_8h.html">SCCIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_ab9d3d5412c20747fd0110a046604f09a"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#ab9d3d5412c20747fd0110a046604f09a">llvm::AnalysisManager::getResult</a></div><div class="ttdeci">PassT::Result &amp; getResult(IRUnitT &amp;IR, ExtraArgTs... ExtraArgs)</div><div class="ttdoc">Get the result of an analysis pass for a given IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00774">PassManager.h:774</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a9550ce4a179e46db37f653ce28feca7a"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a9550ce4a179e46db37f653ce28feca7a">llvm::MemoryLocation::Ptr</a></div><div class="ttdeci">const Value * Ptr</div><div class="ttdoc">The address of the start of the location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00219">MemoryLocation.h:219</a></div></div>
<div class="ttc" id="aInstIterator_8h_html"><div class="ttname"><a href="InstIterator_8h.html">InstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionSummary_html_a207acb0a8d3dedb0ededbdbaa5a28d8d"><div class="ttname"><a href="classllvm_1_1FunctionSummary.html#a207acb0a8d3dedb0ededbdbaa5a28d8d">llvm::FunctionSummary::calls</a></div><div class="ttdeci">ArrayRef&lt; EdgeTy &gt; calls() const</div><div class="ttdoc">Return the list of &lt;CalleeValueInfo, CalleeInfo&gt; pairs.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00858">ModuleSummaryIndex.h:858</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionSummary_html_adf3998a7e0703c1eac651524d9d14a0d"><div class="ttname"><a href="classllvm_1_1FunctionSummary.html#adf3998a7e0703c1eac651524d9d14a0d">llvm::FunctionSummary::fflags</a></div><div class="ttdeci">FFlags fflags() const</div><div class="ttdoc">Get function summary flags.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00842">ModuleSummaryIndex.h:842</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html_a64b2a209a16bcd41375b5cae12690eaa"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html#a64b2a209a16bcd41375b5cae12690eaa">llvm::AnalysisManager::invalidate</a></div><div class="ttdeci">void invalidate(IRUnitT &amp;IR, const PreservedAnalyses &amp;PA)</div><div class="ttdoc">Invalidate cached analyses for an IR unit.</div><div class="ttdef"><b>Definition:</b> <a href="PassManagerImpl_8h_source.html#l00089">PassManagerImpl.h:89</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_af61b31a99c1e58b1760492d2a7a1ba9c"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#af61b31a99c1e58b1760492d2a7a1ba9c">llvm::MemoryLocation::getOrNone</a></div><div class="ttdeci">static std::optional&lt; MemoryLocation &gt; getOrNone(const Instruction *Inst)</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8cpp_source.html#l00078">MemoryLocation.cpp:78</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a5df7eb5d682c3dd160910c213d5f9b23"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a5df7eb5d682c3dd160910c213d5f9b23">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(PostOrderFunctionAttrsLegacyPass, &quot;function-attrs&quot;, &quot;Deduce function attributes&quot;, false, false) INITIALIZE_PASS_END(PostOrderFunctionAttrsLegacyPass</div></div>
<div class="ttc" id="astructllvm_1_1CaptureTracker_html"><div class="ttname"><a href="structllvm_1_1CaptureTracker.html">llvm::CaptureTracker</a></div><div class="ttdoc">This callback is used in conjunction with PointerMayBeCaptured.</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8h_source.html#l00092">CaptureTracking.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a18b9d328d2490f447589ba60345eba6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a18b9d328d2490f447589ba60345eba6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::size</a></div><div class="ttdeci">size_type size() const</div><div class="ttdoc">Determine the number of elements in the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00077">SetVector.h:77</a></div></div>
<div class="ttc" id="anamespacellvm_html_a26e2a938b431eaa6eca2beaa96410c9d"><div class="ttname"><a href="namespacellvm.html#a26e2a938b431eaa6eca2beaa96410c9d">llvm::successors</a></div><div class="ttdeci">auto successors(const MachineBasicBlock *BB)</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01265">MachineBasicBlock.h:1265</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aCaptureTracking_8h_html"><div class="ttname"><a href="CaptureTracking_8h.html">CaptureTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a308b65a044b4f53e31a2026a81c991d2"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a308b65a044b4f53e31a2026a81c991d2">llvm::GlobalValue::isLocalLinkage</a></div><div class="ttdeci">static bool isLocalLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00404">GlobalValue.h:404</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html"><div class="ttname"><a href="Support_2ErrorHandling_8h.html">ErrorHandling.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a2b9ce0388ffca9ad9191e298e43a6b04"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a2b9ce0388ffca9ad9191e298e43a6b04">addNoSyncAttr</a></div><div class="ttdeci">static void addNoSyncAttr(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01681">FunctionAttrs.cpp:1681</a></div></div>
<div class="ttc" id="aclassllvm_1_1AllAnalysesOn_html"><div class="ttname"><a href="classllvm_1_1AllAnalysesOn.html">llvm::AllAnalysesOn</a></div><div class="ttdoc">This templated class represents &quot;all analyses that operate over &lt;a particular IR unit&gt;&quot; (e....</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00090">PassManager.h:90</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac9a7de5a04920954ac964059cfc428ad"><div class="ttname"><a href="namespacellvm.html#ac9a7de5a04920954ac964059cfc428ad">llvm::erase_if</a></div><div class="ttdeci">void erase_if(Container &amp;C, UnaryPredicate P)</div><div class="ttdoc">Provide a container algorithm similar to C++ Library Fundamentals v2's erase_if which is equivalent t...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01998">STLExtras.h:1998</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aTransforms_2Utils_2Local_8h_html"><div class="ttname"><a href="Transforms_2Utils_2Local_8h.html">Local.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a596a49623f77050eb85eb8f12b88de3e"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a596a49623f77050eb85eb8f12b88de3e">canReturn</a></div><div class="ttdeci">static bool canReturn(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01549">FunctionAttrs.cpp:1549</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_a83c7e5ca51099e4efa895791a02fb0ed"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#a83c7e5ca51099e4efa895791a02fb0ed">FAM</a></div><div class="ttdeci">FunctionAnalysisManager FAM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00059">PassBuilderBindings.cpp:59</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a2fbfe5377a984518a7c03d8558df726d"><div class="ttname"><a href="classllvm_1_1CallBase.html#a2fbfe5377a984518a7c03d8558df726d">llvm::CallBase::hasFnAttr</a></div><div class="ttdeci">bool hasFnAttr(Attribute::AttrKind Kind) const</div><div class="ttdoc">Determine whether this call has the given attribute.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01493">InstrTypes.h:1493</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_a07256e6859fcb3b9d5eb02ecea9e9a38"><div class="ttname"><a href="namespacellvm.html#a07256e6859fcb3b9d5eb02ecea9e9a38">llvm::isKnownNonZero</a></div><div class="ttdeci">bool isKnownNonZero(const Value *V, const DataLayout &amp;DL, unsigned Depth=0, AssumptionCache *AC=nullptr, const Instruction *CxtI=nullptr, const DominatorTree *DT=nullptr, bool UseInstrInfo=true)</div><div class="ttdoc">Return true if the given value is known to be non-zero when defined.</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l00313">ValueTracking.cpp:313</a></div></div>
<div class="ttc" id="aDenseMap_8h_html"><div class="ttname"><a href="DenseMap_8h.html">DenseMap.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ad5082c0a778e9ce6adafb92e38b1bf6b"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ad5082c0a778e9ce6adafb92e38b1bf6b">instructionDoesNotReturn</a></div><div class="ttdeci">static bool instructionDoesNotReturn(Instruction &amp;I)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01534">FunctionAttrs.cpp:1534</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a00a76a729b319dc47beffbe07325565f"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get begin iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00226">Path.cpp:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a754b47054852401f87e52805d15bdf05"><div class="ttname"><a href="classllvm_1_1CallBase.html#a754b47054852401f87e52805d15bdf05">llvm::CallBase::isCallee</a></div><div class="ttdeci">bool isCallee(Value::const_user_iterator UI) const</div><div class="ttdoc">Determine whether the passed iterator points to the callee operand's Use.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01417">InstrTypes.h:1417</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html"><div class="ttname"><a href="classllvm_1_1SmallSet.html">llvm::SmallSet</a></div><div class="ttdoc">SmallSet - This maintains a set of unique values, optimizing for the case when the set is small (less...</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00135">SmallSet.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_abea7dbce516384b1496a70a3291e8d47a048abbcfb5ae8b2872302936a60e6f67"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a048abbcfb5ae8b2872302936a60e6f67">llvm::MemoryEffects::ArgMem</a></div><div class="ttdeci">@ ArgMem</div><div class="ttdoc">Access to memory via argument pointers.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00068">ModRef.h:68</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMapBase_html_a53408c95a7bfb5443b43fb2134c3eb23"><div class="ttname"><a href="classllvm_1_1DenseMapBase.html#a53408c95a7bfb5443b43fb2134c3eb23">llvm::DenseMapBase&lt; DenseMap&lt; KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;, KeyT, ValueT, DenseMapInfo&lt; KeyT &gt;, llvm::detail::DenseMapPair&lt; KeyT, ValueT &gt; &gt;::count</a></div><div class="ttdeci">size_type count(const_arg_type_t&lt; KeyT &gt; Val) const</div><div class="ttdoc">Return 1 if the specified key is in the map, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00145">DenseMap.h:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html_ac2dcbbe63442137e970291904102aa83"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#ac2dcbbe63442137e970291904102aa83">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;::NodeRef</a></div><div class="ttdeci">ArgumentGraphNode * NodeRef</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00556">FunctionAttrs.cpp:556</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a63a45e5b4f6037c05b07b9dc2c7ded46">llvm::MCID::Convergent</a></div><div class="ttdeci">@ Convergent</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00185">MCInstrDesc.h:185</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MipsISD_html_a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8"><div class="ttname"><a href="namespacellvm_1_1MipsISD.html#a422daf9aa810935178671306b651d69ba366e1eac31eeb1a1892d62ccfc0c8cf8">llvm::MipsISD::Ret</a></div><div class="ttdeci">@ Ret</div><div class="ttdef"><b>Definition:</b> <a href="MipsISelLowering_8h_source.html#l00119">MipsISelLowering.h:119</a></div></div>
<div class="ttc" id="aAMDGPURegBankSelect_8cpp_html_a14e0c000ed52e5fc187d4a885914cc1a"><div class="ttname"><a href="AMDGPURegBankSelect_8cpp.html#a14e0c000ed52e5fc187d4a885914cc1a">Select</a></div><div class="ttdeci">amdgpu AMDGPU Register Bank Select</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURegBankSelect_8cpp_source.html#l00045">AMDGPURegBankSelect.cpp:45</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a9ec948ba8709fe1041a2ec4a79cb6e4b"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a9ec948ba8709fe1041a2ec4a79cb6e4b">isReturnNonNull</a></div><div class="ttdeci">static bool isReturnNonNull(Function *F, const SCCNodeSet &amp;SCCNodes, bool &amp;Speculative)</div><div class="ttdoc">Tests whether this function is known to not return null.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01118">FunctionAttrs.cpp:1118</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1FFlags_html_a2d25dc51175326eab7e8714ae1cd85ae"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1FFlags.html#a2d25dc51175326eab7e8714ae1cd85ae">llvm::FunctionSummary::FFlags::NoRecurse</a></div><div class="ttdeci">unsigned NoRecurse</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00642">ModuleSummaryIndex.h:642</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a0977a377d388781d894bb237f0429777"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a0977a377d388781d894bb237f0429777">DisableNoUnwindInference</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableNoUnwindInference(&quot;disable-nounwind-inference&quot;, cl::Hidden, cl::desc(&quot;Stop inferring nounwind attribute during function-attrs pass&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_af4663ee02ad0f28a78539ec85c91bec0"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#af4663ee02ad0f28a78539ec85c91bec0">llvm::GlobalValue::isLinkOnceODRLinkage</a></div><div class="ttdeci">static bool isLinkOnceODRLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00380">GlobalValue.h:380</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ae108e4dbbaf43d863f88674e0a37efcd"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ae108e4dbbaf43d863f88674e0a37efcd">createSCCNodeSet</a></div><div class="ttdeci">static SCCNodesResult createSCCNodeSet(ArrayRef&lt; Function * &gt; Functions)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01702">FunctionAttrs.cpp:1702</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html_aa4f5d191d29a1a6652aac89920cfef6f"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#aa4f5d191d29a1a6652aac89920cfef6f">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;::child_end</a></div><div class="ttdeci">static ChildIteratorType child_end(NodeRef N)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00561">FunctionAttrs.cpp:561</a></div></div>
<div class="ttc" id="aBasicAliasAnalysis_8h_html"><div class="ttname"><a href="BasicAliasAnalysis_8h.html">BasicAliasAnalysis.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa5069619ca8fdce305534f3fe85091a0f">llvm::SPII::Load</a></div><div class="ttdeci">@ Load</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00032">SparcInstrInfo.h:32</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_aeb16f6743f500ffa4e061fe1bf0f1ec5"><div class="ttname"><a href="FunctionAttrs_8cpp.html#aeb16f6743f500ffa4e061fe1bf0f1ec5">addArgumentReturnedAttrs</a></div><div class="ttdeci">static void addArgumentReturnedAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Deduce returned attributes for the SCC.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00712">FunctionAttrs.cpp:712</a></div></div>
<div class="ttc" id="aUse_8h_html"><div class="ttname"><a href="Use_8h.html">Use.h</a></div></div>
<div class="ttc" id="aModuleSummaryIndex_8h_html"><div class="ttname"><a href="ModuleSummaryIndex_8h.html">ModuleSummaryIndex.h</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a62c6882e8be05d55fb7e7f743f43d902"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a62c6882e8be05d55fb7e7f743f43d902">runImpl</a></div><div class="ttdeci">static bool runImpl(CallGraphSCC &amp;SCC, AARGetterT AARGetter)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01859">FunctionAttrs.cpp:1859</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac08ed1ec3e6d465de23a2a6100d5df38"><div class="ttname"><a href="namespacellvm.html#ac08ed1ec3e6d465de23a2a6100d5df38">llvm::getAAResultsAnalysisUsage</a></div><div class="ttdeci">void getAAResultsAnalysisUsage(AnalysisUsage &amp;AU)</div><div class="ttdoc">A helper for the legacy pass manager to populate AU to add uses to make sure the analyses required by...</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00939">AliasAnalysis.cpp:939</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a2eeab54d062f9adb0aad6b5729172ac8"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a2eeab54d062f9adb0aad6b5729172ac8">addAccessAttr</a></div><div class="ttdeci">static bool addAccessAttr(Argument *A, Attribute::AttrKind R)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00801">FunctionAttrs.cpp:801</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFenceField_html_a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731"><div class="ttname"><a href="namespacellvm_1_1RISCVFenceField.html#a147be9e9780c1e33363ea572d4c7b25fa1835091d83e0e052cd1a32c99b2be731">llvm::RISCVFenceField::R</a></div><div class="ttdeci">@ R</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00278">RISCVBaseInfo.h:278</a></div></div>
<div class="ttc" id="aARMLowOverheadLoops_8cpp_html_a0a0971d62011c35b29ff4a2325d45e93"><div class="ttname"><a href="ARMLowOverheadLoops_8cpp.html#a0a0971d62011c35b29ff4a2325d45e93">Uses</a></div><div class="ttdeci">SmallPtrSet&lt; MachineInstr *, 2 &gt; Uses</div><div class="ttdef"><b>Definition:</b> <a href="ARMLowOverheadLoops_8cpp_source.html#l00590">ARMLowOverheadLoops.cpp:590</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a46f0bc39f45a99f997c4f124c505fb50"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a46f0bc39f45a99f997c4f124c505fb50">isFunctionMallocLike</a></div><div class="ttdeci">static bool isFunctionMallocLike(Function *F, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdoc">Tests whether a function is &quot;malloc-like&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01012">FunctionAttrs.cpp:1012</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html">llvm::MemoryEffects</a></div><div class="ttdoc">Summary of how a function affects memory in the program.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00063">ModRef.h:63</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_afecf1cc1292b07f57d343c0f4d682044"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#afecf1cc1292b07f57d343c0f4d682044">Arg</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Value * Arg</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValueSummary_html"><div class="ttname"><a href="classllvm_1_1GlobalValueSummary.html">llvm::GlobalValueSummary</a></div><div class="ttdoc">Function and variable summary information to aid decisions and implementation of importing.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00364">ModuleSummaryIndex.h:364</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_ab4e05d690df389b8b1477c90387b575f"><div class="ttname"><a href="classllvm_1_1Instruction.html#ab4e05d690df389b8b1477c90387b575f">llvm::Instruction::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns a member of one of the enums like Instruction::Add.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00168">Instruction.h:168</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0d10fe510ced2849a8074fe81e5d04ce"><div class="ttname"><a href="namespacellvm.html#a0d10fe510ced2849a8074fe81e5d04ce">llvm::all_of</a></div><div class="ttdeci">bool all_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::all_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01735">STLExtras.h:1735</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_af03b866cfd7aa23da26179050622de5a"><div class="ttname"><a href="FunctionAttrs_8cpp.html#af03b866cfd7aa23da26179050622de5a">functionWillReturn</a></div><div class="ttdeci">static bool functionWillReturn(const Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01583">FunctionAttrs.cpp:1583</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCC_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCC.html">llvm::CallGraphSCC</a></div><div class="ttdoc">CallGraphSCC - This is a single SCC that a CallGraphSCCPass is run on.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00087">CallGraphSCCPass.h:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1SCC_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1SCC.html">llvm::LazyCallGraph::SCC</a></div><div class="ttdoc">An SCC of the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00419">LazyCallGraph.h:419</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea60baadb22e80b147e4885ad16760e569">llvm::ModRefInfo::Ref</a></div><div class="ttdeci">@ Ref</div><div class="ttdoc">The access may reference the value stored in memory.</div></div>
<div class="ttc" id="aConstants_8h_html"><div class="ttname"><a href="Constants_8h.html">Constants.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a0dc5c71cdefd415dcc8569ae3f2b7892"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a0dc5c71cdefd415dcc8569ae3f2b7892">llvm::GlobalValue::isLinkOnceAnyLinkage</a></div><div class="ttdeci">static bool isLinkOnceAnyLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00377">GlobalValue.h:377</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_a16c39eb6e60b42a40c399d8d65347bb6"><div class="ttname"><a href="classllvm_1_1PHINode.html#a16c39eb6e60b42a40c399d8d65347bb6">llvm::PHINode::getIncomingValue</a></div><div class="ttdeci">Value * getIncomingValue(unsigned i) const</div><div class="ttdoc">Return incoming value number x.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02794">Instructions.h:2794</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html"><div class="ttname"><a href="classllvm_1_1AAResults.html">llvm::AAResults</a></div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00294">AliasAnalysis.h:294</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a8bb91dc842aaadf750a9ce52b00c8f59"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a8bb91dc842aaadf750a9ce52b00c8f59">InstrBreaksNonThrowing</a></div><div class="ttdeci">static bool InstrBreaksNonThrowing(Instruction &amp;I, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdoc">Helper for NoUnwind inference predicate InstrBreaksAttribute.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01381">FunctionAttrs.cpp:1381</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1ARM__PROC_html_aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5"><div class="ttname"><a href="namespacellvm_1_1ARM__PROC.html#aac31dd660a6f18140efdd62b351cb11bad9577456b5bb7a03b7f42a710e122ab5">llvm::ARM_PROC::A</a></div><div class="ttdeci">@ A</div><div class="ttdef"><b>Definition:</b> <a href="MCTargetDesc_2ARMBaseInfo_8h_source.html#l00034">ARMBaseInfo.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_abea7dbce516384b1496a70a3291e8d47a24756b3dee473132cb9203e15f937a59"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#abea7dbce516384b1496a70a3291e8d47a24756b3dee473132cb9203e15f937a59">llvm::MemoryEffects::Other</a></div><div class="ttdeci">@ Other</div><div class="ttdoc">Any other memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00072">ModRef.h:72</a></div></div>
<div class="ttc" id="aInstrTypes_8h_html"><div class="ttname"><a href="InstrTypes_8h.html">InstrTypes.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a83b8c9e572130f403445c0b0f69b837c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a83b8c9e572130f403445c0b0f69b837c">llvm::CallBase::getCalledFunction</a></div><div class="ttdeci">Function * getCalledFunction() const</div><div class="ttdoc">Returns the function called, or null if this is an indirect function invocation or the function signa...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01406">InstrTypes.h:1406</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SyncScope_html_a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a"><div class="ttname"><a href="namespacellvm_1_1SyncScope.html#a4f8fa2bf4e0acbf29065f51c8c3cad47a6ee3fb8ea1d8946ee1f96ab1947b294a">llvm::SyncScope::SingleThread</a></div><div class="ttdeci">@ SingleThread</div><div class="ttdoc">Synchronized with respect to signal handlers executing in the same thread.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00054">LLVMContext.h:54</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a89332493312d58a15f011cf8395fbc92"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a89332493312d58a15f011cf8395fbc92">deriveAttrsInPostOrder</a></div><div class="ttdeci">static SmallSet&lt; Function *, 8 &gt; deriveAttrsInPostOrder(ArrayRef&lt; Function * &gt; Functions, AARGetterT &amp;&amp;AARGetter)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01734">FunctionAttrs.cpp:1734</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ad449dfa0d6d2308ee93fa07b5a1e1e0a"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ad449dfa0d6d2308ee93fa07b5a1e1e0a">addNoRecurseAttrsTopDown</a></div><div class="ttdeci">static bool addNoRecurseAttrsTopDown(Function &amp;F)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01874">FunctionAttrs.cpp:1874</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a8c1ed5c248cbcb0432178c8925fa0e77"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a8c1ed5c248cbcb0432178c8925fa0e77">DisableThinLTOPropagation</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableThinLTOPropagation(&quot;disable-thinlto-funcattrs&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Don't propagate function-attrs in thinLTO&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1SPII_html_a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856"><div class="ttname"><a href="namespacellvm_1_1SPII.html#a1c7202c6054fef862bbed45957747cdfa36b3dd3b84fde3f8494a9b18af131856">llvm::SPII::Store</a></div><div class="ttdeci">@ Store</div><div class="ttdef"><b>Definition:</b> <a href="SparcInstrInfo_8h_source.html#l00033">SparcInstrInfo.h:33</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ac32c9ebab7dfd3db749d0ab5e6e58b3e"><div class="ttname"><a href="classllvm_1_1CallBase.html#ac32c9ebab7dfd3db749d0ab5e6e58b3e">llvm::CallBase::isConvergent</a></div><div class="ttdeci">bool isConvergent() const</div><div class="ttdoc">Determine if the invoke is convergent.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01920">InstrTypes.h:1920</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_a5e215734f00c96489db57a352b0439cc"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#a5e215734f00c96489db57a352b0439cc">llvm::MemoryEffects::doesNotAccessMemory</a></div><div class="ttdeci">bool doesNotAccessMemory() const</div><div class="ttdoc">Whether this function accesses no memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00191">ModRef.h:191</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ac45ebe526e991e91bc23dd8a581e56c5"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ac45ebe526e991e91bc23dd8a581e56c5">EnableNonnullArgPropagation</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; EnableNonnullArgPropagation(&quot;enable-nonnull-arg-prop&quot;, cl::init(true), cl::Hidden, cl::desc(&quot;Try to propagate nonnull argument attributes from callsites to &quot; &quot;caller functions.&quot;))</div></div>
<div class="ttc" id="anamespacellvm_html_ada75fb6345bfa2602ef65d6898d3e236"><div class="ttname"><a href="namespacellvm.html#ada75fb6345bfa2602ef65d6898d3e236">llvm::inferAttributesFromOthers</a></div><div class="ttdeci">bool inferAttributesFromOthers(Function &amp;F)</div><div class="ttdoc">If we can infer one attribute from another on the declaration of a function, explicitly materialize t...</div><div class="ttdef"><b>Definition:</b> <a href="Transforms_2Utils_2Local_8cpp_source.html#l03517">Local.cpp:3517</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a7abf5fb4071cb25dbce06dfb5ee3c937"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a7abf5fb4071cb25dbce06dfb5ee3c937">B</a></div><div class="ttdeci">static GCRegistry::Add&lt; OcamlGC &gt; B(&quot;ocaml&quot;, &quot;ocaml 3.10-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a39cdc71d12722bb912f3a299ab5574ab"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a39cdc71d12722bb912f3a299ab5574ab">llvm::GlobalValue::isWeakODRLinkage</a></div><div class="ttdeci">static bool isWeakODRLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00389">GlobalValue.h:389</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a98f54e18da022cdb497fbbeed4488276"><div class="ttname"><a href="classllvm_1_1AAResults.html#a98f54e18da022cdb497fbbeed4488276">llvm::AAResults::getMemoryEffects</a></div><div class="ttdeci">MemoryEffects getMemoryEffects(const CallBase *Call)</div><div class="ttdoc">Return the behavior of the given call site.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00387">AliasAnalysis.cpp:387</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ad447fd4d9b07ad3c98df6acdd371d158"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ad447fd4d9b07ad3c98df6acdd371d158">addNoAliasAttrs</a></div><div class="ttdeci">static void addNoAliasAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Deduce noalias attributes for the SCC.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01076">FunctionAttrs.cpp:1076</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1RefSCC_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1RefSCC.html">llvm::LazyCallGraph::RefSCC</a></div><div class="ttdoc">A RefSCC of the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00544">LazyCallGraph.h:544</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a35c66c8d7328637260a03faa73269783"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a35c66c8d7328637260a03faa73269783">addArgumentAttrsFromCallsites</a></div><div class="ttdeci">static bool addArgumentAttrsFromCallsites(Function &amp;F)</div><div class="ttdoc">If a callsite has arguments that are also arguments to the parent function, try to propagate attribut...</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00762">FunctionAttrs.cpp:762</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a58e7049a60860bfd38dc2b17220ba0c9"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a58e7049a60860bfd38dc2b17220ba0c9">addArgumentAttrs</a></div><div class="ttdeci">static void addArgumentAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Deduce nocapture attributes for the SCC.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00827">FunctionAttrs.cpp:827</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html_a50a2e57da274f8d69b9f932977379cdf"><div class="ttname"><a href="classllvm_1_1Use.html#a50a2e57da274f8d69b9f932977379cdf">llvm::Use::getUser</a></div><div class="ttdeci">User * getUser() const</div><div class="ttdoc">Returns the User that contains this Use.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00072">Use.h:72</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphNode_html"><div class="ttname"><a href="classllvm_1_1CallGraphNode.html">llvm::CallGraphNode</a></div><div class="ttdoc">A node in the call graph for a module.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00166">CallGraph.h:166</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4_html_a77f0b9307f18f69afc7c562c7c547183"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#a77f0b9307f18f69afc7c562c7c547183">llvm::GraphTraits&lt; ArgumentGraph * &gt;::nodes_end</a></div><div class="ttdeci">static ChildIteratorType nodes_end(ArgumentGraph *AG)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00572">FunctionAttrs.cpp:572</a></div></div>
<div class="ttc" id="aLazyCallGraph_8h_html"><div class="ttname"><a href="LazyCallGraph_8h.html">LazyCallGraph.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a705838e4c991d2a041852a987a8aad3f"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a705838e4c991d2a041852a987a8aad3f">inferAttrsFromFunctionBodies</a></div><div class="ttdeci">static void inferAttrsFromFunctionBodies(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Infer attributes from all functions in the SCC by scanning every instruction for compliance to the at...</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01449">FunctionAttrs.cpp:1449</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ab389f58bce3bb2dcd1eb8284f46064ee"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ab389f58bce3bb2dcd1eb8284f46064ee">deduceFunctionAttributeInRPO</a></div><div class="ttdeci">static bool deduceFunctionAttributeInRPO(Module &amp;M, LazyCallGraph &amp;CG)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01906">FunctionAttrs.cpp:1906</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_afa6978376a8030111bb1068f3363912a"><div class="ttname"><a href="FunctionAttrs_8cpp.html#afa6978376a8030111bb1068f3363912a">DisableNoFreeInference</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; DisableNoFreeInference(&quot;disable-nofree-inference&quot;, cl::Hidden, cl::desc(&quot;Stop inferring nofree attribute during function-attrs pass&quot;))</div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html_aef51af4b490af6b3bf2dfbc8737a8f9f"><div class="ttname"><a href="classllvm_1_1PHINode.html#aef51af4b490af6b3bf2dfbc8737a8f9f">llvm::PHINode::getNumIncomingValues</a></div><div class="ttdeci">unsigned getNumIncomingValues() const</div><div class="ttdoc">Return the number of incoming edges.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02790">Instructions.h:2790</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a857a8c38e4856efec047cc914c25b692"><div class="ttname"><a href="classllvm_1_1CallBase.html#a857a8c38e4856efec047cc914c25b692">llvm::CallBase::onlyReadsMemory</a></div><div class="ttdeci">bool onlyReadsMemory(unsigned OpNo) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01730">InstrTypes.h:1730</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a12a40c8120b4946a2935d16867203310"><div class="ttname"><a href="namespacellvm.html#a12a40c8120b4946a2935d16867203310">llvm::computeFunctionBodyMemoryAccess</a></div><div class="ttdeci">MemoryEffects computeFunctionBodyMemoryAccess(Function &amp;F, AAResults &amp;AAR)</div><div class="ttdoc">Returns the memory access properties of this copy of the function.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00233">FunctionAttrs.cpp:233</a></div></div>
<div class="ttc" id="astructllvm_1_1ValueInfo_html"><div class="ttname"><a href="structllvm_1_1ValueInfo.html">llvm::ValueInfo</a></div><div class="ttdoc">Struct that holds a reference to a particular GUID in a global value summary.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00169">ModuleSummaryIndex.h:169</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="anamespacellvm_html_a71882a8257c58a4d9401db39622871a6"><div class="ttname"><a href="namespacellvm.html#a71882a8257c58a4d9401db39622871a6">llvm::scc_begin</a></div><div class="ttdeci">scc_iterator&lt; T &gt; scc_begin(const T &amp;G)</div><div class="ttdoc">Construct the begin iterator for a deduced graph type T.</div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00232">SCCIterator.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1function__ref_html"><div class="ttname"><a href="classllvm_1_1function__ref.html">llvm::function_ref</a></div><div class="ttdoc">An efficient, type-erasing, non-owning reference to a callable.</div><div class="ttdef"><b>Definition:</b> <a href="STLFunctionalExtras_8h_source.html#l00036">STLFunctionalExtras.h:36</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ad83b36729cc3328ed0adb99c0dfde77c"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ad83b36729cc3328ed0adb99c0dfde77c">addWillReturn</a></div><div class="ttdeci">static void addWillReturn(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01613">FunctionAttrs.cpp:1613</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a062c7e0be2dcadb1daf2221992df7d4c"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a062c7e0be2dcadb1daf2221992df7d4c">addNoReturnAttrs</a></div><div class="ttdeci">static void addNoReturnAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01569">FunctionAttrs.cpp:1569</a></div></div>
<div class="ttc" id="aBasicBlock_8h_html"><div class="ttname"><a href="BasicBlock_8h.html">BasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7e3e687ddfdcbacd404bcf17b917dd88"><div class="ttname"><a href="namespacellvm.html#a7e3e687ddfdcbacd404bcf17b917dd88">llvm::instructions</a></div><div class="ttdeci">inst_range instructions(Function *F)</div><div class="ttdef"><b>Definition:</b> <a href="InstIterator_8h_source.html#l00133">InstIterator.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_af1d556c5ac64fbaee047a05297c62a60"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#af1d556c5ac64fbaee047a05297c62a60">llvm::MemoryEffects::unknown</a></div><div class="ttdeci">static MemoryEffects unknown()</div><div class="ttdoc">Create MemoryEffects that can read and write any memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00113">ModRef.h:113</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a97bce951e4585a39601c04d86bb14ffd">VI</a></div><div class="ttdeci">@ VI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07994">SIInstrInfo.cpp:7994</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a2d989cf6c0da10e436e1e95e380e0e09"><div class="ttname"><a href="classllvm_1_1CallBase.html#a2d989cf6c0da10e436e1e95e380e0e09">llvm::CallBase::doesNotAccessMemory</a></div><div class="ttdeci">bool doesNotAccessMemory(unsigned OpNo) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01724">InstrTypes.h:1724</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html_a6cc67c5a27b53bc940d292c0aeb6aba3"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html#a6cc67c5a27b53bc940d292c0aeb6aba3">llvm::CallGraphSCCPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;Info) const override</div><div class="ttdoc">getAnalysisUsage - For this class, we declare that we require and preserve the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8cpp_source.html#l00650">CallGraphSCCPass.cpp:650</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a9bf617fd3367180fb96cebccfaae8dfa"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a9bf617fd3367180fb96cebccfaae8dfa">D</a></div><div class="ttdeci">static GCRegistry::Add&lt; StatepointGC &gt; D(&quot;statepoint-example&quot;, &quot;an example strategy for statepoint&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60ea5e58e419b1c9e35d6131976412fd8f0c">llvm::Attribute::None</a></div><div class="ttdeci">@ None</div><div class="ttdoc">No attributes have been set.</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00088">Attributes.h:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1scc__iterator_html"><div class="ttname"><a href="classllvm_1_1scc__iterator.html">llvm::scc_iterator</a></div><div class="ttdoc">Enumerate the SCCs of a directed graph in reverse topological order of the SCC DAG.</div><div class="ttdef"><b>Definition:</b> <a href="SCCIterator_8h_source.html#l00046">SCCIterator.h:46</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_ad966bea18aa62ffb9e040509adc7c99f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#ad966bea18aa62ffb9e040509adc7c99f">llvm::PreservedAnalyses::preserve</a></div><div class="ttdeci">void preserve()</div><div class="ttdoc">Mark an analysis as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00173">PassManager.h:173</a></div></div>
<div class="ttc" id="aTransforms_2IPO_8h_html"><div class="ttname"><a href="Transforms_2IPO_8h.html">IPO.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_afaaa2d8391708787311e242879016162"><div class="ttname"><a href="FunctionAttrs_8cpp.html#afaaa2d8391708787311e242879016162">addNonNullAttrs</a></div><div class="ttdeci">static void addNonNullAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Deduce nonnull attributes for the SCC.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01184">FunctionAttrs.cpp:1184</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_ac9afa1cbc2053845ada53374ff24c5f9"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#ac9afa1cbc2053845ada53374ff24c5f9">llvm::MemoryEffects::getModRef</a></div><div class="ttdeci">ModRefInfo getModRef(Location Loc) const</div><div class="ttdoc">Get ModRefInfo for the given Location.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00164">ModRef.h:164</a></div></div>
<div class="ttc" id="aMemoryLocation_8h_html"><div class="ttname"><a href="MemoryLocation_8h.html">MemoryLocation.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DenseMap_html"><div class="ttname"><a href="classllvm_1_1DenseMap.html">llvm::DenseMap</a></div><div class="ttdef"><b>Definition:</b> <a href="DenseMap_8h_source.html#l00714">DenseMap.h:714</a></div></div>
<div class="ttc" id="aCGSCCPassManager_8h_html"><div class="ttname"><a href="CGSCCPassManager_8h.html">CGSCCPassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphWrapperPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphWrapperPass.html">llvm::CallGraphWrapperPass</a></div><div class="ttdoc">The ModulePass which wraps up a CallGraph and the logic to build it.</div><div class="ttdef"><b>Definition:</b> <a href="CallGraph_8h_source.html#l00345">CallGraph.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1ReversePostOrderFunctionAttrsPass_html_a711463cdc12e518aaca8c394a0f82139"><div class="ttname"><a href="classllvm_1_1ReversePostOrderFunctionAttrsPass.html#a711463cdc12e518aaca8c394a0f82139">llvm::ReversePostOrderFunctionAttrsPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01934">FunctionAttrs.cpp:1934</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Attribute_html_aab7ee4b8fd1d3e7e4cea87868855e60e"><div class="ttname"><a href="classllvm_1_1Attribute.html#aab7ee4b8fd1d3e7e4cea87868855e60e">llvm::Attribute::AttrKind</a></div><div class="ttdeci">AttrKind</div><div class="ttdoc">This enumeration lists the attributes that can be associated with parameters, function results,...</div><div class="ttdef"><b>Definition:</b> <a href="Attributes_8h_source.html#l00086">Attributes.h:86</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ab60b866ad3294245873494390a00e213"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ab60b866ad3294245873494390a00e213">checkFunctionMemoryAccess</a></div><div class="ttdeci">static MemoryEffects checkFunctionMemoryAccess(Function &amp;F, bool ThisBody, AAResults &amp;AAR, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdoc">Returns the memory access attribute for function F using AAR for AA results, where SCCNodes is the cu...</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00123">FunctionAttrs.cpp:123</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a27ab264aa1e655ed42732fe0ec40d441"><div class="ttname"><a href="classllvm_1_1CallBase.html#a27ab264aa1e655ed42732fe0ec40d441">llvm::CallBase::doesNotCapture</a></div><div class="ttdeci">bool doesNotCapture(unsigned OpNo) const</div><div class="ttdoc">Determine whether this data operand is not captured.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01683">InstrTypes.h:1683</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8faf819cc43a44ee07737f305ce4534f"><div class="ttname"><a href="namespacellvm.html#a8faf819cc43a44ee07737f305ce4534f">llvm::createPostOrderFunctionAttrsLegacyPass</a></div><div class="ttdeci">Pass * createPostOrderFunctionAttrsLegacyPass()</div><div class="ttdoc">Create a legacy pass manager instance of a pass to compute function attrs in post-order.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01854">FunctionAttrs.cpp:1854</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2e"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2e">llvm::ModRefInfo</a></div><div class="ttdeci">ModRefInfo</div><div class="ttdoc">Flags indicating whether a memory access modifies or references memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00027">ModRef.h:27</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_ad5430077c62f3b57349697776c590823"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#ad5430077c62f3b57349697776c590823">llvm::MemoryEffects::none</a></div><div class="ttdeci">static MemoryEffects none()</div><div class="ttdoc">Create MemoryEffects that cannot read or write any memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00118">ModRef.h:118</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a89a664b58385307fbb24c02e141d864b"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a89a664b58385307fbb24c02e141d864b">llvm::GlobalValue::isExternalLinkage</a></div><div class="ttdeci">static bool isExternalLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00371">GlobalValue.h:371</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aecc0c27ae96638bc9d8fa4caffa92c31"><div class="ttname"><a href="classllvm_1_1CallBase.html#aecc0c27ae96638bc9d8fa4caffa92c31">llvm::CallBase::hasOperandBundles</a></div><div class="ttdeci">bool hasOperandBundles() const</div><div class="ttdoc">Return true if this User has any operand bundles.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01954">InstrTypes.h:1954</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_ae64bb5b78cd6a7e4568e355e6422f6f4"><div class="ttname"><a href="FunctionAttrs_8cpp.html#ae64bb5b78cd6a7e4568e355e6422f6f4">InstrBreaksNonConvergent</a></div><div class="ttdeci">static bool InstrBreaksNonConvergent(Instruction &amp;I, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdoc">Helper for non-Convergent inference predicate InstrBreaksAttribute.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01371">FunctionAttrs.cpp:1371</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86AS_html_aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f"><div class="ttname"><a href="namespacellvm_1_1X86AS.html#aea2591d7d017866934bcf72ee3dc8a31a5b3a782ccae295a254e2794ad30ad07f">llvm::X86AS::FS</a></div><div class="ttdeci">@ FS</div><div class="ttdef"><b>Definition:</b> <a href="X86_8h_source.html#l00201">X86.h:201</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a11e85bd0636c06273039d95814064fd1"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a11e85bd0636c06273039d95814064fd1">determinePointerAccessAttrs</a></div><div class="ttdeci">static Attribute::AttrKind determinePointerAccessAttrs(Argument *A, const SmallPtrSet&lt; Argument *, 8 &gt; &amp;SCCNodes)</div><div class="ttdoc">Returns Attribute::None, Attribute::ReadOnly or Attribute::ReadNone.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00579">FunctionAttrs.cpp:579</a></div></div>
<div class="ttc" id="aclassllvm_1_1SelectInst_html"><div class="ttname"><a href="classllvm_1_1SelectInst.html">llvm::SelectInst</a></div><div class="ttdoc">This class represents the LLVM 'select' instruction.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01746">Instructions.h:1746</a></div></div>
<div class="ttc" id="aMemDepPrinter_8cpp_html_a470d8721ad7c3b718e9daeabdaeb4700"><div class="ttname"><a href="MemDepPrinter_8cpp.html#a470d8721ad7c3b718e9daeabdaeb4700">function</a></div><div class="ttdeci">print Print MemDeps of function</div><div class="ttdef"><b>Definition:</b> <a href="MemDepPrinter_8cpp_source.html#l00082">MemDepPrinter.cpp:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a578061260691a59a9e7b0455fd68359c"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a578061260691a59a9e7b0455fd68359c">llvm::GlobalValue::isAvailableExternallyLinkage</a></div><div class="ttdeci">static bool isAvailableExternallyLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00374">GlobalValue.h:374</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html_a4e5c42dc883d0deb41a668301cd5ac72"><div class="ttname"><a href="classllvm_1_1Function.html#a4e5c42dc883d0deb41a668301cd5ac72">llvm::Function::doesNotRecurse</a></div><div class="ttdeci">bool doesNotRecurse() const</div><div class="ttdoc">Determine if the function is known not to recurse, directly or indirectly.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00587">Function.h:587</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_afaaa7a54f8efe730ccfb969164d51ccf"><div class="ttname"><a href="FunctionAttrs_8cpp.html#afaaa7a54f8efe730ccfb969164d51ccf">attrs</a></div><div class="ttdeci">function attrs</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01851">FunctionAttrs.cpp:1851</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1FFlags_html"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1FFlags.html">llvm::FunctionSummary::FFlags</a></div><div class="ttdoc">Flags specific to function summaries.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00637">ModuleSummaryIndex.h:637</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_1_1Node_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph_1_1Node.html">llvm::LazyCallGraph::Node</a></div><div class="ttdoc">A node in the call graph.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00315">LazyCallGraph.h:315</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a1f475b0df44ebd7169e720fa1bf9169e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a1f475b0df44ebd7169e720fa1bf9169e">llvm::SmallPtrSetImpl::count</a></div><div class="ttdeci">size_type count(ConstPtrType Ptr) const</div><div class="ttdoc">count - Return 1 if the specified pointer is in the set, 0 otherwise.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00383">SmallPtrSet.h:383</a></div></div>
<div class="ttc" id="aclassllvm_1_1SetVector_html_a72d928b7fc2c5f2d56c6ac0265fd9c6e"><div class="ttname"><a href="classllvm_1_1SetVector.html#a72d928b7fc2c5f2d56c6ac0265fd9c6e">llvm::SetVector&lt; T, SmallVector&lt; T, N &gt;, SmallDenseSet&lt; T, N &gt; &gt;::insert</a></div><div class="ttdeci">bool insert(const value_type &amp;X)</div><div class="ttdoc">Insert a new element into the SetVector.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00141">SetVector.h:141</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1CPol_html_a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1CPol.html#a7d79a4b341da8ac60b91c1f4b1ea42c4aca1659af59093b2b14c2f8aad41e8e2a">llvm::AMDGPU::CPol::SCC</a></div><div class="ttdeci">@ SCC</div><div class="ttdef"><b>Definition:</b> <a href="SIDefines_8h_source.html#l00316">SIDefines.h:316</a></div></div>
<div class="ttc" id="aAnalysis_2CFG_8h_html"><div class="ttname"><a href="Analysis_2CFG_8h.html">CFG.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a8e01be8df392a48a6ca68228ffeeed7b"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a8e01be8df392a48a6ca68228ffeeed7b">calculatePrevailingSummary</a></div><div class="ttdeci">static FunctionSummary * calculatePrevailingSummary(ValueInfo VI, DenseMap&lt; ValueInfo, FunctionSummary * &gt; &amp;CachedPrevailingSummary, function_ref&lt; bool(GlobalValue::GUID, const GlobalValueSummary *)&gt; IsPrevailing)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00268">FunctionAttrs.cpp:268</a></div></div>
<div class="ttc" id="aclassllvm_1_1AssumptionCacheTracker_html"><div class="ttname"><a href="classllvm_1_1AssumptionCacheTracker.html">llvm::AssumptionCacheTracker</a></div><div class="ttdoc">An immutable pass that tracks lazily created AssumptionCache objects.</div><div class="ttdef"><b>Definition:</b> <a href="AssumptionCache_8h_source.html#l00202">AssumptionCache.h:202</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7912b6c9e7843ca9fd5a11e199bef617"><div class="ttname"><a href="namespacellvm.html#a7912b6c9e7843ca9fd5a11e199bef617">llvm::PointerMayBeCaptured</a></div><div class="ttdeci">bool PointerMayBeCaptured(const Value *V, bool ReturnCaptures, bool StoreCaptures, unsigned MaxUsesToExplore=0)</div><div class="ttdoc">PointerMayBeCaptured - Return true if this pointer value may be captured by the enclosing function (w...</div><div class="ttdef"><b>Definition:</b> <a href="CaptureTracking_8cpp_source.html#l00214">CaptureTracking.cpp:214</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4_html_aa83677b39b0694b9874605608b37eed9"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#aa83677b39b0694b9874605608b37eed9">llvm::GraphTraits&lt; ArgumentGraph * &gt;::getEntryNode</a></div><div class="ttdeci">static NodeRef getEntryNode(ArgumentGraph *AG)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00566">FunctionAttrs.cpp:566</a></div></div>
<div class="ttc" id="anamespacellvm_html_a216d14de36b8a826480677a45a95b942"><div class="ttname"><a href="namespacellvm.html#a216d14de36b8a826480677a45a95b942">llvm::initializePostOrderFunctionAttrsLegacyPassPass</a></div><div class="ttdeci">void initializePostOrderFunctionAttrsLegacyPassPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdoc">This function should be called by the pass, iff they do not:</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00265">Pass.cpp:265</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a96f99bd2a31fec426c13e7adf776fe16"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a96f99bd2a31fec426c13e7adf776fe16">basicBlockCanReturn</a></div><div class="ttdeci">static bool basicBlockCanReturn(BasicBlock &amp;BB)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01542">FunctionAttrs.cpp:1542</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassllvm_1_1CFGAnalyses_html"><div class="ttname"><a href="classllvm_1_1CFGAnalyses.html">llvm::CFGAnalyses</a></div><div class="ttdoc">Represents analyses that only rely on functions' control flow.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00113">PassManager.h:113</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a015846b6188ce15e08cd94c74a9df1a3"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a015846b6188ce15e08cd94c74a9df1a3">A</a></div><div class="ttdeci">* A</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00089">README_ALTIVEC.txt:89</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea7aeb0277500c86e4aa6bd23f9a737942">llvm::ModRefInfo::Mod</a></div><div class="ttdeci">@ Mod</div><div class="ttdoc">The access may modify the value stored in memory.</div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html_a084dca0d254aa2b771109929ddcca738"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a084dca0d254aa2b771109929ddcca738">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;::ChildIteratorType</a></div><div class="ttdeci">SmallVectorImpl&lt; ArgumentGraphNode * &gt;::iterator ChildIteratorType</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00557">FunctionAttrs.cpp:557</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a330471067c17061b7c2152d75102f24a"><div class="ttname"><a href="classllvm_1_1CallBase.html#a330471067c17061b7c2152d75102f24a">llvm::CallBase::hasRetAttr</a></div><div class="ttdeci">bool hasRetAttr(Attribute::AttrKind Kind) const</div><div class="ttdoc">Determine whether the return value has the given attribute.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01605">InstrTypes.h:1605</a></div></div>
<div class="ttc" id="aCallGraphSCCPass_8h_html"><div class="ttname"><a href="CallGraphSCCPass_8h.html">CallGraphSCCPass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a590b8b0d5d2ae53eeb6f290d7395c71c"><div class="ttname"><a href="classllvm_1_1CallBase.html#a590b8b0d5d2ae53eeb6f290d7395c71c">llvm::CallBase::dataOperandHasImpliedAttr</a></div><div class="ttdeci">bool dataOperandHasImpliedAttr(unsigned i, Attribute::AttrKind Kind) const</div><div class="ttdoc">Return true if the data operand at index i has the attribute A.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01663">InstrTypes.h:1663</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_ac74f64b68de08d6551bc3ccfbbb68c09"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#ac74f64b68de08d6551bc3ccfbbb68c09">llvm::MemoryEffects::getWithoutLoc</a></div><div class="ttdeci">MemoryEffects getWithoutLoc(Location Loc) const</div><div class="ttdoc">Get new MemoryEffects with NoModRef on the given Loc.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00176">ModRef.h:176</a></div></div>
<div class="ttc" id="aArgument_8h_html"><div class="ttname"><a href="Argument_8h.html">Argument.h</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;</a></div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00555">FunctionAttrs.cpp:555</a></div></div>
<div class="ttc" id="aAMDGPULibCalls_8cpp_html_a537c835c34f0b44b6ad2696643754390"><div class="ttname"><a href="AMDGPULibCalls_8cpp.html#a537c835c34f0b44b6ad2696643754390">Callee</a></div><div class="ttdeci">amdgpu Simplify well known AMD library false FunctionCallee Callee</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPULibCalls_8cpp_source.html#l00187">AMDGPULibCalls.cpp:187</a></div></div>
<div class="ttc" id="aAttributes_8h_html"><div class="ttname"><a href="Attributes_8h.html">Attributes.h</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="astructllvm_1_1CGSCCUpdateResult_html"><div class="ttname"><a href="structllvm_1_1CGSCCUpdateResult.html">llvm::CGSCCUpdateResult</a></div><div class="ttdoc">Support structure for SCC passes to communicate updates the call graph back to the CGSCC pass manager...</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00232">CGSCCPassManager.h:232</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionSummary_html"><div class="ttname"><a href="classllvm_1_1FunctionSummary.html">llvm::FunctionSummary</a></div><div class="ttdoc">Function summary information to aid decisions and implementation of importing.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00587">ModuleSummaryIndex.h:587</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_a3ec61b88c722cd0e736fa93b4b599a19"><div class="ttname"><a href="classllvm_1_1CallBase.html#a3ec61b88c722cd0e736fa93b4b599a19">llvm::CallBase::getDataOperandNo</a></div><div class="ttdeci">unsigned getDataOperandNo(Value::const_user_iterator UI) const</div><div class="ttdoc">Given a value use iterator, return the data operand corresponding to it.</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01314">InstrTypes.h:1314</a></div></div>
<div class="ttc" id="anamespacellvm_html_aed2c5dd2a303159f87771db83f54352b"><div class="ttname"><a href="namespacellvm.html#aed2c5dd2a303159f87771db83f54352b">llvm::isIdentifiedObject</a></div><div class="ttdeci">bool isIdentifiedObject(const Value *V)</div><div class="ttdoc">Return true if this pointer refers to a distinct and identifiable object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00878">AliasAnalysis.cpp:878</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4d13fd05401d8eb0c97b9864a0eb6028"><div class="ttname"><a href="namespacellvm.html#a4d13fd05401d8eb0c97b9864a0eb6028">llvm::copy_if</a></div><div class="ttdeci">OutputIt copy_if(R &amp;&amp;Range, OutputIt Out, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::copy_if which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01781">STLExtras.h:1781</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_aeac59c1598cb931a07550c901220bcf2"><div class="ttname"><a href="classllvm_1_1CallBase.html#aeac59c1598cb931a07550c901220bcf2">llvm::CallBase::isArgOperand</a></div><div class="ttdeci">bool isArgOperand(const Use *U) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01371">InstrTypes.h:1371</a></div></div>
<div class="ttc" id="astructllvm_1_1PostOrderFunctionAttrsPass_html_a8312d250d0f7b4407b4bad97293e5865"><div class="ttname"><a href="structllvm_1_1PostOrderFunctionAttrsPass.html#a8312d250d0f7b4407b4bad97293e5865">llvm::PostOrderFunctionAttrsPass::run</a></div><div class="ttdeci">PreservedAnalyses run(LazyCallGraph::SCC &amp;C, CGSCCAnalysisManager &amp;AM, LazyCallGraph &amp;CG, CGSCCUpdateResult &amp;UR)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01773">FunctionAttrs.cpp:1773</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_adde2ea00dd2613ee41bfe91908e4e68e"><div class="ttname"><a href="classllvm_1_1CallBase.html#adde2ea00dd2613ee41bfe91908e4e68e">llvm::CallBase::arg_size</a></div><div class="ttdeci">unsigned arg_size() const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01349">InstrTypes.h:1349</a></div></div>
<div class="ttc" id="anamespacellvm_html_a45395a3dca2e20d0e8dde2d0532ec401"><div class="ttname"><a href="namespacellvm.html#a45395a3dca2e20d0e8dde2d0532ec401">llvm::thinLTOPropagateFunctionAttrs</a></div><div class="ttdeci">bool thinLTOPropagateFunctionAttrs(ModuleSummaryIndex &amp;Index, function_ref&lt; bool(GlobalValue::GUID, const GlobalValueSummary *)&gt; isPrevailing)</div><div class="ttdoc">Propagate function attributes for function summaries along the index's callgraph during thinlink.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00371">FunctionAttrs.cpp:371</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraphAnalysis_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraphAnalysis.html">llvm::LazyCallGraphAnalysis</a></div><div class="ttdoc">An analysis pass which computes the call graph for a module.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l01257">LazyCallGraph.h:1257</a></div></div>
<div class="ttc" id="anamespacellvm_html_abff5a423c1f45e23958dde8ee695c9a9"><div class="ttname"><a href="namespacellvm.html#abff5a423c1f45e23958dde8ee695c9a9">llvm::isGuaranteedToTransferExecutionToSuccessor</a></div><div class="ttdeci">bool isGuaranteedToTransferExecutionToSuccessor(const Instruction *I)</div><div class="ttdoc">Return true if this function can prove that the instruction I will always transfer execution to one o...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l05612">ValueTracking.cpp:5612</a></div></div>
<div class="ttc" id="aCasting_8h_html"><div class="ttname"><a href="Casting_8h.html">Casting.h</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallGraphSCCPass_html"><div class="ttname"><a href="classllvm_1_1CallGraphSCCPass.html">llvm::CallGraphSCCPass</a></div><div class="ttdef"><b>Definition:</b> <a href="CallGraphSCCPass_8h_source.html#l00034">CallGraphSCCPass.h:34</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_aa878a4543a04856b3a745395c90ace5d"><div class="ttname"><a href="FunctionAttrs_8cpp.html#aa878a4543a04856b3a745395c90ace5d">addNoRecurseAttrs</a></div><div class="ttdeci">static void addNoRecurseAttrs(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01502">FunctionAttrs.cpp:1502</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_aacb8bb19bd4e35daf65ca4d0a1296f5a"><div class="ttname"><a href="FunctionAttrs_8cpp.html#aacb8bb19bd4e35daf65ca4d0a1296f5a">inferConvergent</a></div><div class="ttdeci">static void inferConvergent(const SCCNodeSet &amp;SCCNodes, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Attempt to remove convergent function attribute when possible.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01416">FunctionAttrs.cpp:1416</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1FFlags_html_a3be485a3c17c68829f4ac271a1572b9f"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1FFlags.html#a3be485a3c17c68829f4ac271a1572b9f">llvm::FunctionSummary::FFlags::MayThrow</a></div><div class="ttdeci">unsigned MayThrow</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00653">ModuleSummaryIndex.h:653</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_aaf3e450cfe1a015165e602af71d5eedf"><div class="ttname"><a href="FunctionAttrs_8cpp.html#aaf3e450cfe1a015165e602af71d5eedf">InstrBreaksNoSync</a></div><div class="ttdeci">static bool InstrBreaksNoSync(Instruction &amp;I, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01648">FunctionAttrs.cpp:1648</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSet_html_a1679469af9bb8ccfbe98441fb8228c79"><div class="ttname"><a href="classllvm_1_1SmallSet.html#a1679469af9bb8ccfbe98441fb8228c79">llvm::SmallSet::insert</a></div><div class="ttdeci">std::pair&lt; const_iterator, bool &gt; insert(const T &amp;V)</div><div class="ttdoc">insert - Insert an element into the set if it isn't already there.</div><div class="ttdef"><b>Definition:</b> <a href="SmallSet_8h_source.html#l00177">SmallSet.h:177</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_aa407dded90aa101d97422c314f4c64fa"><div class="ttname"><a href="FunctionAttrs_8cpp.html#aa407dded90aa101d97422c314f4c64fa">addMemoryAttrs</a></div><div class="ttdeci">static void addMemoryAttrs(const SCCNodeSet &amp;SCCNodes, AARGetterT &amp;&amp;AARGetter, SmallSet&lt; Function *, 8 &gt; &amp;Changed)</div><div class="ttdoc">Deduce readonly/readnone/writeonly attributes for the SCC.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00240">FunctionAttrs.cpp:240</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_abed91fefcc041268a8f52d7db0be4fce"><div class="ttname"><a href="FunctionAttrs_8cpp.html#abed91fefcc041268a8f52d7db0be4fce">InstrBreaksNoFree</a></div><div class="ttdeci">static bool InstrBreaksNoFree(Instruction &amp;I, const SCCNodeSet &amp;SCCNodes)</div><div class="ttdoc">Helper for NoFree inference predicate InstrBreaksAttribute.</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01397">FunctionAttrs.cpp:1397</a></div></div>
<div class="ttc" id="aCallGraph_8h_html"><div class="ttname"><a href="CallGraph_8h.html">CallGraph.h</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html_afc0c1807210caf0f99a9689918c7f87f"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#afc0c1807210caf0f99a9689918c7f87f">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;::getEntryNode</a></div><div class="ttdeci">static NodeRef getEntryNode(NodeRef A)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00559">FunctionAttrs.cpp:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html"><div class="ttname"><a href="classllvm_1_1Pass.html">llvm::Pass</a></div><div class="ttdoc">Pass interface - Implemented by all 'passes'.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00091">Pass.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResults_html_a7785e563bd969eb1f63d26eca6873eb6"><div class="ttname"><a href="classllvm_1_1AAResults.html#a7785e563bd969eb1f63d26eca6873eb6">llvm::AAResults::getModRefInfoMask</a></div><div class="ttdeci">ModRefInfo getModRefInfoMask(const MemoryLocation &amp;Loc, bool IgnoreLocals=false)</div><div class="ttdoc">Returns a bitmask that should be unconditionally applied to the ModRef info of a memory location.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8cpp_source.html#l00149">AliasAnalysis.cpp:149</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a937c42f77e161349ce0f999e448c7027"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a937c42f77e161349ce0f999e448c7027">llvm::PreservedAnalyses::preserveSet</a></div><div class="ttdeci">void preserveSet()</div><div class="ttdoc">Mark an analysis set as preserved.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00188">PassManager.h:188</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4_html_abfef12e43b4eb2165bcd1e0b42cdf14b"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraph_01_5_01_4.html#abfef12e43b4eb2165bcd1e0b42cdf14b">llvm::GraphTraits&lt; ArgumentGraph * &gt;::nodes_begin</a></div><div class="ttdeci">static ChildIteratorType nodes_begin(ArgumentGraph *AG)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00568">FunctionAttrs.cpp:568</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleSummaryIndex_html"><div class="ttname"><a href="classllvm_1_1ModuleSummaryIndex.html">llvm::ModuleSummaryIndex</a></div><div class="ttdoc">Class to hold module path string table and global value map, and encapsulate methods for operating on...</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l01199">ModuleSummaryIndex.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_adfda3db956cf3d285f3a346c3e5f94ef"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#adfda3db956cf3d285f3a346c3e5f94ef">llvm::MemoryEffects::argMemOnly</a></div><div class="ttdeci">static MemoryEffects argMemOnly(ModRefInfo MR=ModRefInfo::ModRef)</div><div class="ttdoc">Create MemoryEffects that can only access argument memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00133">ModRef.h:133</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ac5b936169badf0b703567eb960278648"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">llvm::SmallVectorImpl::iterator</a></div><div class="ttdeci">typename SuperClass::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00581">SmallVector.h:581</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html_ab2caa29167597390ab2fc3cf30d70389"><div class="ttname"><a href="classllvm_1_1CallBase.html#ab2caa29167597390ab2fc3cf30d70389">llvm::CallBase::getArgOperand</a></div><div class="ttdeci">Value * getArgOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01351">InstrTypes.h:1351</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a4a5581b36782033ccd381c56bb1176a7"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a4a5581b36782033ccd381c56bb1176a7">attributes</a></div><div class="ttdeci">function Deduce function attributes</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01852">FunctionAttrs.cpp:1852</a></div></div>
<div class="ttc" id="aclassllvm_1_1AAResultsWrapperPass_html"><div class="ttname"><a href="classllvm_1_1AAResultsWrapperPass.html">llvm::AAResultsWrapperPass</a></div><div class="ttdoc">A wrapper pass to provide the legacy pass manager access to a suitably prepared AAResults object.</div><div class="ttdef"><b>Definition:</b> <a href="AliasAnalysis_8h_source.html#l00933">AliasAnalysis.h:933</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a1a7f07aaef6a3bee130bf0e0f0536802"><div class="ttname"><a href="classllvm_1_1Instruction.html#a1a7f07aaef6a3bee130bf0e0f0536802">llvm::Instruction::getParent</a></div><div class="ttdeci">const BasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00090">Instruction.h:90</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_a0c8ffe664a36e30d49c84d0aded2fe08"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#a0c8ffe664a36e30d49c84d0aded2fe08">llvm::SmallVectorImpl::pop_back_val</a></div><div class="ttdeci">T pop_back_val()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00677">SmallVector.h:677</a></div></div>
<div class="ttc" id="aclassllvm_1_1PHINode_html"><div class="ttname"><a href="classllvm_1_1PHINode.html">llvm::PHINode</a></div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l02708">Instructions.h:2708</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a0918c134c7b8131fa37df98101cd17db"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a0918c134c7b8131fa37df98101cd17db">llvm::GlobalValue::isWeakAnyLinkage</a></div><div class="ttdeci">static bool isWeakAnyLinkage(LinkageTypes Linkage)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00386">GlobalValue.h:386</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html_a9e7736a620a28815327d9fae9387092c"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html#a9e7736a620a28815327d9fae9387092c">llvm::LazyCallGraph::postorder_ref_sccs</a></div><div class="ttdeci">iterator_range&lt; postorder_ref_scc_iterator &gt; postorder_ref_sccs()</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00968">LazyCallGraph.h:968</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6b0ac1fa4f05de76413c5e0ca6334035"><div class="ttname"><a href="namespacellvm.html#a6b0ac1fa4f05de76413c5e0ca6334035">llvm::reverse</a></div><div class="ttdeci">auto reverse(ContainerTy &amp;&amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l00484">STLExtras.h:484</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae96dbd1485a431400525ca17896ec48e"><div class="ttname"><a href="namespacellvm.html#ae96dbd1485a431400525ca17896ec48e">llvm::isNoModRef</a></div><div class="ttdeci">bool isNoModRef(const ModRefInfo MRI)</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00039">ModRef.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html_a46815b7f69bb96eddd2e1e01bec6120c"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html#a46815b7f69bb96eddd2e1e01bec6120c">llvm::MemoryLocation::getBeforeOrAfter</a></div><div class="ttdeci">static MemoryLocation getBeforeOrAfter(const Value *Ptr, const AAMDNodes &amp;AATags=AAMDNodes())</div><div class="ttdoc">Return a location that may access any location before or after Ptr, while remaining within the underl...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00279">MemoryLocation.h:279</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallBase_html"><div class="ttname"><a href="classllvm_1_1CallBase.html">llvm::CallBase</a></div><div class="ttdoc">Base class for all callable instructions (InvokeInst and CallInst) Holds everything related to callin...</div><div class="ttdef"><b>Definition:</b> <a href="InstrTypes_8h_source.html#l01184">InstrTypes.h:1184</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallSetVector_html"><div class="ttname"><a href="classllvm_1_1SmallSetVector.html">llvm::SmallSetVector</a></div><div class="ttdoc">A SetVector that performs no allocations if smaller than a certain size.</div><div class="ttdef"><b>Definition:</b> <a href="SetVector_8h_source.html#l00300">SetVector.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="astructllvm_1_1FunctionSummary_1_1FFlags_html_ac1fc367cc7c31e9ff00ad5593f4f5ccf"><div class="ttname"><a href="structllvm_1_1FunctionSummary_1_1FFlags.html#ac1fc367cc7c31e9ff00ad5593f4f5ccf">llvm::FunctionSummary::FFlags::NoUnwind</a></div><div class="ttdeci">unsigned NoUnwind</div><div class="ttdef"><b>Definition:</b> <a href="ModuleSummaryIndex_8h_source.html#l00651">ModuleSummaryIndex.h:651</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ae5c60fd282ee894c87ea02c3f0fcb6d0"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ae5c60fd282ee894c87ea02c3f0fcb6d0">llvm::AnalysisUsage::addRequired</a></div><div class="ttdeci">AnalysisUsage &amp; addRequired()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00075">PassAnalysisSupport.h:75</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_html"><div class="ttname"><a href="structllvm_1_1GraphTraits.html">llvm::GraphTraits</a></div><div class="ttdef"><b>Definition:</b> <a href="GraphTraits_8h_source.html#l00037">GraphTraits.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html_abe1de1520a21f77ac57cc210bf0fb0b4"><div class="ttname"><a href="classllvm_1_1User.html#abe1de1520a21f77ac57cc210bf0fb0b4">llvm::User::getOperand</a></div><div class="ttdeci">Value * getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00169">User.h:169</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1LazyCallGraph_html"><div class="ttname"><a href="classllvm_1_1LazyCallGraph.html">llvm::LazyCallGraph</a></div><div class="ttdoc">A lazily constructed view of the call graph of a module.</div><div class="ttdef"><b>Definition:</b> <a href="LazyCallGraph_8h_source.html#l00110">LazyCallGraph.h:110</a></div></div>
<div class="ttc" id="aFunctionAttrs_8cpp_html_a3bad008875e969bbcae4a240834151fd"><div class="ttname"><a href="FunctionAttrs_8cpp.html#a3bad008875e969bbcae4a240834151fd">isOrderedAtomic</a></div><div class="ttdeci">static bool isOrderedAtomic(Instruction *I)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l01630">FunctionAttrs.cpp:1630</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionAnalysisManagerCGSCCProxy_html"><div class="ttname"><a href="classllvm_1_1FunctionAnalysisManagerCGSCCProxy.html">llvm::FunctionAnalysisManagerCGSCCProxy</a></div><div class="ttdoc">A proxy from a FunctionAnalysisManager to an SCC.</div><div class="ttdef"><b>Definition:</b> <a href="CGSCCPassManager_8h_source.html#l00392">CGSCCPassManager.h:392</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LegacyAARGetter_html"><div class="ttname"><a href="classllvm_1_1LegacyAARGetter.html">llvm::LegacyAARGetter</a></div><div class="ttdoc">This class is a functor to be used in legacy module or SCC passes for computing AA results for a func...</div><div class="ttdef"><b>Definition:</b> <a href="BasicAliasAnalysis_8h_source.html#l00187">BasicAliasAnalysis.h:187</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aFunctionAttrs_8h_html"><div class="ttname"><a href="FunctionAttrs_8h.html">FunctionAttrs.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="astructllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4_html_a231e88b22018a730290bf7e828c787b2"><div class="ttname"><a href="structllvm_1_1GraphTraits_3_01ArgumentGraphNode_01_5_01_4.html#a231e88b22018a730290bf7e828c787b2">llvm::GraphTraits&lt; ArgumentGraphNode * &gt;::child_begin</a></div><div class="ttdeci">static ChildIteratorType child_begin(NodeRef N)</div><div class="ttdef"><b>Definition:</b> <a href="FunctionAttrs_8cpp_source.html#l00560">FunctionAttrs.cpp:560</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryEffects_html_a2bfa51980a77eceed93d50103dcb7211"><div class="ttname"><a href="classllvm_1_1MemoryEffects.html#a2bfa51980a77eceed93d50103dcb7211">llvm::MemoryEffects::inaccessibleMemOnly</a></div><div class="ttdeci">static MemoryEffects inaccessibleMemOnly(ModRefInfo MR=ModRefInfo::ModRef)</div><div class="ttdoc">Create MemoryEffects that can only access inaccessible memory.</div><div class="ttdef"><b>Definition:</b> <a href="ModRef_8h_source.html#l00138">ModRef.h:138</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9"><div class="ttname"><a href="namespacellvm.html#a9db8c44b250b90e3ab7e4d144e7c9c2ea6524b183b5cd0850f2cff6d30d581af9">llvm::ModRefInfo::ModRef</a></div><div class="ttdeci">@ ModRef</div><div class="ttdoc">The access may reference and may modify the value stored in memory.</div></div>
<div class="ttc" id="aclassllvm_1_1MemoryLocation_html"><div class="ttname"><a href="classllvm_1_1MemoryLocation.html">llvm::MemoryLocation</a></div><div class="ttdoc">Representation for a specific memory location.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryLocation_8h_source.html#l00211">MemoryLocation.h:211</a></div></div>
<div class="ttc" id="aSetVector_8h_html"><div class="ttname"><a href="SetVector_8h.html">SetVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Use_html"><div class="ttname"><a href="classllvm_1_1Use.html">llvm::Use</a></div><div class="ttdoc">A Use represents the edge between a Value definition and its users.</div><div class="ttdef"><b>Definition:</b> <a href="Use_8h_source.html#l00043">Use.h:43</a></div></div>
<div class="ttc" id="aSmallSet_8h_html"><div class="ttname"><a href="SmallSet_8h.html">SmallSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:25:56 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
