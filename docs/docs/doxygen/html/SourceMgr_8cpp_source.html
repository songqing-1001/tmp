<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Support/SourceMgr.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_f0dc79bace318df7ec0fa0bdb179ed95.html">Support</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SourceMgr.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="SourceMgr_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- SourceMgr.cpp - Manager for Simple Source Buffers &amp; Diagnostics ----===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file implements the SourceMgr class.  This class is used as a simple</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// substrate for diagnostics, #include handling, and other low level things for</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// simple parsers.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Support_2SourceMgr_8h.html">llvm/Support/SourceMgr.h</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="STLExtras_8h.html">llvm/ADT/STLExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallString_8h.html">llvm/ADT/SmallString.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Twine_8h.html">llvm/ADT/Twine.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ErrorOr_8h.html">llvm/Support/ErrorOr.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Locale_8h.html">llvm/Support/Locale.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemoryBuffer_8h.html">llvm/Support/MemoryBuffer.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Path_8h.html">llvm/Support/Path.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SMLoc_8h.html">llvm/Support/SMLoc.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="WithColor_8h.html">llvm/Support/WithColor.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;limits&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">   39</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">TabStop</a> = 8;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#ade78f93269ac7fa03b8ed1806262443d">   41</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SourceMgr.html#ade78f93269ac7fa03b8ed1806262443d">SourceMgr::AddIncludeFile</a>(<span class="keyword">const</span> std::string &amp;Filename,</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                                   <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IncludeLoc,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                   std::string &amp;IncludedFile) {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt; NewBufOrErr =</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <a class="code" href="classllvm_1_1SourceMgr.html#a0c8517e1b412dcd4f30cdce1c9541cc9">OpenIncludeFile</a>(Filename, IncludedFile);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keywordflow">if</span> (!NewBufOrErr)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SourceMgr.html#afe70aa1105a855036bdeb6426cac27db">AddNewSourceBuffer</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">std::move</a>(*NewBufOrErr), IncludeLoc);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt;</div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a0c8517e1b412dcd4f30cdce1c9541cc9">   53</a></span>&#160;<a class="code" href="classllvm_1_1SourceMgr.html#a0c8517e1b412dcd4f30cdce1c9541cc9">SourceMgr::OpenIncludeFile</a>(<span class="keyword">const</span> std::string &amp;Filename,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                           std::string &amp;IncludedFile) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="classllvm_1_1ErrorOr.html">ErrorOr&lt;std::unique_ptr&lt;MemoryBuffer&gt;</a>&gt; NewBufOrErr =</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      <a class="code" href="classllvm_1_1MemoryBuffer.html#aa98611beefe78f907beeee7305cc8174">MemoryBuffer::getFile</a>(Filename);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classllvm_1_1SmallString.html">SmallString&lt;64&gt;</a> Buffer(Filename);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="comment">// If the file didn&#39;t exist directly, see if it&#39;s in an include path.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = IncludeDirectories.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> &amp;&amp; !NewBufOrErr;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;       ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    Buffer = IncludeDirectories[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">sys::path::append</a>(Buffer, Filename);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    NewBufOrErr = <a class="code" href="classllvm_1_1MemoryBuffer.html#aa98611beefe78f907beeee7305cc8174">MemoryBuffer::getFile</a>(Buffer);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordflow">if</span> (NewBufOrErr)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    IncludedFile = <span class="keyword">static_cast&lt;</span>std::string<span class="keyword">&gt;</span>(Buffer);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> NewBufOrErr;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">   73</a></span>&#160;<span class="keywordtype">unsigned</span> <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">SourceMgr::FindBufferContainingLoc</a>(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = Buffers.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>() &gt;= Buffers[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Buffer-&gt;getBufferStart() &amp;&amp;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="comment">// Use &lt;= here so that a pointer to the null at the end of the buffer</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="comment">// is included as part of the buffer.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>() &lt;= Buffers[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>].Buffer-&gt;getBufferEnd())</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> + 1;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="SourceMgr_8cpp.html#ab026117aae4a5d5d7b9b8ee72254c3ef">   84</a></span>&#160;<span class="keyword">static</span> std::vector&lt;T&gt; &amp;<a class="code" href="SourceMgr_8cpp.html#ab026117aae4a5d5d7b9b8ee72254c3ef">GetOrCreateOffsetCache</a>(<span class="keywordtype">void</span> *&amp;OffsetCache,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                              <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> *Buffer) {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">if</span> (OffsetCache)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">static_cast&lt;</span>std::vector&lt;T&gt; *<span class="keyword">&gt;</span>(OffsetCache);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// Lazily fill in the offset cache.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a> = <span class="keyword">new</span> std::vector&lt;T&gt;();</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordtype">size_t</span> Sz = Buffer-&gt;<a class="code" href="classllvm_1_1MemoryBuffer.html#a2ea075bd68f15b57e95f0771b8ba0bca">getBufferSize</a>();</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;T&gt;::max</a>());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> = Buffer-&gt;<a class="code" href="classllvm_1_1MemoryBuffer.html#a69d9843621ff4677c0b9087277dc4bd0">getBuffer</a>();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = 0; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> &lt; Sz; ++<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>) {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>[<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>-&gt;push_back(<span class="keyword">static_cast&lt;</span><a class="code" href="classT.html">T</a><span class="keyword">&gt;</span>(<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  OffsetCache = <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> *<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keywordtype">unsigned</span> SourceMgr::SrcBuffer::getLineNumberSpecialized(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  std::vector&lt;T&gt; &amp;<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a> =</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      GetOrCreateOffsetCache&lt;T&gt;(OffsetCache, Buffer.get());</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *BufStart = Buffer-&gt;getBufferStart();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> &gt;= BufStart &amp;&amp; Ptr &lt;= Buffer-&gt;getBufferEnd());</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <a class="code" href="classptrdiff__t.html">ptrdiff_t</a> PtrDiff = <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> - BufStart;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PtrDiff &gt;= 0 &amp;&amp;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;         <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(PtrDiff) &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;T&gt;::max</a>());</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <a class="code" href="classT.html">T</a> PtrOffset = <span class="keyword">static_cast&lt;</span><a class="code" href="classT.html">T</a><span class="keyword">&gt;</span>(PtrDiff);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="comment">// llvm::lower_bound gives the number of EOL before PtrOffset. Add 1 to get</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// the line number.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>, PtrOffset) - <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.begin() + 1;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">/// Look up a given \p Ptr in in the buffer, determining which line it came</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">/// from.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment"></span><span class="keywordtype">unsigned</span> SourceMgr::SrcBuffer::getLineNumber(<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">size_t</span> Sz = Buffer-&gt;getBufferSize();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint8_t&gt;::max</a>())</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> getLineNumberSpecialized&lt;uint8_t&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint16_t&gt;::max</a>())</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> getLineNumberSpecialized&lt;uint16_t&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint32_t&gt;::max</a>())</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">return</span> getLineNumberSpecialized&lt;uint32_t&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">return</span> getLineNumberSpecialized&lt;uint64_t&gt;(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *SourceMgr::SrcBuffer::getPointerForLineNumberSpecialized(</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordtype">unsigned</span> LineNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  std::vector&lt;T&gt; &amp;<a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a> =</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      GetOrCreateOffsetCache&lt;T&gt;(OffsetCache, Buffer.get());</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// We start counting line and column numbers from 1.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keywordflow">if</span> (LineNo != 0)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    --LineNo;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *BufStart = Buffer-&gt;getBufferStart();</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// The offset cache contains the location of the \n for the specified line,</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// we want the start of the line.  As such, we look for the previous entry.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="keywordflow">if</span> (LineNo == 0)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">return</span> BufStart;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (LineNo &gt; <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>.size())</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">return</span> BufStart + <a class="code" href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">Offsets</a>[LineNo - 1] + 1;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">/// Return a pointer to the first character of the specified line number or</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">/// null if the line number is invalid.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;SourceMgr::SrcBuffer::getPointerForLineNumber(<span class="keywordtype">unsigned</span> LineNo)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keywordtype">size_t</span> Sz = Buffer-&gt;getBufferSize();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint8_t&gt;::max</a>())</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> getPointerForLineNumberSpecialized&lt;uint8_t&gt;(LineNo);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint16_t&gt;::max</a>())</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> getPointerForLineNumberSpecialized&lt;uint16_t&gt;(LineNo);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint32_t&gt;::max</a>())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> getPointerForLineNumberSpecialized&lt;uint32_t&gt;(LineNo);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> getPointerForLineNumberSpecialized&lt;uint64_t&gt;(LineNo);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;SourceMgr::SrcBuffer::SrcBuffer(SourceMgr::SrcBuffer &amp;&amp;Other)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    : Buffer(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">move</a>(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.Buffer)), OffsetCache(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.OffsetCache),</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      IncludeLoc(<a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.IncludeLoc) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <a class="code" href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a>.OffsetCache = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;SourceMgr::SrcBuffer::~SrcBuffer() {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (OffsetCache) {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordtype">size_t</span> Sz = Buffer-&gt;getBufferSize();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint8_t&gt;::max</a>())</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>std::vector&lt;uint8_t&gt; *<span class="keyword">&gt;</span>(OffsetCache);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint16_t&gt;::max</a>())</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>std::vector&lt;uint16_t&gt; *<span class="keyword">&gt;</span>(OffsetCache);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (Sz &lt;= <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::numeric_limits&lt;uint32_t&gt;::max</a>())</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>std::vector&lt;uint32_t&gt; *<span class="keyword">&gt;</span>(OffsetCache);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span>std::vector&lt;uint64_t&gt; *<span class="keyword">&gt;</span>(OffsetCache);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    OffsetCache = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;}</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;std::pair&lt;unsigned, unsigned&gt;</div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a494d75fe0bc43f9c6b8821f983205649">  192</a></span>&#160;SourceMgr::getLineAndColumn(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc, <span class="keywordtype">unsigned</span> BufferID)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">if</span> (!BufferID)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    BufferID = <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">FindBufferContainingLoc</a>(Loc);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BufferID &amp;&amp; <span class="stringliteral">&quot;Invalid location!&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keyword">auto</span> &amp;SB = <a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(BufferID);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordtype">unsigned</span> LineNo = SB.getLineNumber(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *BufStart = SB.Buffer-&gt;getBufferStart();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordtype">size_t</span> NewlineOffs = <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(BufStart, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> - BufStart).<a class="code" href="classllvm_1_1StringRef.html#a7a7c222449f3208a532168c90bfb654d">find_last_of</a>(<span class="stringliteral">&quot;\n\r&quot;</span>);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">if</span> (NewlineOffs == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    NewlineOffs = ~(size_t)0;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">return</span> std::make_pair(LineNo, <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> - BufStart - NewlineOffs);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;}</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// FIXME: Note that the formatting of source locations is spread between</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// multiple functions, some in SourceMgr and some in SMDiagnostic. A better</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">// solution would be a general-purpose source location formatter</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// in one of those two classes, or possibly in SMLoc.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">/// Get a string with the source location formatted in the standard</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">/// style, but without the line offset. If \p IncludePath is true, the path</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">/// is included. If false, only the file name and extension are included.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#af8ebf8281d0ee499c10e259b917e4b1a">  216</a></span>&#160;<span class="comment"></span>std::string <a class="code" href="classllvm_1_1SourceMgr.html#af8ebf8281d0ee499c10e259b917e4b1a">SourceMgr::getFormattedLocationNoOffset</a>(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                                                    <span class="keywordtype">bool</span> IncludePath)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keyword">auto</span> BufferID = <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">FindBufferContainingLoc</a>(Loc);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(BufferID &amp;&amp; <span class="stringliteral">&quot;Invalid location!&quot;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="keyword">auto</span> FileSpec = <a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(BufferID).Buffer-&gt;getBufferIdentifier();</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">if</span> (IncludePath) {</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">return</span> FileSpec.str() + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(<a class="code" href="classllvm_1_1SourceMgr.html#af84919a22333087fc39465b1826a8208">FindLineNumber</a>(Loc, BufferID));</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = FileSpec.find_last_of(<span class="stringliteral">&quot;/\\&quot;</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == FileSpec.size()) ? 0 : (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> + 1);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> FileSpec.substr(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>).str() + <span class="stringliteral">&quot;:&quot;</span> +</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;           <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(<a class="code" href="classllvm_1_1SourceMgr.html#af84919a22333087fc39465b1826a8208">FindLineNumber</a>(Loc, BufferID));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">/// Given a line and column number in a mapped buffer, turn it into an SMLoc.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">/// This will return a null SMLoc if the line/column location is invalid.</span></div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#aff3380c7e96d28b108876d8e7b66e341">  234</a></span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> <a class="code" href="classllvm_1_1SourceMgr.html#aff3380c7e96d28b108876d8e7b66e341">SourceMgr::FindLocForLineAndColumn</a>(<span class="keywordtype">unsigned</span> BufferID, <span class="keywordtype">unsigned</span> LineNo,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                         <span class="keywordtype">unsigned</span> ColNo) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keyword">auto</span> &amp;SB = <a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(BufferID);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> = SB.getPointerForLineNumber(LineNo);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// We start counting line and column numbers from 1.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span> (ColNo != 0)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    --ColNo;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="comment">// If we have a column number, validate it.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keywordflow">if</span> (ColNo) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">// Make sure the location is within the current line.</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> + ColNo &gt; SB.Buffer-&gt;getBufferEnd())</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a>();</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// Make sure there is no newline in the way.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>, ColNo).find_first_of(<span class="stringliteral">&quot;\n\r&quot;</span>) != <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>)</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a>();</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a> += ColNo;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SMLoc.html#a16ebb09610e55f63cfc55f28e3a56ad5">SMLoc::getFromPointer</a>(<a class="code" href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a700008f59fc3d0ac675878b0432b59e4">  261</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SourceMgr.html#a700008f59fc3d0ac675878b0432b59e4">SourceMgr::PrintIncludeStack</a>(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> IncludeLoc, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordflow">if</span> (IncludeLoc == <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a>())</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// Top of stack.</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordtype">unsigned</span> CurBuf = <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">FindBufferContainingLoc</a>(IncludeLoc);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurBuf &amp;&amp; <span class="stringliteral">&quot;Invalid or unspecified location!&quot;</span>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <a class="code" href="classllvm_1_1SourceMgr.html#a700008f59fc3d0ac675878b0432b59e4">PrintIncludeStack</a>(<a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(CurBuf).IncludeLoc, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;Included from &quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(CurBuf).Buffer-&gt;getBufferIdentifier()</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;     &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; <a class="code" href="classllvm_1_1SourceMgr.html#af84919a22333087fc39465b1826a8208">FindLineNumber</a>(IncludeLoc, CurBuf) &lt;&lt; <span class="stringliteral">&quot;:\n&quot;</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;}</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#acdf08ebc749ce91001ea768a16da0605">  274</a></span>&#160;<a class="code" href="classllvm_1_1SMDiagnostic.html">SMDiagnostic</a> <a class="code" href="classllvm_1_1SourceMgr.html#acdf08ebc749ce91001ea768a16da0605">SourceMgr::GetMessage</a>(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc, <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777">SourceMgr::DiagKind</a> Kind,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                                   <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMRange&gt;</a> Ranges,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                   <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMFixIt&gt;</a> FixIts)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// First thing to do: find the current buffer containing the specified</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// location to pull out the source line.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;unsigned, unsigned&gt;</a>, 4&gt; ColRanges;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  std::pair&lt;unsigned, unsigned&gt; LineAndCol;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> BufferID = <span class="stringliteral">&quot;&lt;unknown&gt;&quot;</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> LineStr;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordflow">if</span> (Loc.<a class="code" href="classllvm_1_1SMLoc.html#a1f2a0fa0dfc38a500504421b1ff8d2f0">isValid</a>()) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordtype">unsigned</span> CurBuf = <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">FindBufferContainingLoc</a>(Loc);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurBuf &amp;&amp; <span class="stringliteral">&quot;Invalid or unspecified location!&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MemoryBuffer.html">MemoryBuffer</a> *CurMB = <a class="code" href="classllvm_1_1SourceMgr.html#a5b4ee23fc51562163af02001998eaef1">getMemoryBuffer</a>(CurBuf);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    BufferID = CurMB-&gt;<a class="code" href="classllvm_1_1MemoryBuffer.html#a2037f11968aa30bfda0b4de9f335624d">getBufferIdentifier</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// Scan backward to find the start of the line.</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *LineStart = Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *BufStart = CurMB-&gt;<a class="code" href="classllvm_1_1MemoryBuffer.html#a4bdf8690e1d80fc2944ecb5da6b9f509">getBufferStart</a>();</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keywordflow">while</span> (LineStart != BufStart &amp;&amp; LineStart[-1] != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;           LineStart[-1] != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      --LineStart;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="comment">// Get the end of the line.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *LineEnd = Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *BufEnd = CurMB-&gt;<a class="code" href="classllvm_1_1MemoryBuffer.html#aa417cde8b1f3668789ec6193996ba523">getBufferEnd</a>();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">while</span> (LineEnd != BufEnd &amp;&amp; LineEnd[0] != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; LineEnd[0] != <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      ++LineEnd;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    LineStr = <a class="code" href="classllvm_1_1StringRef.html">StringRef</a>(LineStart, LineEnd - LineStart);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="comment">// Convert any ranges to column ranges that only intersect the line of the</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="comment">// location.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SMRange.html">SMRange</a> R : Ranges) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="keywordflow">if</span> (!R.isValid())</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      <span class="comment">// If the line doesn&#39;t contain any part of the range, then ignore it.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">if</span> (R.Start.getPointer() &gt; LineEnd || R.End.getPointer() &lt; LineStart)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">// Ignore pieces of the range that go onto other lines.</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">if</span> (R.Start.getPointer() &lt; LineStart)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        R.Start = <a class="code" href="classllvm_1_1SMLoc.html#a16ebb09610e55f63cfc55f28e3a56ad5">SMLoc::getFromPointer</a>(LineStart);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="keywordflow">if</span> (R.End.getPointer() &gt; LineEnd)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        R.End = <a class="code" href="classllvm_1_1SMLoc.html#a16ebb09610e55f63cfc55f28e3a56ad5">SMLoc::getFromPointer</a>(LineEnd);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// Translate from SMLoc ranges to column ranges.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// FIXME: Handle multibyte characters.</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      ColRanges.push_back(std::make_pair(R.Start.getPointer() - LineStart,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                                         R.End.getPointer() - LineStart));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    LineAndCol = <a class="code" href="classllvm_1_1SourceMgr.html#a494d75fe0bc43f9c6b8821f983205649">getLineAndColumn</a>(Loc, CurBuf);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  }</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1SMDiagnostic.html">SMDiagnostic</a>(*<span class="keyword">this</span>, Loc, BufferID, LineAndCol.first,</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                      LineAndCol.second - 1, Kind, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>.str(), LineStr,</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                      ColRanges, FixIts);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;}</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a042b7e85ad239f80f6a079283a9faee6">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">SourceMgr::PrintMessage</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1SMDiagnostic.html">SMDiagnostic</a> &amp;Diagnostic,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                             <span class="keywordtype">bool</span> ShowColors)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// Report the message with the diagnostic handler if present.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keywordflow">if</span> (DiagHandler) {</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    DiagHandler(Diagnostic, DiagContext);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="keywordflow">if</span> (Diagnostic.<a class="code" href="classllvm_1_1SMDiagnostic.html#a7f7639f70813f4388a60639d770ae0de">getLoc</a>().<a class="code" href="classllvm_1_1SMLoc.html#a1f2a0fa0dfc38a500504421b1ff8d2f0">isValid</a>()) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordtype">unsigned</span> CurBuf = <a class="code" href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">FindBufferContainingLoc</a>(Diagnostic.<a class="code" href="classllvm_1_1SMDiagnostic.html#a7f7639f70813f4388a60639d770ae0de">getLoc</a>());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CurBuf &amp;&amp; <span class="stringliteral">&quot;Invalid or unspecified location!&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="classllvm_1_1SourceMgr.html#a700008f59fc3d0ac675878b0432b59e4">PrintIncludeStack</a>(<a class="code" href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">getBufferInfo</a>(CurBuf).IncludeLoc, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  Diagnostic.<a class="code" href="classllvm_1_1SMDiagnostic.html#ae816f6ae1b7e57364e1b57d87c6a36e8">print</a>(<span class="keyword">nullptr</span>, <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, ShowColors);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160; </div>
<div class="line"><a name="l00352"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">  352</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">SourceMgr::PrintMessage</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                             <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777">SourceMgr::DiagKind</a> Kind, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMRange&gt;</a> Ranges, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMFixIt&gt;</a> FixIts,</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                             <span class="keywordtype">bool</span> ShowColors)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <a class="code" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">PrintMessage</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1SourceMgr.html#acdf08ebc749ce91001ea768a16da0605">GetMessage</a>(Loc, Kind, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>, Ranges, FixIts), ShowColors);</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; </div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classllvm_1_1SourceMgr.html#abd60e3f6be5b0af5c3b08eb81c9a7aed">  359</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">SourceMgr::PrintMessage</a>(<a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> Loc, <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777">SourceMgr::DiagKind</a> Kind,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>, <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMRange&gt;</a> Ranges,</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                             <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMFixIt&gt;</a> FixIts, <span class="keywordtype">bool</span> ShowColors)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <a class="code" href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">PrintMessage</a>(<a class="code" href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">errs</a>(), Loc, Kind, <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>, Ranges, FixIts, ShowColors);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;}</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">// SMFixIt Implementation</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno"><a class="line" href="classllvm_1_1SMFixIt.html#a87b4bfeff33119c7341bf20c2c29376f">  369</a></span>&#160;<a class="code" href="classllvm_1_1SMFixIt.html#a87b4bfeff33119c7341bf20c2c29376f">SMFixIt::SMFixIt</a>(<a class="code" href="classllvm_1_1SMRange.html">SMRange</a> R, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Twine.html">Twine</a> &amp;Replacement)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    : Range(R), Text(Replacement.str()) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(R.isValid());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">// SMDiagnostic Implementation</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classllvm_1_1SMDiagnostic.html#a1647e7903c362166c248d796f966ff9c">  378</a></span>&#160;<a class="code" href="classllvm_1_1SMDiagnostic.html#a3c6552311757bb0e9cc1ffe90c712c2b">SMDiagnostic::SMDiagnostic</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1SourceMgr.html">SourceMgr</a> &amp;sm, <a class="code" href="classllvm_1_1SMLoc.html">SMLoc</a> L, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> FN, <span class="keywordtype">int</span> Line,</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                           <span class="keywordtype">int</span> Col, <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777">SourceMgr::DiagKind</a> Kind, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>,</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                           <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> LineStr,</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef</a>&lt;std::pair&lt;unsigned, unsigned&gt;&gt; Ranges,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMFixIt&gt;</a> Hints)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    : SM(&amp;sm), Loc(L), Filename(<a class="code" href="namespacestd.html">std</a>::<a class="code" href="ItaniumDemangle_8h.html#ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21">string</a>(FN)), LineNo(Line), ColumnNo(Col),</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      Kind(Kind), Message(<a class="code" href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">Msg</a>), LineContents(LineStr), Ranges(Ranges.vec()),</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      FixIts(Hints.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">begin</a>(), Hints.<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>()) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <a class="code" href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a>(FixIts);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;}</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno"><a class="line" href="SourceMgr_8cpp.html#a987811f4399e448a9e1223ee373c1e00">  389</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SourceMgr_8cpp.html#a987811f4399e448a9e1223ee373c1e00">buildFixItLine</a>(std::string &amp;CaretLine, std::string &amp;FixItLine,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SMFixIt&gt;</a> FixIts,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                           <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;char&gt;</a> SourceLine) {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (FixIts.<a class="code" href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">empty</a>())</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *LineStart = SourceLine.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>();</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *LineEnd = SourceLine.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordtype">size_t</span> PrevHintEndCol = 0;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1SMFixIt.html">llvm::SMFixIt</a> &amp;Fixit : FixIts) {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">// If the fixit contains a newline or tab, ignore it.</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (Fixit.getText().find_first_of(<span class="stringliteral">&quot;\n\r\t&quot;</span>) != <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160; </div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="classllvm_1_1SMRange.html">SMRange</a> R = Fixit.getRange();</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160; </div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// If the line doesn&#39;t contain any part of the range, then ignore it.</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">if</span> (R.Start.getPointer() &gt; LineEnd || R.End.getPointer() &lt; LineStart)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">// Translate from SMLoc to column.</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="comment">// Ignore pieces of the range that go onto other lines.</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// FIXME: Handle multibyte characters in the source line.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordtype">unsigned</span> FirstCol;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">if</span> (R.Start.getPointer() &lt; LineStart)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      FirstCol = 0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      FirstCol = R.Start.getPointer() - LineStart;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// If we inserted a long previous hint, push this one forwards, and add</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// an extra space to show that this is not part of the previous</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// completion. This is sort of the best we can do when two hints appear</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// to overlap.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// Note that if this hint is located immediately after the previous</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="comment">// hint, no space will be added, since the location is more important.</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">unsigned</span> HintCol = FirstCol;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (HintCol &lt; PrevHintEndCol)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      HintCol = PrevHintEndCol + 1;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">// FIXME: This assertion is intended to catch unintended use of multibyte</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// characters in fixits. If we decide to do this, we&#39;ll have to track</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">// separate byte widths for the source and fixit lines.</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((<span class="keywordtype">size_t</span>)<a class="code" href="namespacellvm_1_1sys_1_1locale.html#a5ae394643b3722606e9daf0ca8157f52">sys::locale::columnWidth</a>(Fixit.getText()) ==</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;           Fixit.getText().size());</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">// This relies on one byte per column in our fixit hints.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordtype">unsigned</span> LastColumnModified = HintCol + Fixit.getText().size();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (LastColumnModified &gt; FixItLine.size())</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      FixItLine.resize(LastColumnModified, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a>(Fixit.getText(), FixItLine.begin() + HintCol);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    PrevHintEndCol = LastColumnModified;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// For replacements, mark the removal range with &#39;~&#39;.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">// FIXME: Handle multibyte characters in the source line.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordtype">unsigned</span> LastCol;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> (R.End.getPointer() &gt;= LineEnd)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      LastCol = LineEnd - LineStart;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      LastCol = R.End.getPointer() - LineStart;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    std::fill(&amp;CaretLine[FirstCol], &amp;CaretLine[LastCol], <span class="charliteral">&#39;~&#39;</span>);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno"><a class="line" href="SourceMgr_8cpp.html#a9d20e2079dcd9a868d4b3af67510647b">  458</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="SourceMgr_8cpp.html#a9d20e2079dcd9a868d4b3af67510647b">printSourceLine</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> LineContents) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <span class="comment">// Print out the source line one character at a time, so we can expand tabs.</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = LineContents.<a class="code" href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">size</a>(), OutCol = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">size_t</span> NextTab = LineContents.<a class="code" href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">find</a>(<span class="charliteral">&#39;\t&#39;</span>, <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">// If there were no tabs left, print the rest, we are done.</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (NextTab == <a class="code" href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">StringRef::npos</a>) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; LineContents.<a class="code" href="classllvm_1_1StringRef.html#a3fb2867a1e9fa36e135d9ee4dffb0167">drop_front</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">// Otherwise, print from i to NextTab.</span></div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; LineContents.<a class="code" href="classllvm_1_1StringRef.html#a5d4c961b9b6f1da17df74b4496ecb30e">slice</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>, NextTab);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    OutCol += NextTab - <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = NextTab;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="comment">// If we have a tab, emit at least one space, then round up to 8 columns.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      ++OutCol;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    } <span class="keywordflow">while</span> ((OutCol % <a class="code" href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">TabStop</a>) != 0);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno"><a class="line" href="SourceMgr_8cpp.html#a646e0a501c1d33d6d67a67f89cec37e1">  482</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="SourceMgr_8cpp.html#a646e0a501c1d33d6d67a67f89cec37e1">isNonASCII</a>(<span class="keywordtype">char</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a>) { <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a> &amp; 0x80; }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; </div>
<div class="line"><a name="l00484"></a><span class="lineno"><a class="line" href="classllvm_1_1SMDiagnostic.html#ae816f6ae1b7e57364e1b57d87c6a36e8">  484</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1SMDiagnostic.html#ae816f6ae1b7e57364e1b57d87c6a36e8">SMDiagnostic::print</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *ProgName, <a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keywordtype">bool</span> ShowColors,</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;                         <span class="keywordtype">bool</span> ShowKindLabel)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2">ColorMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = ShowColors ? <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a06b9281e396db002010bde1de57262eb">ColorMode::Auto</a> : <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2abcfaccebf745acfd5e75351095a5394a">ColorMode::Disable</a>;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160; </div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  {</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <a class="code" href="classllvm_1_1WithColor.html">WithColor</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1raw__ostream.html#ad55e55b3692fe8ec3e8b724d3d5bade0">raw_ostream::SAVEDCOLOR</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160; </div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">if</span> (ProgName &amp;&amp; ProgName[0])</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; ProgName &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (!Filename.empty()) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <span class="keywordflow">if</span> (Filename == <span class="stringliteral">&quot;-&quot;</span>)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="stringliteral">&quot;&lt;stdin&gt;&quot;</span>;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; Filename;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="keywordflow">if</span> (LineNo != -1) {</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; LineNo;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">if</span> (ColumnNo != -1)</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;          <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; (ColumnNo + 1);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160; </div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordflow">if</span> (ShowKindLabel) {</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">switch</span> (Kind) {</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777adaf658d40b0b4eb15c0350864c87c2b8">SourceMgr::DK_Error</a>:</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <a class="code" href="classllvm_1_1WithColor.html#a59d59f7f8aa89b08f44ad6a87e8ebb1a">WithColor::error</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="stringliteral">&quot;&quot;</span>, !ShowColors);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777a6bcc8ac9374461ed0599334db63365d0">SourceMgr::DK_Warning</a>:</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      <a class="code" href="classllvm_1_1WithColor.html#a237ad6eae22f6b2746a542c02d309a5b">WithColor::warning</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="stringliteral">&quot;&quot;</span>, !ShowColors);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777ad5935d1ea3df60ee7ba90b8e23fa6b42">SourceMgr::DK_Note</a>:</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <a class="code" href="classllvm_1_1WithColor.html#ab5313a760f20fc53b44cc8dbabfd1ae1">WithColor::note</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="stringliteral">&quot;&quot;</span>, !ShowColors);</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777ae5a15719ab746bdc7713c4784fc1c6ea">SourceMgr::DK_Remark</a>:</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      <a class="code" href="classllvm_1_1WithColor.html#afdcd08052180c0b87e06a2808b062c01">WithColor::remark</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="stringliteral">&quot;&quot;</span>, !ShowColors);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <a class="code" href="classllvm_1_1WithColor.html">WithColor</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1raw__ostream.html#ad55e55b3692fe8ec3e8b724d3d5bade0">raw_ostream::SAVEDCOLOR</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>) &lt;&lt; Message &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keywordflow">if</span> (LineNo == -1 || ColumnNo == -1)</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="comment">// FIXME: If there are multibyte or multi-column characters in the source, all</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="comment">// our ranges will be wrong. To do this properly, we&#39;ll need a byte-to-column</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="comment">// map like Clang&#39;s TextDiagnostic. For now, we&#39;ll just handle tabs by</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="comment">// expanding them later, and bail out rather than show incorrect ranges and</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="comment">// misaligned fixits for any other odd characters.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">any_of</a>(LineContents, <a class="code" href="SourceMgr_8cpp.html#a646e0a501c1d33d6d67a67f89cec37e1">isNonASCII</a>)) {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <a class="code" href="SourceMgr_8cpp.html#a9d20e2079dcd9a868d4b3af67510647b">printSourceLine</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, LineContents);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  <span class="keywordtype">size_t</span> NumColumns = LineContents.size();</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="comment">// Build the line with the caret and ranges.</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  std::string CaretLine(NumColumns + 1, <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="comment">// Expand any ranges.</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> std::pair&lt;unsigned, unsigned&gt; &amp;R : Ranges)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    std::fill(&amp;CaretLine[R.first],</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;              &amp;CaretLine[<a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>((<span class="keywordtype">size_t</span>)R.second, CaretLine.size())], <span class="charliteral">&#39;~&#39;</span>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="comment">// Add any fix-its.</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="comment">// FIXME: Find the beginning of the line properly for multibyte characters.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  std::string FixItInsertionLine;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="SourceMgr_8cpp.html#a987811f4399e448a9e1223ee373c1e00">buildFixItLine</a>(CaretLine, FixItInsertionLine, FixIts,</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                 <a class="code" href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">ArrayRef</a>(Loc.<a class="code" href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">getPointer</a>() - ColumnNo, LineContents.size()));</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; </div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// Finally, plop on the caret.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">if</span> (<span class="keywordtype">unsigned</span>(ColumnNo) &lt;= NumColumns)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    CaretLine[ColumnNo] = <span class="charliteral">&#39;^&#39;</span>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    CaretLine[NumColumns] = <span class="charliteral">&#39;^&#39;</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160; </div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="comment">// ... and remove trailing whitespace so the output doesn&#39;t wrap for it.  We</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <span class="comment">// know that the line isn&#39;t completely empty because it has the caret in it at</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="comment">// least.</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  CaretLine.erase(CaretLine.find_last_not_of(<span class="charliteral">&#39; &#39;</span>) + 1);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <a class="code" href="SourceMgr_8cpp.html#a9d20e2079dcd9a868d4b3af67510647b">printSourceLine</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, LineContents);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2">ColorMode</a> <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a> = ShowColors ? <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a06b9281e396db002010bde1de57262eb">ColorMode::Auto</a> : <a class="code" href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2abcfaccebf745acfd5e75351095a5394a">ColorMode::Disable</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classllvm_1_1WithColor.html">WithColor</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <a class="code" href="classllvm_1_1raw__ostream.html#ae56223ff7592f05301a6b496ae46299c">raw_ostream::GREEN</a>, <span class="keyword">true</span>, <span class="keyword">false</span>, <a class="code" href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a>);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">// Print out the caret line, matching tabs in the source line.</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = CaretLine.size(), OutCol = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= LineContents.size() || LineContents[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; CaretLine[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        ++OutCol;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;      }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      <span class="comment">// Okay, we have a tab.  Insert the appropriate number of characters.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; CaretLine[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        ++OutCol;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      } <span class="keywordflow">while</span> ((OutCol % <a class="code" href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">TabStop</a>) != 0);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160; </div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// Print out the replacement line, matching tabs in the source line.</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <span class="keywordflow">if</span> (FixItInsertionLine.empty())</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; </div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = FixItInsertionLine.size(), OutCol = 0; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &lt; <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> &gt;= LineContents.size() || LineContents[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39;\t&#39;</span>) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; FixItInsertionLine[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      ++OutCol;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// Okay, we have a tab.  Insert the appropriate number of characters.</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; FixItInsertionLine[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>];</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      <span class="comment">// FIXME: This is trying not to break up replacements, but then to re-sync</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">// with the tabs between replacements. This will fail, though, if two</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="comment">// fix-it replacements are exactly adjacent, or if a fix-it contains a</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="comment">// space. Really we should be precomputing column widths, which we&#39;ll</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">// need anyway for multibyte chars.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="keywordflow">if</span> (FixItInsertionLine[<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>] != <span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      ++OutCol;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    } <span class="keywordflow">while</span> (((OutCol % <a class="code" href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">TabStop</a>) != 0) &amp;&amp; <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMFixIt_html_a87b4bfeff33119c7341bf20c2c29376f"><div class="ttname"><a href="classllvm_1_1SMFixIt.html#a87b4bfeff33119c7341bf20c2c29376f">llvm::SMFixIt::SMFixIt</a></div><div class="ttdeci">SMFixIt(SMRange R, const Twine &amp;Replacement)</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00369">SourceMgr.cpp:369</a></div></div>
<div class="ttc" id="aMemoryBuffer_8h_html"><div class="ttname"><a href="MemoryBuffer_8h.html">MemoryBuffer.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMDiagnostic_html_a3c6552311757bb0e9cc1ffe90c712c2b"><div class="ttname"><a href="classllvm_1_1SMDiagnostic.html#a3c6552311757bb0e9cc1ffe90c712c2b">llvm::SMDiagnostic::SMDiagnostic</a></div><div class="ttdeci">SMDiagnostic()=default</div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_aa98611beefe78f907beeee7305cc8174"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#aa98611beefe78f907beeee7305cc8174">llvm::MemoryBuffer::getFile</a></div><div class="ttdeci">static ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; getFile(const Twine &amp;Filename, bool IsText=false, bool RequiresNullTerminator=true, bool IsVolatile=false, std::optional&lt; Align &gt; Alignment=std::nullopt)</div><div class="ttdoc">Open the specified file as a MemoryBuffer, returning a new MemoryBuffer if successful,...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8cpp_source.html#l00248">MemoryBuffer.cpp:248</a></div></div>
<div class="ttc" id="aclassT_html"><div class="ttname"><a href="classT.html">T</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa81eb67f09ee4944eaeeddbc54c0c0de"><div class="ttname"><a href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a></div><div class="ttdeci">auto lower_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::lower_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01923">STLExtras.h:1923</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_ad0f54a163ac500b144590640c6f1eb6b"><div class="ttname"><a href="classllvm_1_1StringRef.html#ad0f54a163ac500b144590640c6f1eb6b">llvm::StringRef::npos</a></div><div class="ttdeci">static constexpr size_t npos</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00052">StringRef.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aPath_8h_html"><div class="ttname"><a href="Path_8h.html">Path.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html_ae56223ff7592f05301a6b496ae46299c"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#ae56223ff7592f05301a6b496ae46299c">llvm::raw_ostream::GREEN</a></div><div class="ttdeci">static constexpr Colors GREEN</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00111">raw_ostream.h:111</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a00a76a729b319dc47beffbe07325565f"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a00a76a729b319dc47beffbe07325565f">llvm::sys::path::begin</a></div><div class="ttdeci">const_iterator begin(StringRef path, Style style=Style::native)</div><div class="ttdoc">Get begin iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00226">Path.cpp:226</a></div></div>
<div class="ttc" id="anamespacellvm_html_abb650e853db0ddbb60411b885c499737"><div class="ttname"><a href="namespacellvm.html#abb650e853db0ddbb60411b885c499737">llvm::copy</a></div><div class="ttdeci">OutputIt copy(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01837">STLExtras.h:1837</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html"><div class="ttname"><a href="classllvm_1_1WithColor.html">llvm::WithColor</a></div><div class="ttdoc">An RAII object that temporarily switches an output stream to a specific color.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8h_source.html#l00053">WithColor.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1locale_html_a5ae394643b3722606e9daf0ca8157f52"><div class="ttname"><a href="namespacellvm_1_1sys_1_1locale.html#a5ae394643b3722606e9daf0ca8157f52">llvm::sys::locale::columnWidth</a></div><div class="ttdeci">int columnWidth(StringRef s)</div><div class="ttdef"><b>Definition:</b> <a href="Locale_8cpp_source.html#l00009">Locale.cpp:9</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a346262ff27e71aff626fe6548ef8a777ad5935d1ea3df60ee7ba90b8e23fa6b42"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777ad5935d1ea3df60ee7ba90b8e23fa6b42">llvm::SourceMgr::DK_Note</a></div><div class="ttdeci">@ DK_Note</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00037">SourceMgr.h:37</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="anamespacellvm_html_a9a7b5c68c90f85baaedaa854cc5002cc"><div class="ttname"><a href="namespacellvm.html#a9a7b5c68c90f85baaedaa854cc5002cc">llvm::errs</a></div><div class="ttdeci">raw_fd_ostream &amp; errs()</div><div class="ttdoc">This returns a reference to a raw_ostream for standard error.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8cpp_source.html#l00899">raw_ostream.cpp:899</a></div></div>
<div class="ttc" id="aSTLExtras_8h_html"><div class="ttname"><a href="STLExtras_8h.html">STLExtras.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html">llvm::MemoryBuffer</a></div><div class="ttdoc">This interface provides simple read-only access to a block of memory, and provides simple methods for...</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00051">MemoryBuffer.h:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_ac835b8735b1b2faec0efdca236e37d94"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#ac835b8735b1b2faec0efdca236e37d94">llvm::ArrayRef::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">empty - Check if the array is empty.</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00158">ArrayRef.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a700008f59fc3d0ac675878b0432b59e4"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a700008f59fc3d0ac675878b0432b59e4">llvm::SourceMgr::PrintIncludeStack</a></div><div class="ttdeci">void PrintIncludeStack(SMLoc IncludeLoc, raw_ostream &amp;OS) const</div><div class="ttdoc">Prints the names of included files and the line of the file they were included from.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00261">SourceMgr.cpp:261</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a346262ff27e71aff626fe6548ef8a777ae5a15719ab746bdc7713c4784fc1c6ea"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777ae5a15719ab746bdc7713c4784fc1c6ea">llvm::SourceMgr::DK_Remark</a></div><div class="ttdeci">@ DK_Remark</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00036">SourceMgr.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html_afdcd08052180c0b87e06a2808b062c01"><div class="ttname"><a href="classllvm_1_1WithColor.html#afdcd08052180c0b87e06a2808b062c01">llvm::WithColor::remark</a></div><div class="ttdeci">static raw_ostream &amp; remark()</div><div class="ttdoc">Convenience method for printing &quot;remark: &quot; to stderr.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8cpp_source.html#l00089">WithColor.cpp:89</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html_a59d59f7f8aa89b08f44ad6a87e8ebb1a"><div class="ttname"><a href="classllvm_1_1WithColor.html#a59d59f7f8aa89b08f44ad6a87e8ebb1a">llvm::WithColor::error</a></div><div class="ttdeci">static raw_ostream &amp; error()</div><div class="ttdoc">Convenience method for printing &quot;error: &quot; to stderr.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8cpp_source.html#l00083">WithColor.cpp:83</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_acb80894344c78dacf8d5ff8c23be697d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#acb80894344c78dacf8d5ff8c23be697d">llvm::sys::path::append</a></div><div class="ttdeci">void append(SmallVectorImpl&lt; char &gt; &amp;path, const Twine &amp;a, const Twine &amp;b=&quot;&quot;, const Twine &amp;c=&quot;&quot;, const Twine &amp;d=&quot;&quot;)</div><div class="ttdoc">Append to path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00456">Path.cpp:456</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMFixIt_html"><div class="ttname"><a href="classllvm_1_1SMFixIt.html">llvm::SMFixIt</a></div><div class="ttdoc">Represents a single fixit, a replacement of one range of text with another.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00256">SourceMgr.h:256</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMLoc_html"><div class="ttname"><a href="classllvm_1_1SMLoc.html">llvm::SMLoc</a></div><div class="ttdoc">Represents a location in source code.</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00023">SMLoc.h:23</a></div></div>
<div class="ttc" id="aclassptrdiff__t_html"><div class="ttname"><a href="classptrdiff__t.html">ptrdiff_t</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_aa417cde8b1f3668789ec6193996ba523"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#aa417cde8b1f3668789ec6193996ba523">llvm::MemoryBuffer::getBufferEnd</a></div><div class="ttdeci">const char * getBufferEnd() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00067">MemoryBuffer.h:67</a></div></div>
<div class="ttc" id="aSmallString_8h_html"><div class="ttname"><a href="SmallString_8h.html">SmallString.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a2ea075bd68f15b57e95f0771b8ba0bca"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#a2ea075bd68f15b57e95f0771b8ba0bca">llvm::MemoryBuffer::getBufferSize</a></div><div class="ttdeci">size_t getBufferSize() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00068">MemoryBuffer.h:68</a></div></div>
<div class="ttc" id="aTwine_8h_html"><div class="ttname"><a href="Twine_8h.html">Twine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMDiagnostic_html"><div class="ttname"><a href="classllvm_1_1SMDiagnostic.html">llvm::SMDiagnostic</a></div><div class="ttdoc">Instances of this class encapsulate one diagnostic report, allowing printing to a raw_ostream as a ca...</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00281">SourceMgr.h:281</a></div></div>
<div class="ttc" id="aSMLoc_8h_html"><div class="ttname"><a href="SMLoc_8h.html">SMLoc.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_afdccf3ff7a8dfaa084b07c1fb417bbe2a06b9281e396db002010bde1de57262eb"><div class="ttname"><a href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2a06b9281e396db002010bde1de57262eb">llvm::ColorMode::Auto</a></div><div class="ttdeci">@ Auto</div><div class="ttdoc">Determine whether to use color based on the command line argument and the raw_ostream.</div></div>
<div class="ttc" id="anamespacellvm_html_afdccf3ff7a8dfaa084b07c1fb417bbe2abcfaccebf745acfd5e75351095a5394a"><div class="ttname"><a href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2abcfaccebf745acfd5e75351095a5394a">llvm::ColorMode::Disable</a></div><div class="ttdeci">@ Disable</div><div class="ttdoc">Disable colors.</div></div>
<div class="ttc" id="aSourceMgr_8cpp_html_a9d20e2079dcd9a868d4b3af67510647b"><div class="ttname"><a href="SourceMgr_8cpp.html#a9d20e2079dcd9a868d4b3af67510647b">printSourceLine</a></div><div class="ttdeci">static void printSourceLine(raw_ostream &amp;S, StringRef LineContents)</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00458">SourceMgr.cpp:458</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a69d9843621ff4677c0b9087277dc4bd0"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#a69d9843621ff4677c0b9087277dc4bd0">llvm::MemoryBuffer::getBuffer</a></div><div class="ttdeci">StringRef getBuffer() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00070">MemoryBuffer.h:70</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ae3e84a62e4ae19e7766bde30ee72c040"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ae3e84a62e4ae19e7766bde30ee72c040">c</a></div><div class="ttdeci">the resulting code requires compare and branches when and if the revised code is with conditional branches instead of More there is a byte word extend before each where there should be only and the condition codes are not remembered when the same two values are compared twice More LSR enhancements i8 and i32 load store addressing modes are identical int int c</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00418">README.txt:418</a></div></div>
<div class="ttc" id="aSupport_2SourceMgr_8h_html"><div class="ttname"><a href="Support_2SourceMgr_8h.html">SourceMgr.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallString_html"><div class="ttname"><a href="classllvm_1_1SmallString.html">llvm::SmallString&lt; 64 &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5d4c961b9b6f1da17df74b4496ecb30e"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5d4c961b9b6f1da17df74b4496ecb30e">llvm::StringRef::slice</a></div><div class="ttdeci">StringRef slice(size_t Start, size_t End) const</div><div class="ttdoc">Return a reference to the substring from [Start, End).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00672">StringRef.h:672</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a5b4ee23fc51562163af02001998eaef1"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a5b4ee23fc51562163af02001998eaef1">llvm::SourceMgr::getMemoryBuffer</a></div><div class="ttdeci">const MemoryBuffer * getMemoryBuffer(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00125">SourceMgr.h:125</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a2037f11968aa30bfda0b4de9f335624d"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#a2037f11968aa30bfda0b4de9f335624d">llvm::MemoryBuffer::getBufferIdentifier</a></div><div class="ttdeci">virtual StringRef getBufferIdentifier() const</div><div class="ttdoc">Return an identifier for this buffer, typically the filename it was read from.</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00076">MemoryBuffer.h:76</a></div></div>
<div class="ttc" id="aSourceMgr_8cpp_html_a646e0a501c1d33d6d67a67f89cec37e1"><div class="ttname"><a href="SourceMgr_8cpp.html#a646e0a501c1d33d6d67a67f89cec37e1">isNonASCII</a></div><div class="ttdeci">static bool isNonASCII(char c)</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00482">SourceMgr.cpp:482</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a0c8517e1b412dcd4f30cdce1c9541cc9"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a0c8517e1b412dcd4f30cdce1c9541cc9">llvm::SourceMgr::OpenIncludeFile</a></div><div class="ttdeci">ErrorOr&lt; std::unique_ptr&lt; MemoryBuffer &gt; &gt; OpenIncludeFile(const std::string &amp;Filename, std::string &amp;IncludedFile)</div><div class="ttdoc">Search for a file with the specified name in the current directory or in one of the IncludeDirs,...</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00053">SourceMgr.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_a74cdbd1e4f731e7d7cd83461b8b1de0b"><div class="ttname"><a href="namespacellvm.html#a74cdbd1e4f731e7d7cd83461b8b1de0b">llvm::sort</a></div><div class="ttdeci">void sort(IteratorTy Start, IteratorTy End)</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01683">STLExtras.h:1683</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html_a237ad6eae22f6b2746a542c02d309a5b"><div class="ttname"><a href="classllvm_1_1WithColor.html#a237ad6eae22f6b2746a542c02d309a5b">llvm::WithColor::warning</a></div><div class="ttdeci">static raw_ostream &amp; warning()</div><div class="ttdoc">Convenience method for printing &quot;warning: &quot; to stderr.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8cpp_source.html#l00085">WithColor.cpp:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMDiagnostic_html_ae816f6ae1b7e57364e1b57d87c6a36e8"><div class="ttname"><a href="classllvm_1_1SMDiagnostic.html#ae816f6ae1b7e57364e1b57d87c6a36e8">llvm::SMDiagnostic::print</a></div><div class="ttdeci">void print(const char *ProgName, raw_ostream &amp;S, bool ShowColors=true, bool ShowKindLabel=true) const</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00484">SourceMgr.cpp:484</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMLoc_html_a1f2a0fa0dfc38a500504421b1ff8d2f0"><div class="ttname"><a href="classllvm_1_1SMLoc.html#a1f2a0fa0dfc38a500504421b1ff8d2f0">llvm::SMLoc::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00029">SMLoc.h:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a5fb499d84f3af1286e8d508a760aa396"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a5fb499d84f3af1286e8d508a760aa396">llvm::SourceMgr::PrintMessage</a></div><div class="ttdeci">void PrintMessage(raw_ostream &amp;OS, SMLoc Loc, DiagKind Kind, const Twine &amp;Msg, ArrayRef&lt; SMRange &gt; Ranges={}, ArrayRef&lt; SMFixIt &gt; FixIts={}, bool ShowColors=true) const</div><div class="ttdoc">Emit a message about the specified location with the specified string.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00352">SourceMgr.cpp:352</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a346262ff27e71aff626fe6548ef8a777a6bcc8ac9374461ed0599334db63365d0"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777a6bcc8ac9374461ed0599334db63365d0">llvm::SourceMgr::DK_Warning</a></div><div class="ttdeci">@ DK_Warning</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00035">SourceMgr.h:35</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_ad3a99906764c35b2694ae90fa57744a5"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#ad3a99906764c35b2694ae90fa57744a5">move</a></div><div class="ttdeci">compiles ldr LCPI1_0 ldr ldr mov lsr tst moveq r1 ldr LCPI1_1 and r0 bx lr It would be better to do something like to fold the shift into the conditional move</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00546">README.txt:546</a></div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aErrorOr_8h_html"><div class="ttname"><a href="ErrorOr_8h.html">ErrorOr.h</a></div></div>
<div class="ttc" id="aSourceMgr_8cpp_html_a987811f4399e448a9e1223ee373c1e00"><div class="ttname"><a href="SourceMgr_8cpp.html#a987811f4399e448a9e1223ee373c1e00">buildFixItLine</a></div><div class="ttdeci">static void buildFixItLine(std::string &amp;CaretLine, std::string &amp;FixItLine, ArrayRef&lt; SMFixIt &gt; FixIts, ArrayRef&lt; char &gt; SourceLine)</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00389">SourceMgr.cpp:389</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="anamespacellvm_html_abfc9c7ecf70f66901e439f7c04ef3dbb"><div class="ttname"><a href="namespacellvm.html#abfc9c7ecf70f66901e439f7c04ef3dbb">llvm::move</a></div><div class="ttdeci">OutputIt move(R &amp;&amp;Range, OutputIt Out)</div><div class="ttdoc">Provide wrappers to std::move which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01862">STLExtras.h:1862</a></div></div>
<div class="ttc" id="aTargetLibraryInfo_8cpp_html_aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053"><div class="ttname"><a href="TargetLibraryInfo_8cpp.html#aca185e6d0e9f423dbb24440206454872a11dbf501abf829b3ab7049c2d3a8a053">Ptr</a></div><div class="ttdeci">@ Ptr</div><div class="ttdef"><b>Definition:</b> <a href="TargetLibraryInfo_8cpp_source.html#l00062">TargetLibraryInfo.cpp:62</a></div></div>
<div class="ttc" id="aSIWholeQuadMode_8cpp_html_a0c198437833c48138f49e3589bd08773"><div class="ttname"><a href="SIWholeQuadMode_8cpp.html#a0c198437833c48138f49e3589bd08773">Mode</a></div><div class="ttdeci">SI Whole Quad Mode</div><div class="ttdef"><b>Definition:</b> <a href="SIWholeQuadMode_8cpp_source.html#l00262">SIWholeQuadMode.cpp:262</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a757ccf4ae54f435c3828c704ca65798e"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a757ccf4ae54f435c3828c704ca65798e">llvm::SourceMgr::FindBufferContainingLoc</a></div><div class="ttdeci">unsigned FindBufferContainingLoc(SMLoc Loc) const</div><div class="ttdoc">Return the ID of the buffer containing the specified location.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00073">SourceMgr.cpp:73</a></div></div>
<div class="ttc" id="anamespacellvm_html_a61d13d6824ec46c31260a4fd0997eda0"><div class="ttname"><a href="namespacellvm.html#a61d13d6824ec46c31260a4fd0997eda0">llvm::any_of</a></div><div class="ttdeci">bool any_of(R &amp;&amp;range, UnaryPredicate P)</div><div class="ttdoc">Provide wrappers to std::any_of which take ranges instead of having to pass begin/end explicitly.</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01742">STLExtras.h:1742</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html"><div class="ttname"><a href="classllvm_1_1SourceMgr.html">llvm::SourceMgr</a></div><div class="ttdoc">This owns the files read by a parser, handles include stacks, and handles diagnostic wrangling.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00031">SourceMgr.h:31</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aSourceMgr_8cpp_html_a34e0396a4cc9f3450ef389281ea7d5f3"><div class="ttname"><a href="SourceMgr_8cpp.html#a34e0396a4cc9f3450ef389281ea7d5f3">TabStop</a></div><div class="ttdeci">static const size_t TabStop</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00039">SourceMgr.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a7a7c222449f3208a532168c90bfb654d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a7a7c222449f3208a532168c90bfb654d">llvm::StringRef::find_last_of</a></div><div class="ttdeci">size_t find_last_of(char C, size_t From=npos) const</div><div class="ttdoc">Find the last character in the string that is C, or npos if not found.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00399">StringRef.h:399</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="anamespacellvm_html_afdccf3ff7a8dfaa084b07c1fb417bbe2"><div class="ttname"><a href="namespacellvm.html#afdccf3ff7a8dfaa084b07c1fb417bbe2">llvm::ColorMode</a></div><div class="ttdeci">ColorMode</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8h_source.html#l00039">WithColor.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1SendMsg_html_ad7fab8522e49be1b20c4db4fc431bd3c"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1SendMsg.html#ad7fab8522e49be1b20c4db4fc431bd3c">llvm::AMDGPU::SendMsg::Msg</a></div><div class="ttdeci">const CustomOperand&lt; const MCSubtargetInfo &amp; &gt; Msg[]</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUAsmUtils_8cpp_source.html#l00039">AMDGPUAsmUtils.cpp:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a5db9240c74644c67759dd0f901fc3c7d"><div class="ttname"><a href="classllvm_1_1StringRef.html#a5db9240c74644c67759dd0f901fc3c7d">llvm::StringRef::size</a></div><div class="ttdeci">constexpr size_t size() const</div><div class="ttdoc">size - Get the string size.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00137">StringRef.h:137</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a346262ff27e71aff626fe6548ef8a777"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777">llvm::SourceMgr::DiagKind</a></div><div class="ttdeci">DiagKind</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00033">SourceMgr.h:33</a></div></div>
<div class="ttc" id="aWithColor_8h_html"><div class="ttname"><a href="WithColor_8h.html">WithColor.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Twine_html"><div class="ttname"><a href="classllvm_1_1Twine.html">llvm::Twine</a></div><div class="ttdoc">Twine - A lightweight data structure for efficiently representing the concatenation of temporary valu...</div><div class="ttdef"><b>Definition:</b> <a href="Twine_8h_source.html#l00081">Twine.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemoryBuffer_html_a4bdf8690e1d80fc2944ecb5da6b9f509"><div class="ttname"><a href="classllvm_1_1MemoryBuffer.html#a4bdf8690e1d80fc2944ecb5da6b9f509">llvm::MemoryBuffer::getBufferStart</a></div><div class="ttdeci">const char * getBufferStart() const</div><div class="ttdef"><b>Definition:</b> <a href="MemoryBuffer_8h_source.html#l00066">MemoryBuffer.h:66</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00851">BitVector.h:851</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMLoc_html_a054ef51d986c4b9a9493c8405c6d3ecc"><div class="ttname"><a href="classllvm_1_1SMLoc.html#a054ef51d986c4b9a9493c8405c6d3ecc">llvm::SMLoc::getPointer</a></div><div class="ttdeci">const char * getPointer() const</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00034">SMLoc.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a346262ff27e71aff626fe6548ef8a777adaf658d40b0b4eb15c0350864c87c2b8"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a346262ff27e71aff626fe6548ef8a777adaf658d40b0b4eb15c0350864c87c2b8">llvm::SourceMgr::DK_Error</a></div><div class="ttdeci">@ DK_Error</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00034">SourceMgr.h:34</a></div></div>
<div class="ttc" id="aLocale_8h_html"><div class="ttname"><a href="Locale_8h.html">Locale.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html_ad55e55b3692fe8ec3e8b724d3d5bade0"><div class="ttname"><a href="classllvm_1_1raw__ostream.html#ad55e55b3692fe8ec3e8b724d3d5bade0">llvm::raw_ostream::SAVEDCOLOR</a></div><div class="ttdeci">static constexpr Colors SAVEDCOLOR</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00117">raw_ostream.h:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_afe70aa1105a855036bdeb6426cac27db"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#afe70aa1105a855036bdeb6426cac27db">llvm::SourceMgr::AddNewSourceBuffer</a></div><div class="ttdeci">unsigned AddNewSourceBuffer(std::unique_ptr&lt; MemoryBuffer &gt; F, SMLoc IncludeLoc)</div><div class="ttdoc">Add a new source buffer to this source manager.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00144">SourceMgr.h:144</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_acdf08ebc749ce91001ea768a16da0605"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#acdf08ebc749ce91001ea768a16da0605">llvm::SourceMgr::GetMessage</a></div><div class="ttdeci">SMDiagnostic GetMessage(SMLoc Loc, DiagKind Kind, const Twine &amp;Msg, ArrayRef&lt; SMRange &gt; Ranges={}, ArrayRef&lt; SMFixIt &gt; FixIts={}) const</div><div class="ttdoc">Return an SMDiagnostic at the specified location with the specified string.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00274">SourceMgr.cpp:274</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_ade78f93269ac7fa03b8ed1806262443d"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#ade78f93269ac7fa03b8ed1806262443d">llvm::SourceMgr::AddIncludeFile</a></div><div class="ttdeci">unsigned AddIncludeFile(const std::string &amp;Filename, SMLoc IncludeLoc, std::string &amp;IncludedFile)</div><div class="ttdoc">Search for a file with the specified name in the current directory or in one of the IncludeDirs.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00041">SourceMgr.cpp:41</a></div></div>
<div class="ttc" id="aELFYAML_8cpp_html_a941c34da9850676ce3380813c636cff2"><div class="ttname"><a href="ELFYAML_8cpp.html#a941c34da9850676ce3380813c636cff2">Other</a></div><div class="ttdeci">std::optional&lt; std::vector&lt; StOtherPiece &gt; &gt; Other</div><div class="ttdef"><b>Definition:</b> <a href="ELFYAML_8cpp_source.html#l01260">ELFYAML.cpp:1260</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMRange_html"><div class="ttname"><a href="classllvm_1_1SMRange.html">llvm::SMRange</a></div><div class="ttdoc">Represents a range in source code.</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00048">SMLoc.h:48</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1ErrorOr_html"><div class="ttname"><a href="classllvm_1_1ErrorOr.html">llvm::ErrorOr</a></div><div class="ttdoc">Represents either an error or a value T.</div><div class="ttdef"><b>Definition:</b> <a href="ErrorOr_8h_source.html#l00056">ErrorOr.h:56</a></div></div>
<div class="ttc" id="anamespacellvm_html_a13c1b5a253da5da49ce33d03dc1efc07"><div class="ttname"><a href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">llvm::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="ScopedPrinter_8h_source.html#l00085">ScopedPrinter.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMLoc_html_a16ebb09610e55f63cfc55f28e3a56ad5"><div class="ttname"><a href="classllvm_1_1SMLoc.html#a16ebb09610e55f63cfc55f28e3a56ad5">llvm::SMLoc::getFromPointer</a></div><div class="ttdeci">static SMLoc getFromPointer(const char *Ptr)</div><div class="ttdef"><b>Definition:</b> <a href="SMLoc_8h_source.html#l00036">SMLoc.h:36</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab9c6b351507d3c0730f4290919d43a12"><div class="ttname"><a href="namespacellvm.html#ab9c6b351507d3c0730f4290919d43a12">llvm::ArrayRef</a></div><div class="ttdeci">ArrayRef(const T &amp;OneElt) -&gt; ArrayRef&lt; T &gt;</div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_aab312a8386488873bac2eddfc67c22be"><div class="ttname"><a href="classllvm_1_1StringRef.html#aab312a8386488873bac2eddfc67c22be">llvm::StringRef::find</a></div><div class="ttdeci">size_t find(char C, size_t From=0) const</div><div class="ttdoc">Search for the first character C in the string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00295">StringRef.h:295</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_a494d75fe0bc43f9c6b8821f983205649"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#a494d75fe0bc43f9c6b8821f983205649">llvm::SourceMgr::getLineAndColumn</a></div><div class="ttdeci">std::pair&lt; unsigned, unsigned &gt; getLineAndColumn(SMLoc Loc, unsigned BufferID=0) const</div><div class="ttdoc">Find the line and column number for the specified location in the specified file.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00192">SourceMgr.cpp:192</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_aff3380c7e96d28b108876d8e7b66e341"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#aff3380c7e96d28b108876d8e7b66e341">llvm::SourceMgr::FindLocForLineAndColumn</a></div><div class="ttdeci">SMLoc FindLocForLineAndColumn(unsigned BufferID, unsigned LineNo, unsigned ColNo)</div><div class="ttdoc">Given a line and column number in a mapped buffer, turn it into an SMLoc.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00234">SourceMgr.cpp:234</a></div></div>
<div class="ttc" id="aclassllvm_1_1WithColor_html_ab5313a760f20fc53b44cc8dbabfd1ae1"><div class="ttname"><a href="classllvm_1_1WithColor.html#ab5313a760f20fc53b44cc8dbabfd1ae1">llvm::WithColor::note</a></div><div class="ttdeci">static raw_ostream &amp; note()</div><div class="ttdoc">Convenience method for printing &quot;note: &quot; to stderr.</div><div class="ttdef"><b>Definition:</b> <a href="WithColor_8cpp_source.html#l00087">WithColor.cpp:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1SMDiagnostic_html_a7f7639f70813f4388a60639d770ae0de"><div class="ttname"><a href="classllvm_1_1SMDiagnostic.html#a7f7639f70813f4388a60639d770ae0de">llvm::SMDiagnostic::getLoc</a></div><div class="ttdeci">SMLoc getLoc() const</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00306">SourceMgr.h:306</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1SI_1_1KernelInputOffsets_html_a58b4eae4b0a45d478c7c0f3959b04612"><div class="ttname"><a href="namespacellvm_1_1SI_1_1KernelInputOffsets.html#a58b4eae4b0a45d478c7c0f3959b04612">llvm::SI::KernelInputOffsets::Offsets</a></div><div class="ttdeci">Offsets</div><div class="ttdoc">Offsets in bytes from the start of the input buffer.</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8h_source.html#l01335">SIInstrInfo.h:1335</a></div></div>
<div class="ttc" id="aSourceMgr_8cpp_html_ab026117aae4a5d5d7b9b8ee72254c3ef"><div class="ttname"><a href="SourceMgr_8cpp.html#ab026117aae4a5d5d7b9b8ee72254c3ef">GetOrCreateOffsetCache</a></div><div class="ttdeci">static std::vector&lt; T &gt; &amp; GetOrCreateOffsetCache(void *&amp;OffsetCache, MemoryBuffer *Buffer)</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00084">SourceMgr.cpp:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a3fb2867a1e9fa36e135d9ee4dffb0167"><div class="ttname"><a href="classllvm_1_1StringRef.html#a3fb2867a1e9fa36e135d9ee4dffb0167">llvm::StringRef::drop_front</a></div><div class="ttdeci">StringRef drop_front(size_t N=1) const</div><div class="ttdoc">Return a StringRef equal to 'this' but with the first N elements dropped.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00597">StringRef.h:597</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_ac251cce0cc420dacaacff7b3eb9fd435"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#ac251cce0cc420dacaacff7b3eb9fd435">llvm::SourceMgr::getBufferInfo</a></div><div class="ttdeci">const SrcBuffer &amp; getBufferInfo(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00120">SourceMgr.h:120</a></div></div>
<div class="ttc" id="aItaniumDemangle_8h_html_ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="ItaniumDemangle_8h.html#ae2b0d0345572d6718e219aa76d1d54edab45cffe084dd3d20d928bee85e7b0f21">SpecialSubKind::string</a></div><div class="ttdeci">@ string</div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_af8ebf8281d0ee499c10e259b917e4b1a"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#af8ebf8281d0ee499c10e259b917e4b1a">llvm::SourceMgr::getFormattedLocationNoOffset</a></div><div class="ttdeci">std::string getFormattedLocationNoOffset(SMLoc Loc, bool IncludePath=false) const</div><div class="ttdoc">Get a string with the SMLoc filename and line number formatted in the standard style.</div><div class="ttdef"><b>Definition:</b> <a href="SourceMgr_8cpp_source.html#l00216">SourceMgr.cpp:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1SourceMgr_html_af84919a22333087fc39465b1826a8208"><div class="ttname"><a href="classllvm_1_1SourceMgr.html#af84919a22333087fc39465b1826a8208">llvm::SourceMgr::FindLineNumber</a></div><div class="ttdeci">unsigned FindLineNumber(SMLoc Loc, unsigned BufferID=0) const</div><div class="ttdoc">Find the line number for the specified location in the specified file.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2SourceMgr_8h_source.html#l00196">SourceMgr.h:196</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:07:43 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
