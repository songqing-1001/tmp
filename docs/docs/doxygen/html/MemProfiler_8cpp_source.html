<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Transforms/Instrumentation/MemProfiler.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a72932e0778af28115095468f6286ff8.html">Transforms</a></li><li class="navelem"><a class="el" href="dir_f844fca3b2393802daa002d01dc8623e.html">Instrumentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MemProfiler.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MemProfiler_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- MemProfiler.cpp - memory allocation and access profiler ------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This file is a part of MemProfiler. Memory accesses are instrumented</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// to increment the access count held in a shadow memory location, or</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// alternatively to call into the runtime. Memory intrinsic calls (memmove,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// memcpy, memset) are changed to call the memory profiling runtime version</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// instead.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MemProfiler_8h.html">llvm/Transforms/Instrumentation/MemProfiler.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statistic_8h.html">llvm/ADT/Statistic.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StringRef_8h.html">llvm/ADT/StringRef.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ValueTracking_8h.html">llvm/Analysis/ValueTracking.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Constant_8h.html">llvm/IR/Constant.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DataLayout_8h.html">llvm/IR/DataLayout.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Function_8h.html">llvm/IR/Function.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalValue_8h.html">llvm/IR/GlobalValue.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IRBuilder_8h.html">llvm/IR/IRBuilder.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IntrinsicInst_8h.html">llvm/IR/IntrinsicInst.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InitializePasses_8h.html">llvm/InitializePasses.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="InstrProf_8h.html">llvm/ProfileData/InstrProf.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Triple_8h.html">llvm/TargetParser/Triple.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ModuleUtils_8h.html">llvm/Transforms/Utils/ModuleUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   43</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;memprof&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a4eb4495b700219216c8a74a535c0f2cf">   45</a></span>&#160;constexpr <span class="keywordtype">int</span> <a class="code" href="MemProfiler_8cpp.html#a4eb4495b700219216c8a74a535c0f2cf">LLVM_MEM_PROFILER_VERSION</a> = 1;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Size of memory mapped to a single shadow location.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a5e865ee84b1de713cc2a3b17e996cb82">   48</a></span>&#160;constexpr <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MemProfiler_8cpp.html#a5e865ee84b1de713cc2a3b17e996cb82">DefaultShadowGranularity</a> = 64;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">// Scale from granularity down to shadow size.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a78e9dba4313161aca58fda8846276346">   51</a></span>&#160;constexpr <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MemProfiler_8cpp.html#a78e9dba4313161aca58fda8846276346">DefaultShadowScale</a> = 3;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a8f5515f5bed91743d73975f54ba5ce03">   53</a></span>&#160;constexpr <span class="keywordtype">char</span> <a class="code" href="MemProfiler_8cpp.html#a8f5515f5bed91743d73975f54ba5ce03">MemProfModuleCtorName</a>[] = <span class="stringliteral">&quot;memprof.module_ctor&quot;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a4e301a0cc0ff66a8f01da8ad032f0e24">   54</a></span>&#160;constexpr <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MemProfiler_8cpp.html#a4e301a0cc0ff66a8f01da8ad032f0e24">MemProfCtorAndDtorPriority</a> = 1;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// On Emscripten, the system needs more than one priorities for constructors.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a22175c0b31389adf608bc1b1ed0b357b">   56</a></span>&#160;constexpr <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="MemProfiler_8cpp.html#a22175c0b31389adf608bc1b1ed0b357b">MemProfEmscriptenCtorAndDtorPriority</a> = 50;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a55bb7390f2ac340eeb9f64a749ceea49">   57</a></span>&#160;constexpr <span class="keywordtype">char</span> <a class="code" href="MemProfiler_8cpp.html#a55bb7390f2ac340eeb9f64a749ceea49">MemProfInitName</a>[] = <span class="stringliteral">&quot;__memprof_init&quot;</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a08573aee06bc659699346285506370cc">   58</a></span>&#160;constexpr <span class="keywordtype">char</span> <a class="code" href="MemProfiler_8cpp.html#a08573aee06bc659699346285506370cc">MemProfVersionCheckNamePrefix</a>[] =</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="stringliteral">&quot;__memprof_version_mismatch_check_v&quot;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a32ac84ebf758ebec696f271d0a277ab1">   61</a></span>&#160;constexpr <span class="keywordtype">char</span> <a class="code" href="MemProfiler_8cpp.html#a32ac84ebf758ebec696f271d0a277ab1">MemProfShadowMemoryDynamicAddress</a>[] =</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="stringliteral">&quot;__memprof_shadow_memory_dynamic_address&quot;</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#a5874875370a635d14aa03c57416035e2">   64</a></span>&#160;constexpr <span class="keywordtype">char</span> <a class="code" href="MemProfiler_8cpp.html#a5874875370a635d14aa03c57416035e2">MemProfFilenameVar</a>[] = <span class="stringliteral">&quot;__memprof_profile_filename&quot;</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// Command-line flags.</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MemProfiler_8cpp.html#ac92adc34f39bfb0757f9876e000e9052">ClInsertVersionCheck</a>(</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="stringliteral">&quot;memprof-guard-against-version-mismatch&quot;</span>,</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Guard against compiler/runtime version mismatch.&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// This flag may need to be replaced with -f[no-]memprof-reads.</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MemProfiler_8cpp.html#ae331464836f4bca864dbe3ccd68e80ba">ClInstrumentReads</a>(<span class="stringliteral">&quot;memprof-instrument-reads&quot;</span>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument read instructions&quot;</span>),</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                       <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="MemProfiler_8cpp.html#aaf8dab63dd4327e4eb91d8ee4009a2cd">ClInstrumentWrites</a>(<span class="stringliteral">&quot;memprof-instrument-writes&quot;</span>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                       <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument write instructions&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                       <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a82716160fd8bfea23fdf5a22f1511c72">ClInstrumentAtomics</a>(</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="stringliteral">&quot;memprof-instrument-atomics&quot;</span>,</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;instrument atomic instructions (rmw, cmpxchg)&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>));</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MemProfiler_8cpp.html#ab3e5b72b1d72ed191c18e9acfe24e4e8">ClUseCalls</a>(</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="stringliteral">&quot;memprof-use-callbacks&quot;</span>,</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Use callbacks instead of inline instrumentation sequences.&quot;</span>),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a>(<span class="stringliteral">&quot;memprof-memory-access-callback-prefix&quot;</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                 <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Prefix for memory access callbacks&quot;</span>),</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                 <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="stringliteral">&quot;__memprof_&quot;</span>));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">// These flags allow to change the shadow mapping.</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">// The shadow mapping looks like</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">//    Shadow = ((Mem &amp; mask) &gt;&gt; scale) + offset</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a898aec5cd32c49ee2d11e464ce83c82a">ClMappingScale</a>(<span class="stringliteral">&quot;memprof-mapping-scale&quot;</span>,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                   <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;scale of memprof shadow mapping&quot;</span>),</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                   <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="MemProfiler_8cpp.html#a78e9dba4313161aca58fda8846276346">DefaultShadowScale</a>));</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="MemProfiler_8cpp.html#a97adaa9832eab790cc3bda987fe97214">ClMappingGranularity</a>(<span class="stringliteral">&quot;memprof-mapping-granularity&quot;</span>,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                         <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;granularity of memprof shadow mapping&quot;</span>),</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                         <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<a class="code" href="MemProfiler_8cpp.html#a5e865ee84b1de713cc2a3b17e996cb82">DefaultShadowGranularity</a>));</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a75dab0cb5b686e662e0f89c5fa6363bf">ClStack</a>(<span class="stringliteral">&quot;memprof-instrument-stack&quot;</span>,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                             <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Instrument scalar stack variables&quot;</span>),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                             <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">false</span>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">// Debug flags.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a0ee65be0fa6a8fce162d866113cfdeb8">ClDebug</a>(<span class="stringliteral">&quot;memprof-debug&quot;</span>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;debug&quot;</span>), <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                            <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(0));</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;std::string&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a14ca1248f871640308bd43afa5a2d1c1">ClDebugFunc</a>(<span class="stringliteral">&quot;memprof-debug-func&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                                        <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Debug func&quot;</span>));</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MemProfiler_8cpp.html#acbe8aa0241704cad470f25ab2f595357">ClDebugMin</a>(<span class="stringliteral">&quot;memprof-debug-min&quot;</span>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Debug min inst&quot;</span>),</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                               <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;int&gt;</a> <a class="code" href="MemProfiler_8cpp.html#a2be2bf8e5988e8ce0a3ec40753fe79c2">ClDebugMax</a>(<span class="stringliteral">&quot;memprof-debug-max&quot;</span>, <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Debug max inst&quot;</span>),</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                               <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(-1));</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInstrumentedReads, <span class="stringliteral">&quot;Number of instrumented reads&quot;</span>);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumInstrumentedWrites, <span class="stringliteral">&quot;Number of instrumented writes&quot;</span>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSkippedStackReads, <span class="stringliteral">&quot;Number of non-instrumented stack reads&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<a class="code" href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">STATISTIC</a>(NumSkippedStackWrites, <span class="stringliteral">&quot;Number of non-instrumented stack writes&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">/// This struct defines the shadow mapping using the rule:</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">///   shadow = ((mem &amp; mask) &gt;&gt; Scale) ADD DynamicShadowOffset.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment"></span><span class="keyword">struct </span>ShadowMapping {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  ShadowMapping() {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    Scale = <a class="code" href="MemProfiler_8cpp.html#a898aec5cd32c49ee2d11e464ce83c82a">ClMappingScale</a>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    Granularity = <a class="code" href="MemProfiler_8cpp.html#a97adaa9832eab790cc3bda987fe97214">ClMappingGranularity</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = ~(Granularity - 1);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordtype">int</span> Scale;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordtype">int</span> Granularity;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>; <span class="comment">// Computed as ~(Granularity-1)</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;};</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword">static</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> getCtorAndDtorPriority(<a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;TargetTriple) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">return</span> TargetTriple.<a class="code" href="classllvm_1_1Triple.html#ac044f740fee04796ffe5ba17fdc3fa0c">isOSEmscripten</a>() ? <a class="code" href="MemProfiler_8cpp.html#a22175c0b31389adf608bc1b1ed0b357b">MemProfEmscriptenCtorAndDtorPriority</a></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                                       : <a class="code" href="MemProfiler_8cpp.html#a4e301a0cc0ff66a8f01da8ad032f0e24">MemProfCtorAndDtorPriority</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">struct </span>InterestingMemoryAccess {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">bool</span> IsWrite;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *AccessTy;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *MaybeMask = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;};</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">/// Instrument the code in module to profile memory accesses.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"></span><span class="keyword">class </span>MemProfiler {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  MemProfiler(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> = &amp;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext());</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    LongSize = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getDataLayout().getPointerSizeInBits();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    IntptrTy = <a class="code" href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">Type::getIntNTy</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>, LongSize);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">  /// If it is an interesting memory access, populate information</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">  /// about the access and return a InterestingMemoryAccess struct.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">  /// Otherwise return std::nullopt.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"></span>  std::optional&lt;InterestingMemoryAccess&gt;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  isInterestingMemoryAccess(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">void</span> instrumentMop(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                     InterestingMemoryAccess &amp;Access);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordtype">void</span> instrumentAddress(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OrigIns, <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                         <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a>, <span class="keywordtype">bool</span> IsWrite);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="AddressSanitizer_8cpp.html#ae85c91489663e66b441fce03b0763a35">instrumentMaskedLoadOrStore</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                   <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, <a class="code" href="classllvm_1_1Type.html">Type</a> *AccessTy,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                   <span class="keywordtype">bool</span> IsWrite);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">void</span> instrumentMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *memToShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">bool</span> instrumentFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordtype">bool</span> maybeInsertMemProfInitAtFunctionEntry(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordtype">bool</span> insertDynamicShadowAtFunctionEntry(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordtype">void</span> initializeCallbacks(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="classllvm_1_1LLVMContext.html">LLVMContext</a> *<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">int</span> LongSize;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *IntptrTy;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  ShadowMapping Mapping;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// These arrays is indexed by AccessIsWrite</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> MemProfMemoryAccessCallback[2];</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> MemProfMemoryAccessCallbackSized[2];</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> MemProfMemmove, MemProfMemcpy, MemProfMemset;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *DynamicShadowOffset = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;};</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">class </span>ModuleMemProfiler {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  ModuleMemProfiler(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) { TargetTriple = <a class="code" href="classllvm_1_1Triple.html">Triple</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple()); }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordtype">bool</span> instrumentModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> TargetTriple;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  ShadowMapping Mapping;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *MemProfCtorFunction = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;};</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;} <span class="comment">// end anonymous namespace</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<a class="code" href="classllvm_1_1MemProfilerPass.html#a93e296a07858458f6bd1a64c3bee364e">MemProfilerPass::MemProfilerPass</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classllvm_1_1MemProfilerPass.html#a9da61a3f33d95e94a03f2b2431100492">  223</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1MemProfilerPass.html#a9da61a3f33d95e94a03f2b2431100492">MemProfilerPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                       <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;Function&gt;</a> &amp;AM) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  MemProfiler Profiler(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span> (Profiler.instrumentFunction(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<a class="code" href="classllvm_1_1ModuleMemProfilerPass.html#a7aa3dc81bbdc76cddc65faedf137c16c">ModuleMemProfilerPass::ModuleMemProfilerPass</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classllvm_1_1ModuleMemProfilerPass.html#a1f56cd341951380da3dc0a019a5b4a3e">  234</a></span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a> <a class="code" href="classllvm_1_1ModuleMemProfilerPass.html#a1f56cd341951380da3dc0a019a5b4a3e">ModuleMemProfilerPass::run</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                                             <a class="code" href="classllvm_1_1AnalysisManager.html">AnalysisManager&lt;Module&gt;</a> &amp;AM) {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  ModuleMemProfiler Profiler(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (Profiler.instrumentModule(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>();</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;}</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<a class="code" href="classllvm_1_1Value.html">Value</a> *MemProfiler::memToShadow(<a class="code" href="classllvm_1_1Value.html">Value</a> *Shadow, <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> &amp;IRB) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="comment">// (Shadow &amp; mask) &gt;&gt; scale</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  Shadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">CreateAnd</a>(Shadow, Mapping.Mask);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  Shadow = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">CreateLShr</a>(Shadow, Mapping.Scale);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// (Shadow &gt;&gt; scale) | offset</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DynamicShadowOffset);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordflow">return</span> IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(Shadow, DynamicShadowOffset);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; </div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">// Instrument memset/memmove/memcpy</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="keywordtype">void</span> MemProfiler::instrumentMemIntrinsic(<a class="code" href="classllvm_1_1MemIntrinsic.html">MemIntrinsic</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordflow">if</span> (isa&lt;MemTransferInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        isa&lt;MemMoveInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) ? MemProfMemmove : MemProfMemcpy,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2), IntptrTy, <span class="keyword">false</span>)});</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isa&lt;MemSetInst&gt;(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        MemProfMemset,</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        {IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(0), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>()),</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(1), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), <span class="keyword">false</span>),</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;         IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">CreateIntCast</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(2), IntptrTy, <span class="keyword">false</span>)});</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;}</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;std::optional&lt;InterestingMemoryAccess&gt;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;MemProfiler::isInterestingMemoryAccess(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// Do not instrument the load fetching the dynamic shadow address.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="keywordflow">if</span> (DynamicShadowOffset == <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  InterestingMemoryAccess Access;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LI = dyn_cast&lt;LoadInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#ae331464836f4bca864dbe3ccd68e80ba">ClInstrumentReads</a>)</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    Access.IsWrite = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    Access.AccessTy = LI-&gt;getType();</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    Access.Addr = LI-&gt;getPointerOperand();</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1StoreInst.html">StoreInst</a> *<a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a> = dyn_cast&lt;StoreInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#aaf8dab63dd4327e4eb91d8ee4009a2cd">ClInstrumentWrites</a>)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    Access.IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    Access.AccessTy = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getValueOperand()-&gt;getType();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    Access.Addr = <a class="code" href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a>-&gt;getPointerOperand();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicRMWInst.html">AtomicRMWInst</a> *RMW = dyn_cast&lt;AtomicRMWInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#a82716160fd8bfea23fdf5a22f1511c72">ClInstrumentAtomics</a>)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    Access.IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    Access.AccessTy = RMW-&gt;getValOperand()-&gt;getType();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    Access.Addr = RMW-&gt;getPointerOperand();</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1AtomicCmpXchgInst.html">AtomicCmpXchgInst</a> *XCHG = dyn_cast&lt;AtomicCmpXchgInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#a82716160fd8bfea23fdf5a22f1511c72">ClInstrumentAtomics</a>)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    Access.IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    Access.AccessTy = XCHG-&gt;getCompareOperand()-&gt;getType();</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    Access.Addr = XCHG-&gt;getPointerOperand();</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)) {</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> = CI-&gt;getCalledFunction();</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &amp;&amp; (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == Intrinsic::masked_load ||</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;              <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == Intrinsic::masked_store)) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordtype">unsigned</span> OpOffset = 0;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>-&gt;getIntrinsicID() == Intrinsic::masked_store) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#aaf8dab63dd4327e4eb91d8ee4009a2cd">ClInstrumentWrites</a>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;          <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="comment">// Masked store has an initial operand for the value.</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        OpOffset = 1;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        Access.AccessTy = CI-&gt;getArgOperand(0)-&gt;getType();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        Access.IsWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#ae331464836f4bca864dbe3ccd68e80ba">ClInstrumentReads</a>)</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        Access.AccessTy = CI-&gt;getType();</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        Access.IsWrite = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">BasePtr</a> = CI-&gt;getOperand(0 + OpOffset);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      Access.MaybeMask = CI-&gt;getOperand(2 + OpOffset);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      Access.Addr = <a class="code" href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">BasePtr</a>;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">if</span> (!Access.Addr)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="comment">// Do not instrument accesses from different address spaces; we cannot deal</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="comment">// with them.</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *PtrTy = cast&lt;PointerType&gt;(Access.Addr-&gt;getType()-&gt;getScalarType());</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;  <span class="keywordflow">if</span> (PtrTy-&gt;<a class="code" href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">getPointerAddressSpace</a>() != 0)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <span class="comment">// Ignore swifterror addresses.</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="comment">// swifterror memory addresses are mem2reg promoted by instruction</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="comment">// selection. As such they cannot have regular uses like an instrumentation</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// function and it makes no sense to track them as memory.</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  <span class="keywordflow">if</span> (Access.Addr-&gt;isSwiftError())</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// Peel off GEPs and BitCasts.</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a> = Access.Addr-&gt;stripInBoundsOffsets();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV = dyn_cast&lt;GlobalVariable&gt;(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>)) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="comment">// Do not instrument PGO counter updates.</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;hasSection()) {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="structllvm_1_1SectionName.html">SectionName</a> = GV-&gt;getSection();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <span class="comment">// Check if the global is in the PGO counters section.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <span class="keyword">auto</span> OF = <a class="code" href="classllvm_1_1Triple.html">Triple</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getModule()-&gt;getTargetTriple()).<a class="code" href="classllvm_1_1Triple.html#a2e265a0d332c3e2db0acf0c7afd4175d">getObjectFormat</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="structllvm_1_1SectionName.html">SectionName</a>.endswith(</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;              <a class="code" href="namespacellvm.html#a50e3b943e26ec60c2aa24a7ff43a2d17">getInstrProfSectionName</a>(IPSK_cnts, OF, <span class="comment">/*AddSegmentInfo=*/</span><span class="keyword">false</span>)))</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">// Do not instrument accesses to LLVM internal variables.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;__llvm&quot;</span>))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;getModule()-&gt;getDataLayout();</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  Access.TypeSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSizeInBits(Access.AccessTy);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="keywordflow">return</span> Access;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;}</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="keywordtype">void</span> <a class="code" href="AddressSanitizer_8cpp.html#ae85c91489663e66b441fce03b0763a35">MemProfiler::instrumentMaskedLoadOrStore</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>,</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                              <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                              <a class="code" href="classllvm_1_1Type.html">Type</a> *AccessTy, <span class="keywordtype">bool</span> IsWrite) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keyword">auto</span> *VTy = cast&lt;FixedVectorType&gt;(AccessTy);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> ElemTypeSize = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>.getTypeStoreSizeInBits(VTy-&gt;getScalarType());</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <span class="keywordtype">unsigned</span> Num = VTy-&gt;getNumElements();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, 0);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0; Idx &lt; Num; ++Idx) {</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <a class="code" href="classllvm_1_1Value.html">Value</a> *InstrumentedAddress = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore = <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Vector = dyn_cast&lt;ConstantVector&gt;(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>)) {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;      <span class="comment">// dyn_cast as we might get UndefValue</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Masked = dyn_cast&lt;ConstantInt&gt;(<a class="code" href="README__P9_8txt.html#ae6881514a39f1bcf75ad62e5188700a4">Vector</a>-&gt;getOperand(Idx))) {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">if</span> (Masked-&gt;isZero())</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;          <span class="comment">// Mask is constant false, so no instrumentation needed.</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="comment">// If we have a true or undef value, fall through to instrumentAddress.</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// with InsertBefore == I</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;      }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <a class="code" href="classllvm_1_1Value.html">Value</a> *MaskElem = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a5c728ddd7890c015533b42cdd7307b0c">CreateExtractElement</a>(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>, Idx);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *ThenTerm = <a class="code" href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">SplitBlockAndInsertIfThen</a>(MaskElem, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      InsertBefore = ThenTerm;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(InsertBefore);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    InstrumentedAddress =</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">CreateGEP</a>(VTy, <a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, {<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a>, <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(IntptrTy, Idx)});</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    instrumentAddress(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, InsertBefore, InstrumentedAddress, ElemTypeSize,</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                      IsWrite);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;}</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160; </div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="keywordtype">void</span> MemProfiler::instrumentMop(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>,</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                                InterestingMemoryAccess &amp;Access) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="comment">// Skip instrumentation of stack accesses unless requested.</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="MemProfiler_8cpp.html#a75dab0cb5b686e662e0f89c5fa6363bf">ClStack</a> &amp;&amp; isa&lt;AllocaInst&gt;(<a class="code" href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">getUnderlyingObject</a>(Access.Addr))) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">if</span> (Access.IsWrite)</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      ++NumSkippedStackWrites;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      ++NumSkippedStackReads;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordflow">if</span> (Access.IsWrite)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    NumInstrumentedWrites++;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    NumInstrumentedReads++;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">if</span> (Access.MaybeMask) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <a class="code" href="AddressSanitizer_8cpp.html#ae85c91489663e66b441fce03b0763a35">instrumentMaskedLoadOrStore</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>, Access.MaybeMask, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Access.Addr,</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                                Access.AccessTy, Access.IsWrite);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// Since the access counts will be accumulated across the entire allocation,</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">// we only update the shadow access count for the first location and thus</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="comment">// don&#39;t need to worry about alignment and type size.</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    instrumentAddress(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, Access.Addr, Access.TypeSize, Access.IsWrite);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;}</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="keywordtype">void</span> MemProfiler::instrumentAddress(<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *OrigIns,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                                    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *InsertBefore, <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>,</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1TypeSize.html">TypeSize</a>, <span class="keywordtype">bool</span> IsWrite) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(InsertBefore);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *AddrLong = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">CreatePointerCast</a>(<a class="code" href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a>, IntptrTy);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MemProfiler_8cpp.html#ab3e5b72b1d72ed191c18e9acfe24e4e8">ClUseCalls</a>) {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(MemProfMemoryAccessCallback[IsWrite], AddrLong);</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="comment">// Create an inline sequence to compute shadow location, and increment the</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="comment">// value by one.</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowTy = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <a class="code" href="classllvm_1_1Type.html">Type</a> *ShadowPtrTy = <a class="code" href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">PointerType::get</a>(ShadowTy, 0);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowPtr = memToShadow(AddrLong, IRB);</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowAddr = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">CreateIntToPtr</a>(ShadowPtr, ShadowPtrTy);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *ShadowValue = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(ShadowTy, ShadowAddr);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *Inc = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>), 1);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  ShadowValue = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">CreateAdd</a>(ShadowValue, Inc);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">CreateStore</a>(ShadowValue, ShadowAddr);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="comment">// Create the variable for the profile file name.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno"><a class="line" href="MemProfiler_8cpp.html#adced657ead8595f4da252cea6e2f3dd8">  452</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacellvm.html#abd35d43ef05edd633413fa4cfa802c0e">createProfileFileNameVar</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDString.html">MDString</a> *MemProfFilename =</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      dyn_cast_or_null&lt;MDString&gt;(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getModuleFlag(<span class="stringliteral">&quot;MemProfProfileFilename&quot;</span>));</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span> (!MemProfFilename)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!MemProfFilename-&gt;<a class="code" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">getString</a>().<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>() &amp;&amp;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;         <span class="stringliteral">&quot;Unexpected MemProfProfileFilename metadata with empty string&quot;</span>);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *ProfileNameConst = <a class="code" href="classllvm_1_1ConstantDataArray.html#a3edef3fa47c611d3d10606591213e57b">ConstantDataArray::getString</a>(</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getContext(), MemProfFilename-&gt;<a class="code" href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">getString</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *ProfileNameVar = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, ProfileNameConst-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), <span class="comment">/*isConstant=*/</span><span class="keyword">true</span>,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f">GlobalValue::WeakAnyLinkage</a>, ProfileNameConst, <a class="code" href="MemProfiler_8cpp.html#a5874875370a635d14aa03c57416035e2">MemProfFilenameVar</a>);</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="classllvm_1_1Triple.html">Triple</a> TT(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getTargetTriple());</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keywordflow">if</span> (TT.supportsCOMDAT()) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    ProfileNameVar-&gt;<a class="code" href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">setLinkage</a>(<a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalValue::ExternalLinkage</a>);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    ProfileNameVar-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a800a5183372ed37a74be5cddf5df325c">setComdat</a>(<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertComdat(<a class="code" href="MemProfiler_8cpp.html#a5874875370a635d14aa03c57416035e2">MemProfFilenameVar</a>));</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;<span class="keywordtype">bool</span> ModuleMemProfiler::instrumentModule(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  <span class="comment">// Create a module constructor.</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  std::string MemProfVersion = <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(<a class="code" href="MemProfiler_8cpp.html#a4eb4495b700219216c8a74a535c0f2cf">LLVM_MEM_PROFILER_VERSION</a>);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  std::string VersionCheckName =</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <a class="code" href="MemProfiler_8cpp.html#ac92adc34f39bfb0757f9876e000e9052">ClInsertVersionCheck</a> ? (<a class="code" href="MemProfiler_8cpp.html#a08573aee06bc659699346285506370cc">MemProfVersionCheckNamePrefix</a> + MemProfVersion)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                           : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  std::tie(MemProfCtorFunction, std::ignore) =</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <a class="code" href="namespacellvm.html#a7260773aac0c8769857f551c78b439a3">createSanitizerCtorAndInitFunctions</a>(M, <a class="code" href="MemProfiler_8cpp.html#a8f5515f5bed91743d73975f54ba5ce03">MemProfModuleCtorName</a>,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                          <a class="code" href="MemProfiler_8cpp.html#a55bb7390f2ac340eeb9f64a749ceea49">MemProfInitName</a>, <span class="comment">/*InitArgTypes=*/</span>{},</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                          <span class="comment">/*InitArgs=*/</span>{}, VersionCheckName);</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="keyword">const</span> <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> Priority = getCtorAndDtorPriority(TargetTriple);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <a class="code" href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">appendToGlobalCtors</a>(M, MemProfCtorFunction, Priority);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="namespacellvm.html#abd35d43ef05edd633413fa4cfa802c0e">createProfileFileNameVar</a>(M);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160; </div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="keywordtype">void</span> MemProfiler::initializeCallbacks(<a class="code" href="classllvm_1_1Module.html">Module</a> &amp;M) {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(*<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> AccessIsWrite = 0; AccessIsWrite &lt;= 1; AccessIsWrite++) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">const</span> std::string TypeStr = AccessIsWrite ? <span class="stringliteral">&quot;store&quot;</span> : <span class="stringliteral">&quot;load&quot;</span>;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 3&gt;</a> Args2 = {IntptrTy, IntptrTy};</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Type *, 2&gt;</a> Args1{1, IntptrTy};</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    MemProfMemoryAccessCallbackSized[AccessIsWrite] =</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a> + TypeStr + <span class="stringliteral">&quot;N&quot;</span>,</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                              <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">getVoidTy</a>(), Args2, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160; </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    MemProfMemoryAccessCallback[AccessIsWrite] =</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a> + TypeStr,</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                              <a class="code" href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">FunctionType::get</a>(IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">getVoidTy</a>(), Args1, <span class="keyword">false</span>));</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  MemProfMemmove = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a> + <span class="stringliteral">&quot;memmove&quot;</span>, IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(),</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(), IntptrTy);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  MemProfMemcpy = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a> + <span class="stringliteral">&quot;memcpy&quot;</span>,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(),</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(), IntptrTy);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  MemProfMemset = <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.getOrInsertFunction(<a class="code" href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a> + <span class="stringliteral">&quot;memset&quot;</span>,</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                                        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(), IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">getInt8PtrTy</a>(),</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                                        IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">getInt32Ty</a>(), IntptrTy);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160; </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="keywordtype">bool</span> MemProfiler::maybeInsertMemProfInitAtFunctionEntry(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="comment">// For each NSObject descendant having a +load method, this method is invoked</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// by the ObjC runtime before any of the static constructors is called.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="comment">// Therefore we need to instrument such methods with a call to __memprof_init</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="comment">// at the beginning in order to initialize our runtime before any access to</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// the shadow memory.</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="comment">// We cannot just ignore these methods, because they may call other</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  <span class="comment">// instrumented functions.</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName().find(<span class="stringliteral">&quot; load]&quot;</span>) != std::string::npos) {</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <a class="code" href="classllvm_1_1FunctionCallee.html">FunctionCallee</a> MemProfInitFunction =</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="namespacellvm.html#a67d90c79914c0bdfadad630647f8843b">declareSanitizerInitFunction</a>(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent(), <a class="code" href="MemProfiler_8cpp.html#a55bb7390f2ac340eeb9f64a749ceea49">MemProfInitName</a>, {});</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front(), <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front().begin());</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">CreateCall</a>(MemProfInitFunction, {});</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;}</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="keywordtype">bool</span> MemProfiler::insertDynamicShadowAtFunctionEntry(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classllvm_1_1IRBuilder.html">IRBuilder&lt;&gt;</a> IRB(&amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.front().front());</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *GlobalDynamicAddress = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getOrInsertGlobal(</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="MemProfiler_8cpp.html#a32ac84ebf758ebec696f271d0a277ab1">MemProfShadowMemoryDynamicAddress</a>, IntptrTy);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getPICLevel() == <a class="code" href="namespacellvm_1_1PICLevel.html#a66ddbf1bb21f90ddc44260d1ca677b6ba2ca71e846d9899d1a3e297367c86e6b2">PICLevel::NotPIC</a>)</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    cast&lt;GlobalVariable&gt;(GlobalDynamicAddress)-&gt;setDSOLocal(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  DynamicShadowOffset = IRB.<a class="code" href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">CreateLoad</a>(IntptrTy, GlobalDynamicAddress);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;}</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="keywordtype">bool</span> MemProfiler::instrumentFunction(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getLinkage() == <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">GlobalValue::AvailableExternallyLinkage</a>)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MemProfiler_8cpp.html#a14ca1248f871640308bd43afa5a2d1c1">ClDebugFunc</a> == <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName())</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getName().startswith(<span class="stringliteral">&quot;__memprof_&quot;</span>))</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <span class="keywordtype">bool</span> FunctionModified = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160; </div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="comment">// If needed, insert __memprof_init.</span></div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="comment">// This function needs to be called even if the function body is not</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// instrumented.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keywordflow">if</span> (maybeInsertMemProfInitAtFunctionEntry(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>))</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    FunctionModified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MEMPROF instrumenting:\n&quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  initializeCallbacks(*<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent());</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Instruction *, 16&gt;</a> ToInstrument;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160; </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="comment">// Fill the set of memory operations to instrument.</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;Inst : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keywordflow">if</span> (isInterestingMemoryAccess(&amp;Inst) || isa&lt;MemIntrinsic&gt;(Inst))</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        ToInstrument.push_back(&amp;Inst);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    }</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160; </div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">if</span> (ToInstrument.empty()) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MEMPROF done instrumenting: &quot;</span> &lt;&lt; FunctionModified</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                      &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordflow">return</span> FunctionModified;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160; </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  FunctionModified |= insertDynamicShadowAtFunctionEntry(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordtype">int</span> NumInstrumented = 0;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Inst : ToInstrument) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MemProfiler_8cpp.html#acbe8aa0241704cad470f25ab2f595357">ClDebugMin</a> &lt; 0 || <a class="code" href="MemProfiler_8cpp.html#a2be2bf8e5988e8ce0a3ec40753fe79c2">ClDebugMax</a> &lt; 0 ||</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        (NumInstrumented &gt;= <a class="code" href="MemProfiler_8cpp.html#acbe8aa0241704cad470f25ab2f595357">ClDebugMin</a> &amp;&amp; NumInstrumented &lt;= <a class="code" href="MemProfiler_8cpp.html#a2be2bf8e5988e8ce0a3ec40753fe79c2">ClDebugMax</a>)) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;      std::optional&lt;InterestingMemoryAccess&gt; Access =</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;          isInterestingMemoryAccess(Inst);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <span class="keywordflow">if</span> (Access)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        instrumentMop(Inst, <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent()-&gt;getDataLayout(), *Access);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        instrumentMemIntrinsic(cast&lt;MemIntrinsic&gt;(Inst));</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    NumInstrumented++;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (NumInstrumented &gt; 0)</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    FunctionModified = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;MEMPROF done instrumenting: &quot;</span> &lt;&lt; FunctionModified &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                    &lt;&lt; <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordflow">return</span> FunctionModified;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ad145436b2347d82ff976a0d86a0ae149"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ad145436b2347d82ff976a0d86a0ae149">llvm::IRBuilderBase::CreateIntCast</a></div><div class="ttdeci">Value * CreateIntCast(Value *V, Type *DestTy, bool isSigned, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02077">IRBuilder.h:2077</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a6ee1d1e7a13072ef579558d64b208d3c"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a6ee1d1e7a13072ef579558d64b208d3c">llvm::IRBuilderBase::getInt32Ty</a></div><div class="ttdeci">IntegerType * getInt32Ty()</div><div class="ttdoc">Fetch the type representing a 32-bit integer.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00512">IRBuilder.h:512</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7d1a18dc150da601587ccc716e0e4b41"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7d1a18dc150da601587ccc716e0e4b41">llvm::IRBuilderBase::CreateStore</a></div><div class="ttdeci">StoreInst * CreateStore(Value *Val, Value *Ptr, bool isVolatile=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01718">IRBuilder.h:1718</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a800a5183372ed37a74be5cddf5df325c"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a800a5183372ed37a74be5cddf5df325c">llvm::GlobalObject::setComdat</a></div><div class="ttdeci">void setComdat(Comdat *C)</div><div class="ttdef"><b>Definition:</b> <a href="Globals_8cpp_source.html#l00198">Globals.cpp:198</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a14ca1248f871640308bd43afa5a2d1c1"><div class="ttname"><a href="MemProfiler_8cpp.html#a14ca1248f871640308bd43afa5a2d1c1">ClDebugFunc</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClDebugFunc(&quot;memprof-debug-func&quot;, cl::Hidden, cl::desc(&quot;Debug func&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_aaf8dab63dd4327e4eb91d8ee4009a2cd"><div class="ttname"><a href="MemProfiler_8cpp.html#aaf8dab63dd4327e4eb91d8ee4009a2cd">ClInstrumentWrites</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentWrites(&quot;memprof-instrument-writes&quot;, cl::desc(&quot;instrument write instructions&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aIntrinsicInst_8h_html"><div class="ttname"><a href="IntrinsicInst_8h.html">IntrinsicInst.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aStringRef_8h_html"><div class="ttname"><a href="StringRef_8h.html">StringRef.h</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1PointerType_html_a050a395d1656e546679d8b144d951bb2"><div class="ttname"><a href="classllvm_1_1PointerType.html#a050a395d1656e546679d8b144d951bb2">llvm::PointerType::get</a></div><div class="ttdeci">static PointerType * get(Type *ElementType, unsigned AddressSpace)</div><div class="ttdoc">This constructs a pointer to an object of the specified type in a numbered address space.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00729">Type.cpp:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aStatistic_8h_html"><div class="ttname"><a href="Statistic_8h.html">Statistic.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a5ab2d0b0f0b8ceec3b907184e7567197"><div class="ttname"><a href="classllvm_1_1Type.html#a5ab2d0b0f0b8ceec3b907184e7567197">llvm::Type::getPointerAddressSpace</a></div><div class="ttdeci">unsigned getPointerAddressSpace() const</div><div class="ttdoc">Get the address space of this pointer or pointer vector type.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00729">DerivedTypes.h:729</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilder_html"><div class="ttname"><a href="classllvm_1_1IRBuilder.html">llvm::IRBuilder&lt;&gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionType_html_a7e89b55242c964ae61b7850e99cacef0"><div class="ttname"><a href="classllvm_1_1FunctionType.html#a7e89b55242c964ae61b7850e99cacef0">llvm::FunctionType::get</a></div><div class="ttdeci">static FunctionType * get(Type *Result, ArrayRef&lt; Type * &gt; Params, bool isVarArg)</div><div class="ttdoc">This static method is the primary way of constructing a FunctionType.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00363">Type.cpp:363</a></div></div>
<div class="ttc" id="aValueTracking_8h_html"><div class="ttname"><a href="ValueTracking_8h.html">ValueTracking.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a5e865ee84b1de713cc2a3b17e996cb82"><div class="ttname"><a href="MemProfiler_8cpp.html#a5e865ee84b1de713cc2a3b17e996cb82">DefaultShadowGranularity</a></div><div class="ttdeci">constexpr uint64_t DefaultShadowGranularity</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00048">MemProfiler.cpp:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a78e9dba4313161aca58fda8846276346"><div class="ttname"><a href="MemProfiler_8cpp.html#a78e9dba4313161aca58fda8846276346">DefaultShadowScale</a></div><div class="ttdeci">constexpr uint64_t DefaultShadowScale</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00051">MemProfiler.cpp:51</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemIntrinsic_html"><div class="ttname"><a href="classllvm_1_1MemIntrinsic.html">llvm::MemIntrinsic</a></div><div class="ttdoc">This is the common base class for memset/memcpy/memmove.</div><div class="ttdef"><b>Definition:</b> <a href="IntrinsicInst_8h_source.html#l01048">IntrinsicInst.h:1048</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a4eb4495b700219216c8a74a535c0f2cf"><div class="ttname"><a href="MemProfiler_8cpp.html#a4eb4495b700219216c8a74a535c0f2cf">LLVM_MEM_PROFILER_VERSION</a></div><div class="ttdeci">constexpr int LLVM_MEM_PROFILER_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00045">MemProfiler.cpp:45</a></div></div>
<div class="ttc" id="aREADME__P9_8txt_html_ae6881514a39f1bcf75ad62e5188700a4"><div class="ttname"><a href="README__P9_8txt.html#ae6881514a39f1bcf75ad62e5188700a4">Vector</a></div><div class="ttdeci">So we should use XX3Form_Rcr to implement intrinsic Convert DP outs ins xscvdpsp No builtin are required Round &amp;Convert QP DP(dword[1] is set to zero) No builtin are required Round to Quad Precision because you need to assign rounding mode in instruction Provide builtin(set f128:$vT,(int_ppc_vsx_xsrqpi f128:$vB))(set f128 yields&lt; n x&lt; ty &gt; &gt;&lt; result &gt; yields&lt; ty &gt;&lt; result &gt; No builtin are required Load Store Vector</div><div class="ttdef"><b>Definition:</b> <a href="README__P9_8txt_source.html#l00497">README_P9.txt:497</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a2be2bf8e5988e8ce0a3ec40753fe79c2"><div class="ttname"><a href="MemProfiler_8cpp.html#a2be2bf8e5988e8ce0a3ec40753fe79c2">ClDebugMax</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClDebugMax(&quot;memprof-debug-max&quot;, cl::desc(&quot;Debug max inst&quot;), cl::Hidden, cl::init(-1))</div></div>
<div class="ttc" id="anamespacellvm_html_abd35d43ef05edd633413fa4cfa802c0e"><div class="ttname"><a href="namespacellvm.html#abd35d43ef05edd633413fa4cfa802c0e">llvm::createProfileFileNameVar</a></div><div class="ttdeci">void createProfileFileNameVar(Module &amp;M, StringRef InstrProfileOutput)</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8cpp_source.html#l01206">InstrProf.cpp:1206</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_ac044f740fee04796ffe5ba17fdc3fa0c"><div class="ttname"><a href="classllvm_1_1Triple.html#ac044f740fee04796ffe5ba17fdc3fa0c">llvm::Triple::isOSEmscripten</a></div><div class="ttdeci">bool isOSEmscripten() const</div><div class="ttdoc">Tests whether the OS is Emscripten.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00657">Triple.h:657</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a963a6e215fa44c77d92b3c02faf58228"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a963a6e215fa44c77d92b3c02faf58228">llvm::IRBuilderBase::CreateIntToPtr</a></div><div class="ttdeci">Value * CreateIntToPtr(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02003">IRBuilder.h:2003</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aGlobalValue_8h_html"><div class="ttname"><a href="GlobalValue_8h.html">GlobalValue.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleMemProfilerPass_html_a7aa3dc81bbdc76cddc65faedf137c16c"><div class="ttname"><a href="classllvm_1_1ModuleMemProfilerPass.html#a7aa3dc81bbdc76cddc65faedf137c16c">llvm::ModuleMemProfilerPass::ModuleMemProfilerPass</a></div><div class="ttdeci">ModuleMemProfilerPass()</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_afb5c46a140e1b7f08de54d9c035a8adc"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#afb5c46a140e1b7f08de54d9c035a8adc">llvm::IRBuilderBase::CreateGEP</a></div><div class="ttdeci">Value * CreateGEP(Type *Ty, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;Name=&quot;&quot;, bool IsInBounds=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01781">IRBuilder.h:1781</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a132a883efbc512ce6325d5f751bb3672"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a132a883efbc512ce6325d5f751bb3672">llvm::IRBuilderBase::CreateLoad</a></div><div class="ttdeci">LoadInst * CreateLoad(Type *Ty, Value *Ptr, const char *Name)</div><div class="ttdoc">Provided to resolve 'CreateLoad(Ty, Ptr, &quot;...&quot;)' correctly, instead of converting the string to 'bool...</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01705">IRBuilder.h:1705</a></div></div>
<div class="ttc" id="aSIInstrInfo_8cpp_html_a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791"><div class="ttname"><a href="SIInstrInfo_8cpp.html#a0dfd55eaf0bcb495f09ecf8c55b256b2a6cbe5ff42f143903e1c67abf94613791">SI</a></div><div class="ttdeci">@ SI</div><div class="ttdef"><b>Definition:</b> <a href="SIInstrInfo_8cpp_source.html#l07993">SIInstrInfo.cpp:7993</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a55bb7390f2ac340eeb9f64a749ceea49"><div class="ttname"><a href="MemProfiler_8cpp.html#a55bb7390f2ac340eeb9f64a749ceea49">MemProfInitName</a></div><div class="ttdeci">constexpr char MemProfInitName[]</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00057">MemProfiler.cpp:57</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemProfilerPass_html_a93e296a07858458f6bd1a64c3bee364e"><div class="ttname"><a href="classllvm_1_1MemProfilerPass.html#a93e296a07858458f6bd1a64c3bee364e">llvm::MemProfilerPass::MemProfilerPass</a></div><div class="ttdeci">MemProfilerPass()</div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aInstrProf_8h_html"><div class="ttname"><a href="InstrProf_8h.html">InstrProf.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a2e265a0d332c3e2db0acf0c7afd4175d"><div class="ttname"><a href="classllvm_1_1Triple.html#a2e265a0d332c3e2db0acf0c7afd4175d">llvm::Triple::getObjectFormat</a></div><div class="ttdeci">ObjectFormatType getObjectFormat() const</div><div class="ttdoc">Get the object format for this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00381">Triple.h:381</a></div></div>
<div class="ttc" id="anamespacellvm_html_a67d90c79914c0bdfadad630647f8843b"><div class="ttname"><a href="namespacellvm.html#a67d90c79914c0bdfadad630647f8843b">llvm::declareSanitizerInitFunction</a></div><div class="ttdeci">FunctionCallee declareSanitizerInitFunction(Module &amp;M, StringRef InitName, ArrayRef&lt; Type * &gt; InitArgTypes, bool Weak=false)</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00173">ModuleUtils.cpp:173</a></div></div>
<div class="ttc" id="anamespacellvm_html_a0bf75467957937ad23ad7be19f489934"><div class="ttname"><a href="namespacellvm.html#a0bf75467957937ad23ad7be19f489934">llvm::STATISTIC</a></div><div class="ttdeci">STATISTIC(NumFunctions, &quot;Total number of functions&quot;)</div></div>
<div class="ttc" id="anamespacellvm_1_1codeview_html_aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d"><div class="ttname"><a href="namespacellvm_1_1codeview.html#aa8c11d016a2dd473a4cf0ed1da777f5ea67f23a49a4828b272554feea07834f7d">llvm::codeview::EncodedFramePtrReg::BasePtr</a></div><div class="ttdeci">@ BasePtr</div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3b1c5788b85ffa254be0e834edf5cf8f"><div class="ttname"><a href="namespacellvm.html#a3b1c5788b85ffa254be0e834edf5cf8f">llvm::getUnderlyingObject</a></div><div class="ttdeci">const Value * getUnderlyingObject(const Value *V, unsigned MaxLookup=6)</div><div class="ttdoc">This method strips off any GEP address adjustments and pointer casts from the specified value,...</div><div class="ttdef"><b>Definition:</b> <a href="ValueTracking_8cpp_source.html#l04567">ValueTracking.cpp:4567</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_ac92adc34f39bfb0757f9876e000e9052"><div class="ttname"><a href="MemProfiler_8cpp.html#ac92adc34f39bfb0757f9876e000e9052">ClInsertVersionCheck</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInsertVersionCheck(&quot;memprof-guard-against-version-mismatch&quot;, cl::desc(&quot;Guard against compiler/runtime version mismatch.&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a0ee65be0fa6a8fce162d866113cfdeb8"><div class="ttname"><a href="MemProfiler_8cpp.html#a0ee65be0fa6a8fce162d866113cfdeb8">ClDebug</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClDebug(&quot;memprof-debug&quot;, cl::desc(&quot;debug&quot;), cl::Hidden, cl::init(0))</div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_acbe8aa0241704cad470f25ab2f595357"><div class="ttname"><a href="MemProfiler_8cpp.html#acbe8aa0241704cad470f25ab2f595357">ClDebugMin</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClDebugMin(&quot;memprof-debug-min&quot;, cl::desc(&quot;Debug min inst&quot;), cl::Hidden, cl::init(-1))</div></div>
<div class="ttc" id="aAddressSanitizer_8cpp_html_ae85c91489663e66b441fce03b0763a35"><div class="ttname"><a href="AddressSanitizer_8cpp.html#ae85c91489663e66b441fce03b0763a35">instrumentMaskedLoadOrStore</a></div><div class="ttdeci">static void instrumentMaskedLoadOrStore(AddressSanitizer *Pass, const DataLayout &amp;DL, Type *IntptrTy, Value *Mask, Instruction *I, Value *Addr, MaybeAlign Alignment, unsigned Granularity, Type *OpType, bool IsWrite, Value *SizeArgument, bool UseCalls, uint32_t Exp)</div><div class="ttdef"><b>Definition:</b> <a href="AddressSanitizer_8cpp_source.html#l01433">AddressSanitizer.cpp:1433</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_af5a702ee0c9fcfdb2f18c91eb0499bf2"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#af5a702ee0c9fcfdb2f18c91eb0499bf2">llvm::IRBuilderBase::CreateAnd</a></div><div class="ttdeci">Value * CreateAnd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01390">IRBuilder.h:1390</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a8da622ab5a22792ab0396142382e903e"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a8da622ab5a22792ab0396142382e903e">llvm::IRBuilderBase::CreatePointerCast</a></div><div class="ttdeci">Value * CreatePointerCast(Value *V, Type *DestTy, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02054">IRBuilder.h:2054</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a8f5515f5bed91743d73975f54ba5ce03"><div class="ttname"><a href="MemProfiler_8cpp.html#a8f5515f5bed91743d73975f54ba5ce03">MemProfModuleCtorName</a></div><div class="ttdeci">constexpr char MemProfModuleCtorName[]</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00053">MemProfiler.cpp:53</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a08573aee06bc659699346285506370cc"><div class="ttname"><a href="MemProfiler_8cpp.html#a08573aee06bc659699346285506370cc">MemProfVersionCheckNamePrefix</a></div><div class="ttdeci">constexpr char MemProfVersionCheckNamePrefix[]</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00058">MemProfiler.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1StoreInst_html"><div class="ttname"><a href="classllvm_1_1StoreInst.html">llvm::StoreInst</a></div><div class="ttdoc">An instruction for storing to memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00301">Instructions.h:301</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a75dab0cb5b686e662e0f89c5fa6363bf"><div class="ttname"><a href="MemProfiler_8cpp.html#a75dab0cb5b686e662e0f89c5fa6363bf">ClStack</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClStack(&quot;memprof-instrument-stack&quot;, cl::desc(&quot;Instrument scalar stack variables&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a9df82a8be2f17e80535a8937bf23e022"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a9df82a8be2f17e80535a8937bf23e022">Addr</a></div><div class="ttdeci">uint64_t Addr</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00079">ELFObjHandler.cpp:79</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca8d13a9bcecfac72febceb1103afa048f">llvm::GlobalValue::WeakAnyLinkage</a></div><div class="ttdeci">@ WeakAnyLinkage</div><div class="ttdoc">Keep one copy of named function when linking (weak)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00052">GlobalValue.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1LLVMContext_html"><div class="ttname"><a href="classllvm_1_1LLVMContext.html">llvm::LLVMContext</a></div><div class="ttdoc">This is an important class for using LLVM in a threaded context.</div><div class="ttdef"><b>Definition:</b> <a href="LLVMContext_8h_source.html#l00067">LLVMContext.h:67</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="anamespacellvm_1_1PICLevel_html_a66ddbf1bb21f90ddc44260d1ca677b6ba2ca71e846d9899d1a3e297367c86e6b2"><div class="ttname"><a href="namespacellvm_1_1PICLevel.html#a66ddbf1bb21f90ddc44260d1ca677b6ba2ca71e846d9899d1a3e297367c86e6b2">llvm::PICLevel::NotPIC</a></div><div class="ttdeci">@ NotPIC</div><div class="ttdef"><b>Definition:</b> <a href="CodeGen_8h_source.html#l00036">CodeGen.h:36</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a7badbb741cd23e73ad063428c9cd5fea"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a7badbb741cd23e73ad063428c9cd5fea">llvm::IRBuilderBase::getInt8PtrTy</a></div><div class="ttdeci">PointerType * getInt8PtrTy(unsigned AddrSpace=0)</div><div class="ttdoc">Fetch the type representing a pointer to an 8-bit integer value.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00560">IRBuilder.h:560</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_ab3e5b72b1d72ed191c18e9acfe24e4e8"><div class="ttname"><a href="MemProfiler_8cpp.html#ab3e5b72b1d72ed191c18e9acfe24e4e8">ClUseCalls</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClUseCalls(&quot;memprof-use-callbacks&quot;, cl::desc(&quot;Use callbacks instead of inline instrumentation sequences.&quot;), cl::Hidden, cl::init(false))</div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a22175c0b31389adf608bc1b1ed0b357b"><div class="ttname"><a href="MemProfiler_8cpp.html#a22175c0b31389adf608bc1b1ed0b357b">MemProfEmscriptenCtorAndDtorPriority</a></div><div class="ttdeci">constexpr uint64_t MemProfEmscriptenCtorAndDtorPriority</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00056">MemProfiler.cpp:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_a687973de03d041e04b50a76d19d4fd36"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#a687973de03d041e04b50a76d19d4fd36">llvm::GlobalValue::setLinkage</a></div><div class="ttdeci">void setLinkage(LinkageTypes LT)</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00532">GlobalValue.h:532</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a928603739e0e70713566011d44052a4f"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a928603739e0e70713566011d44052a4f">llvm::IRBuilderBase::CreateAdd</a></div><div class="ttdeci">Value * CreateAdd(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool HasNUW=false, bool HasNSW=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01242">IRBuilder.h:1242</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_ae331464836f4bca864dbe3ccd68e80ba"><div class="ttname"><a href="MemProfiler_8cpp.html#ae331464836f4bca864dbe3ccd68e80ba">ClInstrumentReads</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentReads(&quot;memprof-instrument-reads&quot;, cl::desc(&quot;instrument read instructions&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="aIRBuilder_8h_html"><div class="ttname"><a href="IRBuilder_8h.html">IRBuilder.h</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a5c728ddd7890c015533b42cdd7307b0c"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a5c728ddd7890c015533b42cdd7307b0c">llvm::IRBuilderBase::CreateExtractElement</a></div><div class="ttdeci">Value * CreateExtractElement(Value *Vec, Value *Idx, const Twine &amp;Name=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02341">IRBuilder.h:2341</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aTriple_8h_html"><div class="ttname"><a href="Triple_8h.html">Triple.h</a></div></div>
<div class="ttc" id="aDataLayout_8h_html"><div class="ttname"><a href="DataLayout_8h.html">DataLayout.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html_a3edef3fa47c611d3d10606591213e57b"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html#a3edef3fa47c611d3d10606591213e57b">llvm::ConstantDataArray::getString</a></div><div class="ttdeci">static Constant * getString(LLVMContext &amp;Context, StringRef Initializer, bool AddNull=true)</div><div class="ttdoc">This method constructs a CDS and initializes it with a text string.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l02994">Constants.cpp:2994</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57caa67f293befacbbf974525116ccf2ff42">llvm::GlobalValue::AvailableExternallyLinkage</a></div><div class="ttdeci">@ AvailableExternallyLinkage</div><div class="ttdoc">Available for inspection, not emission.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00049">GlobalValue.h:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicRMWInst_html"><div class="ttname"><a href="classllvm_1_1AtomicRMWInst.html">llvm::AtomicRMWInst</a></div><div class="ttdoc">an instruction that atomically reads a memory location, combines it with another value,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00718">Instructions.h:718</a></div></div>
<div class="ttc" id="aConstant_8h_html"><div class="ttname"><a href="Constant_8h.html">Constant.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_acaf8e4c3e40e01e848c1fad5f05b81cd"><div class="ttname"><a href="classllvm_1_1Type.html#acaf8e4c3e40e01e848c1fad5f05b81cd">llvm::Type::getIntNTy</a></div><div class="ttdeci">static IntegerType * getIntNTy(LLVMContext &amp;C, unsigned N)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00245">Type.cpp:245</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="astructllvm_1_1SectionName_html"><div class="ttname"><a href="structllvm_1_1SectionName.html">llvm::SectionName</a></div><div class="ttdef"><b>Definition:</b> <a href="DWARFSection_8h_source.html#l00021">DWARFSection.h:21</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a5874875370a635d14aa03c57416035e2"><div class="ttname"><a href="MemProfiler_8cpp.html#a5874875370a635d14aa03c57416035e2">MemProfFilenameVar</a></div><div class="ttdeci">constexpr char MemProfFilenameVar[]</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00064">MemProfiler.cpp:64</a></div></div>
<div class="ttc" id="aclassllvm_1_1TypeSize_html"><div class="ttname"><a href="classllvm_1_1TypeSize.html">llvm::TypeSize</a></div><div class="ttdef"><b>Definition:</b> <a href="TypeSize_8h_source.html#l00314">TypeSize.h:314</a></div></div>
<div class="ttc" id="aclassllvm_1_1MemProfilerPass_html_a9da61a3f33d95e94a03f2b2431100492"><div class="ttname"><a href="classllvm_1_1MemProfilerPass.html#a9da61a3f33d95e94a03f2b2431100492">llvm::MemProfilerPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00223">MemProfiler.cpp:223</a></div></div>
<div class="ttc" id="aFunction_8h_html"><div class="ttname"><a href="Function_8h.html">Function.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ModuleMemProfilerPass_html_a1f56cd341951380da3dc0a019a5b4a3e"><div class="ttname"><a href="classllvm_1_1ModuleMemProfilerPass.html#a1f56cd341951380da3dc0a019a5b4a3e">llvm::ModuleMemProfilerPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Module &amp;M, ModuleAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00234">MemProfiler.cpp:234</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a97adaa9832eab790cc3bda987fe97214"><div class="ttname"><a href="MemProfiler_8cpp.html#a97adaa9832eab790cc3bda987fe97214">ClMappingGranularity</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClMappingGranularity(&quot;memprof-mapping-granularity&quot;, cl::desc(&quot;granularity of memprof shadow mapping&quot;), cl::Hidden, cl::init(DefaultShadowGranularity))</div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a4e301a0cc0ff66a8f01da8ad032f0e24"><div class="ttname"><a href="MemProfiler_8cpp.html#a4e301a0cc0ff66a8f01da8ad032f0e24">MemProfCtorAndDtorPriority</a></div><div class="ttdeci">constexpr uint64_t MemProfCtorAndDtorPriority</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00054">MemProfiler.cpp:54</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a32ac84ebf758ebec696f271d0a277ab1"><div class="ttname"><a href="MemProfiler_8cpp.html#a32ac84ebf758ebec696f271d0a277ab1">MemProfShadowMemoryDynamicAddress</a></div><div class="ttdeci">constexpr char MemProfShadowMemoryDynamicAddress[]</div><div class="ttdef"><b>Definition:</b> <a href="MemProfiler_8cpp_source.html#l00061">MemProfiler.cpp:61</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a898aec5cd32c49ee2d11e464ce83c82a"><div class="ttname"><a href="MemProfiler_8cpp.html#a898aec5cd32c49ee2d11e464ce83c82a">ClMappingScale</a></div><div class="ttdeci">static cl::opt&lt; int &gt; ClMappingScale(&quot;memprof-mapping-scale&quot;, cl::desc(&quot;scale of memprof shadow mapping&quot;), cl::Hidden, cl::init(DefaultShadowScale))</div></div>
<div class="ttc" id="anamespacellvm_html_a50e3b943e26ec60c2aa24a7ff43a2d17"><div class="ttname"><a href="namespacellvm.html#a50e3b943e26ec60c2aa24a7ff43a2d17">llvm::getInstrProfSectionName</a></div><div class="ttdeci">std::string getInstrProfSectionName(InstrProfSectKind IPSK, Triple::ObjectFormatType OF, bool AddSegmentInfo=true)</div><div class="ttdoc">Return the name of the profile section corresponding to IPSK.</div><div class="ttdef"><b>Definition:</b> <a href="InstrProf_8cpp_source.html#l00213">InstrProf.cpp:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a31c5c58143c6e9da9c544a7afcba2710"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a31c5c58143c6e9da9c544a7afcba2710">llvm::IRBuilderBase::CreateCall</a></div><div class="ttdeci">CallInst * CreateCall(FunctionType *FTy, Value *Callee, ArrayRef&lt; Value * &gt; Args=std::nullopt, const Twine &amp;Name=&quot;&quot;, MDNode *FPMathTag=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l02293">IRBuilder.h:2293</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_ae7f65cf79c9900a2b0504fbc25db1428"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#ae7f65cf79c9900a2b0504fbc25db1428">llvm::IRBuilderBase::CreateLShr</a></div><div class="ttdeci">Value * CreateLShr(Value *LHS, Value *RHS, const Twine &amp;Name=&quot;&quot;, bool isExact=false)</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l01352">IRBuilder.h:1352</a></div></div>
<div class="ttc" id="aModuleUtils_8h_html"><div class="ttname"><a href="ModuleUtils_8h.html">ModuleUtils.h</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_a82716160fd8bfea23fdf5a22f1511c72"><div class="ttname"><a href="MemProfiler_8cpp.html#a82716160fd8bfea23fdf5a22f1511c72">ClInstrumentAtomics</a></div><div class="ttdeci">static cl::opt&lt; bool &gt; ClInstrumentAtomics(&quot;memprof-instrument-atomics&quot;, cl::desc(&quot;instrument atomic instructions (rmw, cmpxchg)&quot;), cl::Hidden, cl::init(true))</div></div>
<div class="ttc" id="anamespacellvm_html_a13c1b5a253da5da49ce33d03dc1efc07"><div class="ttname"><a href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">llvm::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="ScopedPrinter_8h_source.html#l00085">ScopedPrinter.h:85</a></div></div>
<div class="ttc" id="aMemProfiler_8h_html"><div class="ttname"><a href="MemProfiler_8h.html">MemProfiler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionCallee_html"><div class="ttname"><a href="classllvm_1_1FunctionCallee.html">llvm::FunctionCallee</a></div><div class="ttdoc">A handy container for a FunctionType+Callee-pointer pair, which can be passed around as a single enti...</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00165">DerivedTypes.h:165</a></div></div>
<div class="ttc" id="aMemProfiler_8cpp_html_ad628f0885786557400a8dd6545d49550"><div class="ttname"><a href="MemProfiler_8cpp.html#ad628f0885786557400a8dd6545d49550">ClMemoryAccessCallbackPrefix</a></div><div class="ttdeci">static cl::opt&lt; std::string &gt; ClMemoryAccessCallbackPrefix(&quot;memprof-memory-access-callback-prefix&quot;, cl::desc(&quot;Prefix for memory access callbacks&quot;), cl::Hidden, cl::init(&quot;__memprof_&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1IRBuilderBase_html_a518df7907ab8f1d61c6f47381055eb53"><div class="ttname"><a href="classllvm_1_1IRBuilderBase.html#a518df7907ab8f1d61c6f47381055eb53">llvm::IRBuilderBase::getVoidTy</a></div><div class="ttdeci">Type * getVoidTy()</div><div class="ttdoc">Fetch the type representing void.</div><div class="ttdef"><b>Definition:</b> <a href="IRBuilder_8h_source.html#l00550">IRBuilder.h:550</a></div></div>
<div class="ttc" id="anamespacellvm_html_ae2aea60aed775d05692317bf4855c291"><div class="ttname"><a href="namespacellvm.html#ae2aea60aed775d05692317bf4855c291">llvm::SplitBlockAndInsertIfThen</a></div><div class="ttdeci">Instruction * SplitBlockAndInsertIfThen(Value *Cond, Instruction *SplitBefore, bool Unreachable, MDNode *BranchWeights, DominatorTree *DT, LoopInfo *LI=nullptr, BasicBlock *ThenBlock=nullptr)</div><div class="ttdoc">Split the containing block at the specified instruction - everything before SplitBefore stays in the ...</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlockUtils_8cpp_source.html#l01542">BasicBlockUtils.cpp:1542</a></div></div>
<div class="ttc" id="anamespacellvm_html_ac030f6d03b674c2d132fd54fb60c9f26"><div class="ttname"><a href="namespacellvm.html#ac030f6d03b674c2d132fd54fb60c9f26">llvm::appendToGlobalCtors</a></div><div class="ttdeci">void appendToGlobalCtors(Module &amp;M, Function *F, int Priority, Constant *Data=nullptr)</div><div class="ttdoc">Append F to the list of global ctors of module M with the given Priority.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00069">ModuleUtils.cpp:69</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7260773aac0c8769857f551c78b439a3"><div class="ttname"><a href="namespacellvm.html#a7260773aac0c8769857f551c78b439a3">llvm::createSanitizerCtorAndInitFunctions</a></div><div class="ttdeci">std::pair&lt; Function *, FunctionCallee &gt; createSanitizerCtorAndInitFunctions(Module &amp;M, StringRef CtorName, StringRef InitName, ArrayRef&lt; Type * &gt; InitArgTypes, ArrayRef&lt; Value * &gt; InitArgs, StringRef VersionCheckName=StringRef(), bool Weak=false)</div><div class="ttdoc">Creates sanitizer constructor function, and calls sanitizer's init function from it.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleUtils_8cpp_source.html#l00200">ModuleUtils.cpp:200</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html_ae44259d9edd71181ea8b89d18f27a967"><div class="ttname"><a href="classllvm_1_1MDString.html#ae44259d9edd71181ea8b89d18f27a967">llvm::MDString::getString</a></div><div class="ttdeci">StringRef getString() const</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l00507">Metadata.cpp:507</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDString_html"><div class="ttname"><a href="classllvm_1_1MDString.html">llvm::MDString</a></div><div class="ttdoc">A single uniqued string.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00611">Metadata.h:611</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aInitializePasses_8h_html"><div class="ttname"><a href="InitializePasses_8h.html">InitializePasses.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1AtomicCmpXchgInst_html"><div class="ttname"><a href="classllvm_1_1AtomicCmpXchgInst.html">llvm::AtomicCmpXchgInst</a></div><div class="ttdoc">An instruction that atomically checks whether a specified value is in a memory location,...</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00513">Instructions.h:513</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:24:43 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
