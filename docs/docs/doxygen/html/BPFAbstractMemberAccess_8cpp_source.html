<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/Target/BPF/BPFAbstractMemberAccess.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_794e483eb1cc7921d35fd149d9cc325b.html">Target</a></li><li class="navelem"><a class="el" href="dir_b9f4b12c13768d2acd91c9fc79be9cbf.html">BPF</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BPFAbstractMemberAccess.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="BPFAbstractMemberAccess_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===------ BPFAbstractMemberAccess.cpp - Abstracting Member Accesses -----===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// This pass abstracted struct/union member accesses in order to support</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// compile-once run-everywhere (CO-RE). The CO-RE intends to compile the program</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// which can run on different kernels. In particular, if bpf program tries to</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// access a particular kernel data structure member, the details of the</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// intermediate member access will be remembered so bpf loader can do</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// necessary adjustment right before program loading.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// For example,</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//   struct s {</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//     int a;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//     int b;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//   };</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">//   struct t {</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">//     struct s c;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">//     int d;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">//   };</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//   struct t e;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">// For the member access e.c.b, the compiler will generate code</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">//   &amp;e + 4</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// The compile-once run-everywhere instead generates the following code</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">//   r = 4</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">//   &amp;e + r</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// The &quot;4&quot; in &quot;r = 4&quot; can be changed based on a particular kernel version.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// For example, on a particular kernel version, if struct s is changed to</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">//   struct s {</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//     int new_field;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//     int a;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">//     int b;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">//   }</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">// By repeating the member access on the host, the bpf loader can</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">// adjust &quot;r = 4&quot; as &quot;r = 8&quot;.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">// This feature relies on the following three intrinsic calls:</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//   addr = preserve_array_access_index(base, dimension, index)</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//   addr = preserve_union_access_index(base, di_index)</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//          !llvm.preserve.access.index &lt;union_ditype&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//   addr = preserve_struct_access_index(base, gep_index, di_index)</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//          !llvm.preserve.access.index &lt;struct_ditype&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment">// Bitfield member access needs special attention. User cannot take the</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">// address of a bitfield acceess. To facilitate kernel verifier</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// for easy bitfield code optimization, a new clang intrinsic is introduced:</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//   uint32_t __builtin_preserve_field_info(member_access, info_kind)</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">// In IR, a chain with two (or more) intrinsic calls will be generated:</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">//   ...</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">//   addr = preserve_struct_access_index(base, 1, 1) !struct s</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//   uint32_t result = bpf_preserve_field_info(addr, info_kind)</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">// Suppose the info_kind is FIELD_SIGNEDNESS,</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">// The above two IR intrinsics will be replaced with</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// a relocatable insn:</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//   signness = /* signness of member_access */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">// and signness can be changed by bpf loader based on the</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">// types on the host.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">// User can also test whether a field exists or not with</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">//   uint32_t result = bpf_preserve_field_info(member_access, FIELD_EXISTENCE)</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// The field will be always available (result = 1) during initial</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// compilation, but bpf loader can patch with the correct value</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">// on the target host where the member_access may or may not be available</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BPF_8h.html">BPF.h</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BPFCORE_8h.html">BPFCORE.h</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BPFTargetMachine_8h.html">BPFTargetMachine.h</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Dwarf_8h.html">llvm/BinaryFormat/Dwarf.h</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DebugInfoMetadata_8h.html">llvm/IR/DebugInfoMetadata.h</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="GlobalVariable_8h.html">llvm/IR/GlobalVariable.h</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="IR_2Instruction_8h.html">llvm/IR/Instruction.h</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Instructions_8h.html">llvm/IR/Instructions.h</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;llvm/IR/IntrinsicsBPF.h&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Module_8h.html">llvm/IR/Module.h</a>&quot;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="PassManager_8h.html">llvm/IR/PassManager.h</a>&quot;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Type_8h.html">llvm/IR/Type.h</a>&quot;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="User_8h.html">llvm/IR/User.h</a>&quot;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Value_8h.html">llvm/IR/Value.h</a>&quot;</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="BasicBlockUtils_8h.html">llvm/Transforms/Utils/BasicBlockUtils.h</a>&quot;</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#include &lt;stack&gt;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   95</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;bpf-abstract-member-access&quot;</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;constexpr <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#af6913d71a49a3da6e91a2afa6a0cf644">BPFCoreSharedInfo::AmaAttr</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#a204ed5d7cbae670b9a08ff15ed18d4aa">BPFCoreSharedInfo::SeqNum</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1BPFCoreSharedInfo.html#adee485b8d8a010d18877f5f41286b079">  101</a></span>&#160;<a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *<a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#adee485b8d8a010d18877f5f41286b079">BPFCoreSharedInfo::insertPassThrough</a>(<a class="code" href="classllvm_1_1Module.html">Module</a> *M, <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                                                  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Input,</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                                                  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Before) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="classllvm_1_1Function.html">Function</a> *Fn = <a class="code" href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">Intrinsic::getDeclaration</a>(</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>, Intrinsic::bpf_passthrough, {Input-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>(), Input-&gt;<a class="code" href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">getType</a>()});</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="classllvm_1_1Constant.html">Constant</a> *SeqNumVal = <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()),</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                                         <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#a204ed5d7cbae670b9a08ff15ed18d4aa">BPFCoreSharedInfo::SeqNum</a>++);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keyword">auto</span> *NewInst = <a class="code" href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">CallInst::Create</a>(Fn, {SeqNumVal, Input});</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  NewInst-&gt;<a class="code" href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">insertBefore</a>(Before);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keywordflow">return</span> NewInst;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;} <span class="comment">// namespace llvm</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">namespace </span>{</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">class </span>BPFAbstractMemberAccess final {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  BPFAbstractMemberAccess(<a class="code" href="classllvm_1_1BPFTargetMachine.html">BPFTargetMachine</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) : <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) {}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">struct </span><a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">Kind</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> AccessIndex;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> RecordAlignment;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *<a class="code" href="classllvm_1_1Metadata.html">Metadata</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classllvm_1_1WeakTrackingVH.html">WeakTrackingVH</a> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  };</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">typedef</span> std::stack&lt;std::pair&lt;CallInst *, CallInfo&gt;&gt; CallInfoStack;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  enum : <a class="code" href="classuint32__t.html">uint32_t</a> {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    BPFPreserveArrayAI = 1,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    BPFPreserveUnionAI = 2,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    BPFPreserveStructAI = 3,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    BPFPreserveFieldInfoAI = 4,</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  };</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="classllvm_1_1TargetMachine.html">TargetMachine</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DataLayout.html">DataLayout</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="classllvm_1_1Module.html">Module</a> *<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keyword">static</span> std::map&lt;std::string, GlobalVariable *&gt; GEPGlobals;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// A map to link preserve_*_access_index intrinsic calls.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  std::map&lt;CallInst *, std::pair&lt;CallInst *, CallInfo&gt;&gt; AIChain;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// A map to hold all the base preserve_*_access_index intrinsic calls.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="comment">// The base call is not an input of any other preserve_*</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// intrinsics.</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  std::map&lt;CallInst *, CallInfo&gt; BaseAICalls;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// A map to hold &lt;AnonRecord, TypeDef&gt; relationships</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  std::map&lt;DICompositeType *, DIDerivedType *&gt; AnonRecords;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordtype">void</span> CheckAnonRecordType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy, <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordtype">void</span> CheckCompositeType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy, <a class="code" href="classllvm_1_1DICompositeType.html">DICompositeType</a> *CTy);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">void</span> CheckDerivedType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy, <a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *DTy);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">void</span> ResetMetadata(<span class="keyword">struct</span> <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">bool</span> doTransformation(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">void</span> traceAICall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">void</span> traceBitCast(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> *BitCast, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Parent,</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                    <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">void</span> traceGEP(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Parent,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordtype">void</span> collectAICallChains(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordtype">bool</span> IsPreserveDIAccessIndexCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;Cinfo);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordtype">bool</span> IsValidAIChain(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ParentMeta, <a class="code" href="classuint32__t.html">uint32_t</a> ParentAI,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                      <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ChildMeta);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordtype">bool</span> removePreserveAccessIndexIntrinsic(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordtype">void</span> replaceWithGEP(std::vector&lt;CallInst *&gt; &amp;CallList,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                      <a class="code" href="classuint32__t.html">uint32_t</a> NumOfZerosIndex, <a class="code" href="classuint32__t.html">uint32_t</a> DIIndex);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">bool</span> HasPreserveFieldInfoCall(CallInfoStack &amp;CallStack);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordtype">void</span> GetStorageBitRange(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *MemberTy, <a class="code" href="structllvm_1_1Align.html">Align</a> RecordAlignment,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                          <a class="code" href="classuint32__t.html">uint32_t</a> &amp;StartBitOffset, <a class="code" href="classuint32__t.html">uint32_t</a> &amp;EndBitOffset);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> GetFieldInfo(<a class="code" href="classuint32__t.html">uint32_t</a> InfoKind, <a class="code" href="classllvm_1_1DICompositeType.html">DICompositeType</a> *CTy,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <a class="code" href="classuint32__t.html">uint32_t</a> AccessIndex, <a class="code" href="classuint32__t.html">uint32_t</a> PatchImm,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> RecordAlignment);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *computeBaseAndAccessKey(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                 std::string &amp;AccessKey, <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *&amp;BaseMeta);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *computeAccessKey(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                           std::string &amp;AccessKey, <span class="keywordtype">bool</span> &amp;IsInt32Ret);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> getConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *IndexValue);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="keywordtype">bool</span> transformGEPChain(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call, <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;};</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;std::map&lt;std::string, GlobalVariable *&gt; BPFAbstractMemberAccess::GEPGlobals;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">class </span>BPFAbstractMemberAccessLegacyPass final : <span class="keyword">public</span> <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="classllvm_1_1BPFTargetMachine.html">BPFTargetMachine</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)<span class="keyword"> override </span>{</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">return</span> BPFAbstractMemberAccess(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>).run(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160; </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// Add optional BPFTargetMachine parameter so that BPF backend can add the</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="comment">// phase with target machine to find out the endianness. The default</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// constructor (without parameters) is used by the pass manager for managing</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="comment">// purposes.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  BPFAbstractMemberAccessLegacyPass(<a class="code" href="classllvm_1_1BPFTargetMachine.html">BPFTargetMachine</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a> = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      : <a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>), <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) {}</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;};</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;} <span class="comment">// End anonymous namespace</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="keywordtype">char</span> <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">BPFAbstractMemberAccessLegacyPass::ID</a> = 0;</div>
<div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a40c96513b7af9ec23c93a8dd224bf1d0">  213</a></span>&#160;<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a40c96513b7af9ec23c93a8dd224bf1d0">INITIALIZE_PASS</a>(BPFAbstractMemberAccessLegacyPass, <a class="code" href="BPFAbstractMemberAccess_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a>,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="stringliteral">&quot;BPF Abstract Member Access&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<a class="code" href="classllvm_1_1FunctionPass.html">FunctionPass</a> *<a class="code" href="namespacellvm.html">llvm</a>::<a class="code" href="namespacellvm.html#a4e6fa25d084d945fc4c6c68c1361fe6c">createBPFAbstractMemberAccess</a>(<a class="code" href="classllvm_1_1BPFTargetMachine.html">BPFTargetMachine</a> *<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> BPFAbstractMemberAccessLegacyPass(<a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">BPFAbstractMemberAccess::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;********** Abstract Member Accesses **********\n&quot;</span>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a> = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getParent();</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (!M)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// Bail out if no debug info.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;debug_compile_units().empty())</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// For each argument/return/local_variable type, trace the type</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// pattern like &#39;[derived_type]* [composite_type]&#39; to check</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="comment">// and remember (anon record -&gt; typedef) relations where the</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// anon record is defined as</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="comment">//   typedef [const/volatile/restrict]* [anon record]</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classllvm_1_1DISubprogram.html">DISubprogram</a> *SP = <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>.getSubprogram();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">if</span> (SP &amp;&amp; SP-&gt;isDefinition()) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty: SP-&gt;getType()-&gt;getTypeArray())</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      CheckAnonRecordType(<span class="keyword">nullptr</span>, Ty);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1DINode.html">DINode</a> *DN : SP-&gt;getRetainedNodes()) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *DV = dyn_cast&lt;DILocalVariable&gt;(DN))</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        CheckAnonRecordType(<span class="keyword">nullptr</span>, DV-&gt;getType());</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a> = &amp;<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>-&gt;getDataLayout();</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">return</span> doTransformation(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::ResetMetadata(<span class="keyword">struct</span> <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> Ty = dyn_cast&lt;DICompositeType&gt;(CInfo.Metadata)) {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordflow">if</span> (AnonRecords.find(Ty) != AnonRecords.end()) {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="keywordflow">if</span> (AnonRecords[Ty] != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        CInfo.Metadata = AnonRecords[Ty];</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;}</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::CheckCompositeType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                                                 <a class="code" href="classllvm_1_1DICompositeType.html">DICompositeType</a> *CTy) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span> (!CTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>() || !ParentTy ||</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      ParentTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>() != dwarf::DW_TAG_typedef)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (AnonRecords.find(CTy) == AnonRecords.end()) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    AnonRecords[CTy] = ParentTy;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// Two or more typedef&#39;s may point to the same anon record.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">// If this is the case, set the typedef DIType to be nullptr</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">// to indicate the duplication case.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *CurrTy = AnonRecords[CTy];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordflow">if</span> (CurrTy == ParentTy)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  AnonRecords[CTy] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::CheckDerivedType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                                               <a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *DTy) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="classllvm_1_1DIType.html">DIType</a> *<a class="code" href="classBaseType.html">BaseType</a> = DTy-&gt;getBaseType();</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classBaseType.html">BaseType</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = DTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_pointer_type)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    CheckAnonRecordType(<span class="keyword">nullptr</span>, <a class="code" href="classBaseType.html">BaseType</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_typedef)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    CheckAnonRecordType(DTy, <a class="code" href="classBaseType.html">BaseType</a>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    CheckAnonRecordType(ParentTy, <a class="code" href="classBaseType.html">BaseType</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::CheckAnonRecordType(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *ParentTy,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                                  <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (!Ty)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CTy = dyn_cast&lt;DICompositeType&gt;(Ty))</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> CheckCompositeType(ParentTy, CTy);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *DTy = dyn_cast&lt;DIDerivedType&gt;(Ty))</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> CheckDerivedType(ParentTy, DTy);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; </div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a87029540fa97cf23caa40cf1fbba3aec">  305</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a87029540fa97cf23caa40cf1fbba3aec">SkipDIDerivedTag</a>(<span class="keywordtype">unsigned</span> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a>, <span class="keywordtype">bool</span> skipTypedef) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != dwarf::DW_TAG_typedef &amp;&amp; <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != dwarf::DW_TAG_const_type &amp;&amp;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != dwarf::DW_TAG_volatile_type &amp;&amp;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != dwarf::DW_TAG_restrict_type &amp;&amp;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> != dwarf::DW_TAG_member)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_typedef &amp;&amp; !skipTypedef)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">  316</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> * <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(<a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty, <span class="keywordtype">bool</span> skipTypedef = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">auto</span> *DTy = dyn_cast&lt;DIDerivedType&gt;(Ty)) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a87029540fa97cf23caa40cf1fbba3aec">SkipDIDerivedTag</a>(DTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>(), skipTypedef))</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    Ty = DTy-&gt;getBaseType();</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a87cddffa46bfcedf11ed6df31e187636">  325</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> * <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty) {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">auto</span> *DTy = dyn_cast&lt;DIDerivedType&gt;(Ty)) {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a87029540fa97cf23caa40cf1fbba3aec">SkipDIDerivedTag</a>(DTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>(), <span class="keyword">true</span>))</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    Ty = DTy-&gt;getBaseType();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div>
<div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">  334</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1DICompositeType.html">DICompositeType</a> *CTy, <a class="code" href="classuint32__t.html">uint32_t</a> StartDim) {</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  DINodeArray Elements = CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> DimSize = 1;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = StartDim; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; Elements.size(); ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *Element = dyn_cast_or_null&lt;DINode&gt;(Elements[<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>]))</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordflow">if</span> (Element-&gt;getTag() == dwarf::DW_TAG_subrange_type) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1DISubrange.html">DISubrange</a> *SR = cast&lt;DISubrange&gt;(Element);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">auto</span> *CI = SR-&gt;<a class="code" href="classllvm_1_1DISubrange.html#adb4fcf1c9dc85e8a970ada7e823e9c92">getCount</a>().dyn_cast&lt;<a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *&gt;();</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        DimSize *= CI-&gt;getSExtValue();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">return</span> DimSize;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">  349</a></span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1Type.html">Type</a> *<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">getBaseElementType</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="comment">// Element type is stored in an elementtype() attribute on the first param.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <span class="keywordflow">return</span> Call-&gt;getParamElementType(0);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;}</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">/// Check whether a call is a preserve_*_access_index intrinsic call or not.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> BPFAbstractMemberAccess::IsPreserveDIAccessIndexCall(<span class="keyword">const</span> <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call,</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                                                          <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo) {</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">if</span> (!Call)</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *GV = dyn_cast&lt;GlobalValue&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getCalledOperand());</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordflow">if</span> (!GV)</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.preserve.array.access.index&quot;</span>)) {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    CInfo.Kind = BPFPreserveArrayAI;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    CInfo.Metadata = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getMetadata(LLVMContext::MD_preserve_access_index);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keywordflow">if</span> (!CInfo.Metadata)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Missing metadata for llvm.preserve.array.access.index intrinsic&quot;</span>);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    CInfo.AccessIndex = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(2));</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    CInfo.Base = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(0);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    CInfo.RecordAlignment = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;getABITypeAlign(<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">getBaseElementType</a>(Call));</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.preserve.union.access.index&quot;</span>)) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    CInfo.Kind = BPFPreserveUnionAI;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    CInfo.Metadata = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getMetadata(LLVMContext::MD_preserve_access_index);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (!CInfo.Metadata)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Missing metadata for llvm.preserve.union.access.index intrinsic&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    ResetMetadata(CInfo);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    CInfo.AccessIndex = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(1));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    CInfo.Base = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(0);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.preserve.struct.access.index&quot;</span>)) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    CInfo.Kind = BPFPreserveStructAI;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    CInfo.Metadata = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getMetadata(LLVMContext::MD_preserve_access_index);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordflow">if</span> (!CInfo.Metadata)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Missing metadata for llvm.preserve.struct.access.index intrinsic&quot;</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    ResetMetadata(CInfo);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    CInfo.AccessIndex = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(2));</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    CInfo.Base = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(0);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    CInfo.RecordAlignment = <a class="code" href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a>-&gt;getABITypeAlign(<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">getBaseElementType</a>(Call));</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.bpf.preserve.field.info&quot;</span>)) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    CInfo.Kind = BPFPreserveFieldInfoAI;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    CInfo.Metadata = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">// Check validity of info_kind as clang did not check this.</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> InfoKind = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(1));</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> (InfoKind &gt;= <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a23a7d39373aae3e3b862c0d55b8eff59">BPFCoreSharedInfo::MAX_FIELD_RELOC_KIND</a>)</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Incorrect info_kind for llvm.bpf.preserve.field.info intrinsic&quot;</span>);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    CInfo.AccessIndex = InfoKind;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.bpf.preserve.type.info&quot;</span>)) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    CInfo.Kind = BPFPreserveFieldInfoAI;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    CInfo.Metadata = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getMetadata(LLVMContext::MD_preserve_access_index);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span> (!CInfo.Metadata)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Missing metadata for llvm.preserve.type.info intrinsic&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(1));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> &gt;= <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80a29fb712512702fe409518e1ab8265977">BPFCoreSharedInfo::MAX_PRESERVE_TYPE_INFO_FLAG</a>)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Incorrect flag for llvm.bpf.preserve.type.info intrinsic&quot;</span>);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80a03be2c343e8e68c15daf556ebbf03c1c">BPFCoreSharedInfo::PRESERVE_TYPE_INFO_EXISTENCE</a>)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      CInfo.AccessIndex = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a94f667b4b2fba2962a7978f0ddc08a91">BPFCoreSharedInfo::TYPE_EXISTENCE</a>;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80ad7a6b49ef9bad33727d562a1f5a1103a">BPFCoreSharedInfo::PRESERVE_TYPE_INFO_MATCH</a>)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      CInfo.AccessIndex = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3af5aaaaf20f4a5fd0a8232e981a93e332">BPFCoreSharedInfo::TYPE_MATCH</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      CInfo.AccessIndex = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a71c98d3d6366f484cbf3e10c3a61c241">BPFCoreSharedInfo::TYPE_SIZE</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  }</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">if</span> (GV-&gt;getName().startswith(<span class="stringliteral">&quot;llvm.bpf.preserve.enum.value&quot;</span>)) {</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    CInfo.Kind = BPFPreserveFieldInfoAI;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    CInfo.Metadata = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getMetadata(LLVMContext::MD_preserve_access_index);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    <span class="keywordflow">if</span> (!CInfo.Metadata)</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Missing metadata for llvm.preserve.enum.value intrinsic&quot;</span>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(2));</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> &gt;= <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#abf9930915d15aa0be8bab24368dc4ce5ad93c58a2446e48b22f1050261c49af57">BPFCoreSharedInfo::MAX_PRESERVE_ENUM_VALUE_FLAG</a>)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Incorrect flag for llvm.bpf.preserve.enum.value intrinsic&quot;</span>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">Flag</a> == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#abf9930915d15aa0be8bab24368dc4ce5a1003a7e958cea4b90a901d90230b93e7">BPFCoreSharedInfo::PRESERVE_ENUM_VALUE_EXISTENCE</a>)</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      CInfo.AccessIndex = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a8897f376e45aac262ab66a0035d506f3">BPFCoreSharedInfo::ENUM_VALUE_EXISTENCE</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;      CInfo.AccessIndex = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa99003ed3c0a1f795cb5622af3e5ae2d">BPFCoreSharedInfo::ENUM_VALUE</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;}</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::replaceWithGEP(std::vector&lt;CallInst *&gt; &amp;CallList,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                                             <a class="code" href="classuint32__t.html">uint32_t</a> DimensionIndex,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                             <a class="code" href="classuint32__t.html">uint32_t</a> GEPIndex) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Call : CallList) {</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba9e0e31246b7b078403969b265870b3f4">Dimension</a> = 1;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="keywordflow">if</span> (DimensionIndex &gt; 0)</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba9e0e31246b7b078403969b265870b3f4">Dimension</a> = getConstant(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(DimensionIndex));</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="classllvm_1_1Constant.html">Constant</a> *<a class="code" href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">Zero</a> =</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">ConstantInt::get</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getParent()-&gt;getContext()), 0);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Value *, 4&gt;</a> IdxList;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 0; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; <a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba9e0e31246b7b078403969b265870b3f4">Dimension</a>; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      IdxList.push_back(Zero);</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    IdxList.push_back(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(GEPIndex));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a9a94c15dff322a963b566d486dd673b5">GetElementPtrInst::CreateInBounds</a>(</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">getBaseElementType</a>(Call), <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(0), IdxList, <span class="stringliteral">&quot;&quot;</span>, Call);</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;replaceAllUsesWith(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>);</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  }</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keywordtype">bool</span> BPFAbstractMemberAccess::removePreserveAccessIndexIntrinsic(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  std::vector&lt;CallInst *&gt; PreserveArrayIndexCalls;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  std::vector&lt;CallInst *&gt; PreserveUnionIndexCalls;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  std::vector&lt;CallInst *&gt; PreserveStructIndexCalls;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160; </div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = dyn_cast&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> CInfo;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span> (!IsPreserveDIAccessIndexCall(Call, CInfo))</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160; </div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveArrayAI)</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        PreserveArrayIndexCalls.push_back(Call);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveUnionAI)</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        PreserveUnionIndexCalls.push_back(Call);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        PreserveStructIndexCalls.push_back(Call);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160; </div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  <span class="comment">// do the following transformation:</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">// . addr = preserve_array_access_index(base, dimension, index)</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">//   is transformed to</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="comment">//     addr = GEP(base, dimenion&#39;s zero&#39;s, index)</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <span class="comment">// . addr = preserve_union_access_index(base, di_index)</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">//   is transformed to</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="comment">//     addr = base, i.e., all usages of &quot;addr&quot; are replaced by &quot;base&quot;.</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  <span class="comment">// . addr = preserve_struct_access_index(base, gep_index, di_index)</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">//   is transformed to</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="comment">//     addr = GEP(base, 0, gep_index)</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  replaceWithGEP(PreserveArrayIndexCalls, 1, 2);</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  replaceWithGEP(PreserveStructIndexCalls, 0, 1);</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Call : PreserveUnionIndexCalls) {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;replaceAllUsesWith(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(0));</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="comment">/// Check whether the access index chain is valid. We check</span></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="comment">/// here because there may be type casts between two</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="comment">/// access indexes. We want to ensure memory access still valid.</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> BPFAbstractMemberAccess::IsValidAIChain(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ParentType,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                             <a class="code" href="classuint32__t.html">uint32_t</a> ParentAI,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                             <span class="keyword">const</span> <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *ChildType) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">if</span> (!ChildType)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// preserve_field_info, no type comparison needed.</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> *PType = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(cast&lt;DIType&gt;(ParentType));</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> *CType = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(cast&lt;DIType&gt;(ChildType));</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="comment">// Child is a derived/pointer type, which is due to type casting.</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="comment">// Pointer type cannot be in the middle of chain.</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (isa&lt;DIDerivedType&gt;(CType))</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// Parent is a pointer type.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *PtrTy = dyn_cast&lt;DIDerivedType&gt;(PType)) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (PtrTy-&gt;getTag() != dwarf::DW_TAG_pointer_type)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(PtrTy-&gt;getBaseType()) == CType;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;  }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="comment">// Otherwise, struct/union/array types</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *PTy = dyn_cast&lt;DICompositeType&gt;(PType);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span> *CTy = dyn_cast&lt;DICompositeType&gt;(CType);</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PTy &amp;&amp; CTy &amp;&amp; <span class="stringliteral">&quot;ParentType or ChildType is null or not composite&quot;</span>);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> PTyTag = PTy-&gt;getTag();</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(PTyTag == dwarf::DW_TAG_array_type ||</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;         PTyTag == dwarf::DW_TAG_structure_type ||</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;         PTyTag == dwarf::DW_TAG_union_type);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160; </div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> CTyTag = CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>();</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CTyTag == dwarf::DW_TAG_array_type ||</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;         CTyTag == dwarf::DW_TAG_structure_type ||</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;         CTyTag == dwarf::DW_TAG_union_type);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <span class="comment">// Multi dimensional arrays, base element should be the same</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  <span class="keywordflow">if</span> (PTyTag == dwarf::DW_TAG_array_type &amp;&amp; PTyTag == CTyTag)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">return</span> PTy-&gt;getBaseType() == CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>();</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordflow">if</span> (PTyTag == dwarf::DW_TAG_array_type)</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    Ty = PTy-&gt;getBaseType();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    Ty = dyn_cast&lt;DIType&gt;(PTy-&gt;getElements()[ParentAI]);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  <span class="keywordflow">return</span> dyn_cast&lt;DICompositeType&gt;(<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(Ty)) == CTy;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160; </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::traceAICall(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call,</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                                          <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;users()) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = dyn_cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (!Inst)</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160; </div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BitCastInst&gt;(Inst)) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      traceBitCast(BI, Call, ParentInfo);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(Inst)) {</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> ChildInfo;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160; </div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keywordflow">if</span> (IsPreserveDIAccessIndexCall(CI, ChildInfo) &amp;&amp;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;          IsValidAIChain(ParentInfo.Metadata, ParentInfo.AccessIndex,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                         ChildInfo.Metadata)) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        AIChain[CI] = std::make_pair(Call, ParentInfo);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        traceAICall(CI, ChildInfo);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        BaseAICalls[<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>] = ParentInfo;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GI = dyn_cast&lt;GetElementPtrInst&gt;(Inst)) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      <span class="keywordflow">if</span> (GI-&gt;hasAllZeroIndices())</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        traceGEP(GI, Call, ParentInfo);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        BaseAICalls[<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>] = ParentInfo;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      BaseAICalls[<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>] = ParentInfo;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;}</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::traceBitCast(<a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a> *BitCast,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                                           <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Parent,</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                                           <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : BitCast-&gt;<a class="code" href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">users</a>()) {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = dyn_cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">if</span> (!Inst)</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BitCastInst&gt;(Inst)) {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      traceBitCast(BI, Parent, ParentInfo);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(Inst)) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> ChildInfo;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span> (IsPreserveDIAccessIndexCall(CI, ChildInfo) &amp;&amp;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;          IsValidAIChain(ParentInfo.Metadata, ParentInfo.AccessIndex,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                         ChildInfo.Metadata)) {</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        AIChain[CI] = std::make_pair(Parent, ParentInfo);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        traceAICall(CI, ChildInfo);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;      }</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GI = dyn_cast&lt;GetElementPtrInst&gt;(Inst)) {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <span class="keywordflow">if</span> (GI-&gt;hasAllZeroIndices())</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        traceGEP(GI, Parent, ParentInfo);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;}</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::traceGEP(<a class="code" href="classllvm_1_1GetElementPtrInst.html">GetElementPtrInst</a> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Parent,</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                                       <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;ParentInfo) {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1User.html">User</a> *U : <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;users()) {</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *Inst = dyn_cast&lt;Instruction&gt;(U);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (!Inst)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160; </div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">auto</span> *BI = dyn_cast&lt;BitCastInst&gt;(Inst)) {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      traceBitCast(BI, Parent, ParentInfo);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *CI = dyn_cast&lt;CallInst&gt;(Inst)) {</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> ChildInfo;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <span class="keywordflow">if</span> (IsPreserveDIAccessIndexCall(CI, ChildInfo) &amp;&amp;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;          IsValidAIChain(ParentInfo.Metadata, ParentInfo.AccessIndex,</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                         ChildInfo.Metadata)) {</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        AIChain[CI] = std::make_pair(Parent, ParentInfo);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        traceAICall(CI, ChildInfo);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;      }</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> *GI = dyn_cast&lt;GetElementPtrInst&gt;(Inst)) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <span class="keywordflow">if</span> (GI-&gt;hasAllZeroIndices())</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        traceGEP(GI, Parent, ParentInfo);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;      BaseAICalls[Parent] = ParentInfo;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    }</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  }</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;}</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="keywordtype">void</span> BPFAbstractMemberAccess::collectAICallChains(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  AIChain.clear();</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  BaseAICalls.clear();</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> : <a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> : <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>) {</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> CInfo;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = dyn_cast&lt;CallInst&gt;(&amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      <span class="keywordflow">if</span> (!IsPreserveDIAccessIndexCall(Call, CInfo) ||</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;          AIChain.find(Call) != AIChain.end())</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      traceAICall(Call, CInfo);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;}</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160; </div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> BPFAbstractMemberAccess::getConstant(<span class="keyword">const</span> <a class="code" href="classllvm_1_1Value.html">Value</a> *IndexValue) {</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantInt.html">ConstantInt</a> *CV = dyn_cast&lt;ConstantInt&gt;(IndexValue);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CV);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  <span class="keywordflow">return</span> CV-&gt;<a class="code" href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">getValue</a>().<a class="code" href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">getZExtValue</a>();</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;}</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">/// Get the start and the end of storage offset for \p MemberTy.</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> BPFAbstractMemberAccess::GetStorageBitRange(<a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *MemberTy,</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                                                 <a class="code" href="structllvm_1_1Align.html">Align</a> RecordAlignment,</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                                                 <a class="code" href="classuint32__t.html">uint32_t</a> &amp;StartBitOffset,</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                                                 <a class="code" href="classuint32__t.html">uint32_t</a> &amp;EndBitOffset) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> MemberBitSize = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> MemberBitOffset = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a51bdaf390bf24c47c391f32f957e56c3">getOffsetInBits</a>();</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160; </div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  <span class="keywordflow">if</span> (RecordAlignment &gt; 8) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="comment">// If the Bits are within an aligned 8-byte, set the RecordAlignment</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="comment">// to 8, other report the fatal error.</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (MemberBitOffset / 64 != (MemberBitOffset + MemberBitSize) / 64)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported field expression for llvm.bpf.preserve.field.info, &quot;</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                         <span class="stringliteral">&quot;requiring too big alignment&quot;</span>);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    RecordAlignment = <a class="code" href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a>(8);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160; </div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> AlignBits = RecordAlignment.<a class="code" href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">value</a>() * 8;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (MemberBitSize &gt; AlignBits)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported field expression for llvm.bpf.preserve.field.info, &quot;</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                       <span class="stringliteral">&quot;bitfield size greater than record alignment&quot;</span>);</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  StartBitOffset = MemberBitOffset &amp; ~(AlignBits - 1);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> ((StartBitOffset + AlignBits) &lt; (MemberBitOffset + MemberBitSize))</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported field expression for llvm.bpf.preserve.field.info, &quot;</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                       <span class="stringliteral">&quot;cross alignment boundary&quot;</span>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  EndBitOffset = StartBitOffset + AlignBits;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;}</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160; </div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<a class="code" href="classuint32__t.html">uint32_t</a> BPFAbstractMemberAccess::GetFieldInfo(<a class="code" href="classuint32__t.html">uint32_t</a> InfoKind,</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                                               <a class="code" href="classllvm_1_1DICompositeType.html">DICompositeType</a> *CTy,</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                                               <a class="code" href="classuint32__t.html">uint32_t</a> AccessIndex,</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                                               <a class="code" href="classuint32__t.html">uint32_t</a> PatchImm,</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                                               <a class="code" href="structllvm_1_1MaybeAlign.html">MaybeAlign</a> RecordAlignment) {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa51abe13c3e6781c9ed5ae922d2a4eb7">BPFCoreSharedInfo::FIELD_EXISTENCE</a>)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> <a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> = CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>();</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a39c7c23bf86c714d22e746731be894f1">BPFCoreSharedInfo::FIELD_BYTE_OFFSET</a>) {</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keyword">auto</span> *EltTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      PatchImm += AccessIndex * <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 1) *</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;                  (EltTy-&gt;getSizeInBits() &gt;&gt; 3);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_structure_type) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keyword">auto</span> *MemberTy = cast&lt;DIDerivedType&gt;(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()[AccessIndex]);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">if</span> (!MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a293fde7dd669a4357ec82df74d685f9b">isBitField</a>()) {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        PatchImm += MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a51bdaf390bf24c47c391f32f957e56c3">getOffsetInBits</a>() &gt;&gt; 3;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordtype">unsigned</span> SBitOffset, NextSBitOffset;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        GetStorageBitRange(MemberTy, *RecordAlignment, SBitOffset,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                           NextSBitOffset);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        PatchImm += SBitOffset &gt;&gt; 3;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> PatchImm;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aff6026e4848afef1ded723251a4b1723">BPFCoreSharedInfo::FIELD_BYTE_SIZE</a>) {</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keyword">auto</span> *EltTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 1) * (EltTy-&gt;getSizeInBits() &gt;&gt; 3);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="keyword">auto</span> *MemberTy = cast&lt;DIDerivedType&gt;(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()[AccessIndex]);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <a class="code" href="classuint32__t.html">uint32_t</a> SizeInBits = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>();</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="keywordflow">if</span> (!MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a293fde7dd669a4357ec82df74d685f9b">isBitField</a>())</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="keywordflow">return</span> SizeInBits &gt;&gt; 3;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160; </div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="keywordtype">unsigned</span> SBitOffset, NextSBitOffset;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      GetStorageBitRange(MemberTy, *RecordAlignment, SBitOffset,</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                         NextSBitOffset);</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      SizeInBits = NextSBitOffset - SBitOffset;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">if</span> (SizeInBits &amp; (SizeInBits - 1))</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Unsupported field expression for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">return</span> SizeInBits &gt;&gt; 3;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160; </div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aac1e7167ccd299518d93086e8f388f20">BPFCoreSharedInfo::FIELD_SIGNEDNESS</a>) {</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1DIType.html">DIType</a> *BaseTy;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;      <span class="comment">// Signedness only checked when final array elements are accessed.</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">if</span> (CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>().size() != 1)</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Invalid array expression for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      <span class="keyword">auto</span> *MemberTy = cast&lt;DIDerivedType&gt;(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()[AccessIndex]);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(MemberTy-&gt;getBaseType());</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">// Only basic types and enum types have signedness.</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *BTy = dyn_cast&lt;DIBasicType&gt;(BaseTy);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="keywordflow">while</span> (!BTy) {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *CompTy = dyn_cast&lt;DICompositeType&gt;(BaseTy);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      <span class="comment">// Report an error if the field expression does not have signedness.</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">if</span> (!CompTy || CompTy-&gt;getTag() != dwarf::DW_TAG_enumeration_type)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Invalid field expression for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CompTy-&gt;getBaseType());</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      BTy = dyn_cast&lt;DIBasicType&gt;(BaseTy);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> Encoding = BTy-&gt;getEncoding();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">return</span> (Encoding == dwarf::DW_ATE_signed || Encoding == dwarf::DW_ATE_signed_char);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  }</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160; </div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3afdd5dad008db81cb8f286c32444f125b">BPFCoreSharedInfo::FIELD_LSHIFT_U64</a>) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// The value is loaded into a value with FIELD_BYTE_SIZE size,</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// and then zero or sign extended to U64.</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// FIELD_LSHIFT_U64 and FIELD_RSHIFT_U64 are operations</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">// to extract the original value.</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1Triple.html">Triple</a> &amp;<a class="code" href="classllvm_1_1Triple.html">Triple</a> = <a class="code" href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a>-&gt;getTargetTriple();</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *MemberTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordtype">bool</span> IsBitField = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> SizeInBits;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keyword">auto</span> *EltTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      SizeInBits = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 1) * EltTy-&gt;getSizeInBits();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      MemberTy = cast&lt;DIDerivedType&gt;(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()[AccessIndex]);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      SizeInBits = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>();</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      IsBitField = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a293fde7dd669a4357ec82df74d685f9b">isBitField</a>();</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160; </div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (!IsBitField) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (SizeInBits &gt; 64)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;too big field size for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">return</span> 64 - SizeInBits;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160; </div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordtype">unsigned</span> SBitOffset, NextSBitOffset;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    GetStorageBitRange(MemberTy, *RecordAlignment, SBitOffset, NextSBitOffset);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">if</span> (NextSBitOffset - SBitOffset &gt; 64)</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;too big field size for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160; </div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordtype">unsigned</span> OffsetInBits = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a51bdaf390bf24c47c391f32f957e56c3">getOffsetInBits</a>();</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1Triple.html">Triple</a>.<a class="code" href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">getArch</a>() == <a class="code" href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a83d003d0efa0cd997646dc0343d7093f">Triple::bpfel</a>)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">return</span> SBitOffset + 64 - OffsetInBits - SizeInBits;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      <span class="keywordflow">return</span> OffsetInBits + 64 - NextSBitOffset;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3ad0bf7382001d4fdaa3fb1ff68f9194c0">BPFCoreSharedInfo::FIELD_RSHIFT_U64</a>) {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <a class="code" href="classllvm_1_1DIDerivedType.html">DIDerivedType</a> *MemberTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordtype">bool</span> IsBitField = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <a class="code" href="classuint32__t.html">uint32_t</a> SizeInBits;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">Tag</a> == dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keyword">auto</span> *EltTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      SizeInBits = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 1) * EltTy-&gt;getSizeInBits();</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      MemberTy = cast&lt;DIDerivedType&gt;(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()[AccessIndex]);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      SizeInBits = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>();</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      IsBitField = MemberTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a293fde7dd669a4357ec82df74d685f9b">isBitField</a>();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (!IsBitField) {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      <span class="keywordflow">if</span> (SizeInBits &gt; 64)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;too big field size for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">return</span> 64 - SizeInBits;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; </div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordtype">unsigned</span> SBitOffset, NextSBitOffset;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    GetStorageBitRange(MemberTy, *RecordAlignment, SBitOffset, NextSBitOffset);</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="keywordflow">if</span> (NextSBitOffset - SBitOffset &gt; 64)</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;too big field size for llvm.bpf.preserve.field.info&quot;</span>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160; </div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> 64 - SizeInBits;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Unknown llvm.bpf.preserve.field.info info kind&quot;</span>);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;}</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160; </div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;<span class="keywordtype">bool</span> BPFAbstractMemberAccess::HasPreserveFieldInfoCall(CallInfoStack &amp;CallStack) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// This is called in error return path, no need to maintain CallStack.</span></div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordflow">while</span> (CallStack.size()) {</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keyword">auto</span> StackElem = CallStack.top();</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    <span class="keywordflow">if</span> (StackElem.second.Kind == BPFPreserveFieldInfoAI)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    CallStack.pop();</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;}</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="comment">/// Compute the base of the whole preserve_* intrinsics chains, i.e., the base</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="comment">/// pointer of the first preserve_*_access_index call, and construct the access</span></div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="comment">/// string, which will be the name of a global variable.</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="comment"></span><a class="code" href="classllvm_1_1Value.html">Value</a> *BPFAbstractMemberAccess::computeBaseAndAccessKey(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call,</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                                                        <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo,</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                                                        std::string &amp;AccessKey,</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                                        <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *&amp;TypeMeta) {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  std::string <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  CallInfoStack CallStack;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160; </div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// Put the access chain into a stack with the top as the head of the chain.</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">while</span> (Call) {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    CallStack.push(std::make_pair(Call, CInfo));</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    CInfo = AIChain[<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>].second;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = AIChain[<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>].first;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  }</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160; </div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  <span class="comment">// The access offset from the base of the head of chain is also</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  <span class="comment">// calculated here as all debuginfo types are available.</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160; </div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Get type name and calculate the first index.</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">// We only want to get type name from typedef, structure or union.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="comment">// If user wants a relocation like</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="comment">//    int *p; ... __builtin_preserve_access_index(&amp;p[4]) ...</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  <span class="comment">// or</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="comment">//    int a[10][20]; ... __builtin_preserve_access_index(&amp;a[2][3]) ...</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="comment">// we will skip them.</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> FirstIndex = 0;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> PatchImm = 0; <span class="comment">// AccessOffset or the requested field info</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="classuint32__t.html">uint32_t</a> InfoKind = <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a39c7c23bf86c714d22e746731be894f1">BPFCoreSharedInfo::FIELD_BYTE_OFFSET</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  <span class="keywordflow">while</span> (CallStack.size()) {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keyword">auto</span> StackElem = CallStack.top();</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a> = StackElem.first;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    CInfo = StackElem.second;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160; </div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (!Base)</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;      <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = CInfo.Base;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; </div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *PossibleTypeDef = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(cast&lt;DIType&gt;(CInfo.Metadata),</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                                              <span class="keyword">false</span>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(PossibleTypeDef);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveUnionAI ||</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        CInfo.Kind == BPFPreserveStructAI) {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="comment">// struct or union type. If the typedef is in the metadata, always</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;      <span class="comment">// use the typedef.</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a> = std::string(PossibleTypeDef-&gt;<a class="code" href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">getName</a>());</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      TypeMeta = PossibleTypeDef;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;      PatchImm += FirstIndex * (Ty-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>() &gt;&gt; 3);</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CInfo.Kind == BPFPreserveArrayAI);</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">// Array entries will always be consumed for accumulative initial index.</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    CallStack.pop();</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="comment">// BPFPreserveArrayAI</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AccessIndex = CInfo.AccessIndex;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *BaseTy = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="keywordtype">bool</span> CheckElemType = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> *CTy = dyn_cast&lt;DICompositeType&gt;(Ty)) {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <span class="comment">// array type</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>() == dwarf::DW_TAG_array_type);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; </div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      FirstIndex += AccessIndex * <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 1);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">getBaseType</a>());</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;      CheckElemType = CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>().size() == 1;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <span class="comment">// pointer type</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <span class="keyword">auto</span> *DTy = cast&lt;DIDerivedType&gt;(Ty);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>() == dwarf::DW_TAG_pointer_type);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160; </div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(DTy-&gt;getBaseType());</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;      CTy = dyn_cast&lt;DICompositeType&gt;(BaseTy);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      <span class="keywordflow">if</span> (!CTy) {</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        CheckElemType = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>() != dwarf::DW_TAG_array_type) {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;        FirstIndex += AccessIndex;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        CheckElemType = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        FirstIndex += AccessIndex * <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a>(CTy, 0);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;      }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160; </div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (CheckElemType) {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keyword">auto</span> *CTy = dyn_cast&lt;DICompositeType&gt;(BaseTy);</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="keywordflow">if</span> (!CTy) {</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (HasPreserveFieldInfoCall(CallStack))</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Invalid field access for llvm.preserve.field.info intrinsic&quot;</span>);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;      }</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160; </div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;      <span class="keywordtype">unsigned</span> CTag = CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>();</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="keywordflow">if</span> (CTag == dwarf::DW_TAG_structure_type || CTag == dwarf::DW_TAG_union_type) {</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a> = std::string(CTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">getName</a>());</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">if</span> (HasPreserveFieldInfoCall(CallStack))</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;          <a class="code" href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">report_fatal_error</a>(<span class="stringliteral">&quot;Invalid field access for llvm.preserve.field.info intrinsic&quot;</span>);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;      }</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      TypeMeta = CTy;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      PatchImm += FirstIndex * (CTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>() &gt;&gt; 3);</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    }</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a>.size());</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  AccessKey += <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(FirstIndex);</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; </div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">// Traverse the rest of access chain to complete offset calculation</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="comment">// and access key construction.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  <span class="keywordflow">while</span> (CallStack.size()) {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="keyword">auto</span> StackElem = CallStack.top();</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    CInfo = StackElem.second;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    CallStack.pop();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160; </div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveFieldInfoAI) {</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      InfoKind = CInfo.AccessIndex;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;      <span class="keywordflow">if</span> (InfoKind == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa51abe13c3e6781c9ed5ae922d2a4eb7">BPFCoreSharedInfo::FIELD_EXISTENCE</a>)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        PatchImm = 1;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160; </div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">// If the next Call (the top of the stack) is a BPFPreserveFieldInfoAI,</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="comment">// the action will be extracting field info.</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="keywordflow">if</span> (CallStack.size()) {</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      <span class="keyword">auto</span> StackElem2 = CallStack.top();</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> CInfo2 = StackElem2.second;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      <span class="keywordflow">if</span> (CInfo2.Kind == BPFPreserveFieldInfoAI) {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;        InfoKind = CInfo2.AccessIndex;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CallStack.size() == 1);</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      }</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160; </div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    <span class="comment">// Access Index</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a> AccessIndex = CInfo.AccessIndex;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    AccessKey += <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(AccessIndex);</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *MDN = CInfo.Metadata;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="comment">// At this stage, it cannot be pointer type.</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keyword">auto</span> *CTy = cast&lt;DICompositeType&gt;(<a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(cast&lt;DIType&gt;(MDN)));</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    PatchImm = GetFieldInfo(InfoKind, CTy, AccessIndex, PatchImm,</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                            CInfo.RecordAlignment);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160; </div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  <span class="comment">// Access key is the</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="comment">//   &quot;llvm.&quot; + type name + &quot;:&quot; + reloc type + &quot;:&quot; + patched imm + &quot;$&quot; +</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="comment">//   access string,</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="comment">// uniquely identifying one relocation.</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// The prefix &quot;llvm.&quot; indicates this is a temporary global, which should</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// not be emitted to ELF file.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  AccessKey = <span class="stringliteral">&quot;llvm.&quot;</span> + <a class="code" href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">TypeName</a> + <span class="stringliteral">&quot;:&quot;</span> + <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(InfoKind) + <span class="stringliteral">&quot;:&quot;</span> +</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;              <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(PatchImm) + <span class="stringliteral">&quot;$&quot;</span> + AccessKey;</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160; </div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160; </div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;<a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *BPFAbstractMemberAccess::computeAccessKey(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call,</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                                                  <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo,</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                                                  std::string &amp;AccessKey,</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                                                  <span class="keywordtype">bool</span> &amp;IsInt32Ret) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  <a class="code" href="classllvm_1_1DIType.html">DIType</a> *Ty = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(cast&lt;DIType&gt;(CInfo.Metadata), <span class="keyword">false</span>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!Ty-&gt;<a class="code" href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">empty</a>());</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160; </div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  int64_t PatchImm;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  std::string AccessStr(<span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keywordflow">if</span> (CInfo.AccessIndex == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a94f667b4b2fba2962a7978f0ddc08a91">BPFCoreSharedInfo::TYPE_EXISTENCE</a> ||</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      CInfo.AccessIndex == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3af5aaaaf20f4a5fd0a8232e981a93e332">BPFCoreSharedInfo::TYPE_MATCH</a>) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    PatchImm = 1;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (CInfo.AccessIndex == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a71c98d3d6366f484cbf3e10c3a61c241">BPFCoreSharedInfo::TYPE_SIZE</a>) {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="comment">// typedef debuginfo type has size 0, get the eventual base type.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(Ty, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    PatchImm = BaseTy-&gt;<a class="code" href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">getSizeInBits</a>() / 8;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">// ENUM_VALUE_EXISTENCE and ENUM_VALUE</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    IsInt32Ret = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160; </div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="comment">// The argument could be a global variable or a getelementptr with base to</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">// a global variable depending on whether the clang option `opaque-options`</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">// is set or not.</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV =</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;        cast&lt;GlobalVariable&gt;(<a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getArgOperand(1)-&gt;stripPointerCasts());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a1c66d4eff947253e7610a66379974d63">hasInitializer</a>());</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1ConstantDataArray.html">ConstantDataArray</a> *<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a4babe0d4b2a36f887f48dfeb4b4a7cc6">DA</a> = cast&lt;ConstantDataArray&gt;(GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">getInitializer</a>());</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a4babe0d4b2a36f887f48dfeb4b4a7cc6">DA</a>-&gt;isString());</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> ValueStr = <a class="code" href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a4babe0d4b2a36f887f48dfeb4b4a7cc6">DA</a>-&gt;getAsString();</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160; </div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">// ValueStr format: &lt;EnumeratorStr&gt;:&lt;Value&gt;</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    <span class="keywordtype">size_t</span> Separator = ValueStr.<a class="code" href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">find_first_of</a>(<span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> EnumeratorStr = ValueStr.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(0, Separator);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160; </div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// Find enumerator index in the debuginfo</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <a class="code" href="classllvm_1_1DIType.html">DIType</a> *BaseTy = <a class="code" href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a>(Ty, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <span class="keyword">const</span> <span class="keyword">auto</span> *CTy = cast&lt;DICompositeType&gt;(BaseTy);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(CTy-&gt;<a class="code" href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">getTag</a>() == dwarf::DW_TAG_enumeration_type);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordtype">int</span> EnumIndex = 0;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> Element : CTy-&gt;<a class="code" href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">getElements</a>()) {</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bacf20423ed48998082c20099488a0917c">Enum</a> = cast&lt;DIEnumerator&gt;(Element);</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bacf20423ed48998082c20099488a0917c">Enum</a>-&gt;getName() == EnumeratorStr) {</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        AccessStr = <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(EnumIndex);</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;      }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;      EnumIndex++;</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160; </div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="keywordflow">if</span> (CInfo.AccessIndex == <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa99003ed3c0a1f795cb5622af3e5ae2d">BPFCoreSharedInfo::ENUM_VALUE</a>) {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <a class="code" href="classllvm_1_1StringRef.html">StringRef</a> EValueStr = ValueStr.<a class="code" href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">substr</a>(Separator + 1);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      PatchImm = std::stoll(std::string(EValueStr));</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      PatchImm = 1;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160; </div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  AccessKey = <span class="stringliteral">&quot;llvm.&quot;</span> + Ty-&gt;<a class="code" href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">getName</a>().<a class="code" href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">str</a>() + <span class="stringliteral">&quot;:&quot;</span> +</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;              <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(CInfo.AccessIndex) + std::string(<span class="stringliteral">&quot;:&quot;</span>) +</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;              <a class="code" href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">std::to_string</a>(PatchImm) + std::string(<span class="stringliteral">&quot;$&quot;</span>) + AccessStr;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  <span class="keywordflow">return</span> Ty;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment">/// Call/Kind is the base preserve_*_access_index() call. Attempts to do</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">/// transformation to a chain of relocable GEPs.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> BPFAbstractMemberAccess::transformGEPChain(<a class="code" href="classllvm_1_1CallInst.html">CallInst</a> *Call,</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                                                <a class="code" href="classllvm_1_1CallInfo.html">CallInfo</a> &amp;CInfo) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  std::string AccessKey;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <a class="code" href="classllvm_1_1MDNode.html">MDNode</a> *TypeMeta;</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <a class="code" href="classllvm_1_1Value.html">Value</a> *<a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  <span class="keywordtype">bool</span> IsInt32Ret;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160; </div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  IsInt32Ret = CInfo.Kind == BPFPreserveFieldInfoAI;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveFieldInfoAI &amp;&amp; CInfo.Metadata) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    TypeMeta = computeAccessKey(Call, CInfo, AccessKey, IsInt32Ret);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <a class="code" href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">Base</a> = computeBaseAndAccessKey(Call, CInfo, AccessKey, TypeMeta);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (!Base)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160; </div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <a class="code" href="classllvm_1_1BasicBlock.html">BasicBlock</a> *<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a> = <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getParent();</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a> *GV;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160; </div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  <span class="keywordflow">if</span> (GEPGlobals.find(AccessKey) == GEPGlobals.end()) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <a class="code" href="classllvm_1_1IntegerType.html">IntegerType</a> *VarType;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (IsInt32Ret)</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      VarType = <a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()); <span class="comment">// 32bit return value</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      VarType = <a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()); <span class="comment">// 64bit ptr or enum value</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    GV = <span class="keyword">new</span> <a class="code" href="classllvm_1_1GlobalVariable.html">GlobalVariable</a>(*M, VarType, <span class="keyword">false</span>, <a class="code" href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">GlobalVariable::ExternalLinkage</a>,</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                            <span class="keyword">nullptr</span>, AccessKey);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1GlobalVariable.html#af763d890b27bbeacc1b06636740de9a1">addAttribute</a>(<a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#af6913d71a49a3da6e91a2afa6a0cf644">BPFCoreSharedInfo::AmaAttr</a>);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    GV-&gt;<a class="code" href="classllvm_1_1GlobalObject.html#a338590123630c357df6340c38d066572">setMetadata</a>(LLVMContext::MD_preserve_access_index, TypeMeta);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    GEPGlobals[AccessKey] = GV;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    GV = GEPGlobals[AccessKey];</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160; </div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="keywordflow">if</span> (CInfo.Kind == BPFPreserveFieldInfoAI) {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <span class="comment">// Load the global variable which represents the returned field info.</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a> *LDInst;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">if</span> (IsInt32Ret)</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      LDInst = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(<a class="code" href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">Type::getInt32Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()), GV, <span class="stringliteral">&quot;&quot;</span>, Call);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      LDInst = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()), GV, <span class="stringliteral">&quot;&quot;</span>, Call);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160; </div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *PassThroughInst =</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#adee485b8d8a010d18877f5f41286b079">BPFCoreSharedInfo::insertPassThrough</a>(M, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, LDInst, Call);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;replaceAllUsesWith(PassThroughInst);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160; </div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  <span class="comment">// For any original GEP Call and Base %2 like</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  <span class="comment">//   %4 = bitcast %struct.net_device** %dev1 to i64*</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  <span class="comment">// it is transformed to:</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  <span class="comment">//   %6 = load llvm.sk_buff:0:50$0:0:0:2:0</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="comment">//   %7 = bitcast %struct.sk_buff* %2 to i8*</span></div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  <span class="comment">//   %8 = getelementptr i8, i8* %7, %6</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  <span class="comment">//   %9 = bitcast i8* %8 to i64*</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="comment">//   using %9 instead of %4</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="comment">// The original Call inst is removed.</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160; </div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="comment">// Load the global variable.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="keyword">auto</span> *LDInst = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LoadInst.html">LoadInst</a>(<a class="code" href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">Type::getInt64Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()), GV, <span class="stringliteral">&quot;&quot;</span>, Call);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160; </div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="comment">// Generate a BitCast</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  <span class="keyword">auto</span> *BCInst = <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(Base, <a class="code" href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">Type::getInt8PtrTy</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()));</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  BCInst-&gt;insertBefore(Call);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160; </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// Generate a GetElementPtr</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  <span class="keyword">auto</span> *<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a> = <a class="code" href="classllvm_1_1GetElementPtrInst.html#a74c47d18ecd4ca3399785e6ae07134dc">GetElementPtrInst::Create</a>(<a class="code" href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">Type::getInt8Ty</a>(<a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>-&gt;getContext()),</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                                        BCInst, LDInst);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;  <a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>-&gt;insertBefore(Call);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  <span class="comment">// Generate a BitCast</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <span class="keyword">auto</span> *BCInst2 = <span class="keyword">new</span> <a class="code" href="classllvm_1_1BitCastInst.html">BitCastInst</a>(<a class="code" href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a>, <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;getType());</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  BCInst2-&gt;insertBefore(Call);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160; </div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="comment">// For the following code,</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;  <span class="comment">//    Block0:</span></div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="comment">//      if (...) goto Block1 else ...</span></div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="comment">//    Block1:</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="comment">//      %6 = load llvm.sk_buff:0:50$0:0:0:2:0</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="comment">//      %7 = bitcast %struct.sk_buff* %2 to i8*</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <span class="comment">//      %8 = getelementptr i8, i8* %7, %6</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="comment">//      goto CommonExit</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="comment">//    Block2:</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;  <span class="comment">//      if (...) goto Block3 else ...</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  <span class="comment">//    Block3:</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="comment">//      %6 = load llvm.bpf_map:0:40$0:0:0:2:0</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="comment">//      %7 = bitcast %struct.sk_buff* %2 to i8*</span></div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;  <span class="comment">//      %8 = getelementptr i8, i8* %7, %6</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <span class="comment">//      goto CommonExit</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="comment">//    CommonExit</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  <span class="comment">// SimplifyCFG may generate:</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  <span class="comment">//    Block0:</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">//      if (...) goto Block_Common else ...</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="comment">//     Block2:</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  <span class="comment">//       ...</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <span class="comment">//      if (...) goto Block_Common else ...</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="comment">//    Block_Common:</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="comment">//      PHI = [llvm.sk_buff:0:50$0:0:0:2:0, llvm.bpf_map:0:40$0:0:0:2:0]</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  <span class="comment">//      %6 = load PHI</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  <span class="comment">//      %7 = bitcast %struct.sk_buff* %2 to i8*</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  <span class="comment">//      %8 = getelementptr i8, i8* %7, %6</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  <span class="comment">//      ...</span></div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  <span class="comment">//      goto CommonExit</span></div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  <span class="comment">//  For the above code, we cannot perform proper relocation since</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  <span class="comment">//  &quot;load PHI&quot; has two possible relocations.</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="comment">// To prevent above tail merging, we use __builtin_bpf_passthrough()</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <span class="comment">// where one of its parameters is a seq_num. Since two</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <span class="comment">// __builtin_bpf_passthrough() funcs will always have different seq_num,</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="comment">// tail merging cannot happen. The __builtin_bpf_passthrough() will be</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="comment">// removed in the beginning of Target IR passes.</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="comment">// This approach is also used in other places when global var</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="comment">// representing a relocation is used.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <a class="code" href="classllvm_1_1Instruction.html">Instruction</a> *PassThroughInst =</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      <a class="code" href="classllvm_1_1BPFCoreSharedInfo.html#adee485b8d8a010d18877f5f41286b079">BPFCoreSharedInfo::insertPassThrough</a>(M, <a class="code" href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a>, BCInst2, Call);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;replaceAllUsesWith(PassThroughInst);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <a class="code" href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">Call</a>-&gt;eraseFromParent();</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160; </div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;}</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160; </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;<span class="keywordtype">bool</span> BPFAbstractMemberAccess::doTransformation(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) {</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordtype">bool</span> Transformed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160; </div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  <span class="comment">// Collect PreserveDIAccessIndex Intrinsic call chains.</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// The call chains will be used to generate the access</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">// patterns similar to GEP.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  collectAICallChains(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160; </div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a> : BaseAICalls)</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    Transformed = transformGEPChain(<a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.first, <a class="code" href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a>.second) || Transformed;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">return</span> removePreserveAccessIndexIntrinsic(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) || Transformed;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160; </div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;<a class="code" href="classllvm_1_1PreservedAnalyses.html">PreservedAnalyses</a></div>
<div class="line"><a name="l01217"></a><span class="lineno"><a class="line" href="classllvm_1_1BPFAbstractMemberAccessPass.html#a6dc0d5add9dd3e49bf053ce9eed7a998"> 1217</a></span>&#160;<a class="code" href="classllvm_1_1BPFAbstractMemberAccessPass.html#a6dc0d5add9dd3e49bf053ce9eed7a998">BPFAbstractMemberAccessPass::run</a>(<a class="code" href="classllvm_1_1Function.html">Function</a> &amp;<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>, <a class="code" href="classllvm_1_1AnalysisManager.html">FunctionAnalysisManager</a> &amp;AM) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  <span class="keywordflow">return</span> BPFAbstractMemberAccess(TM).run(<a class="code" href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a>) ? <a class="code" href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">PreservedAnalyses::none</a>()</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                                            : <a class="code" href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">PreservedAnalyses::all</a>();</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html">llvm::PreservedAnalyses</a></div><div class="ttdoc">A set of analyses that are preserved following a run of a transformation pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00152">PassManager.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompositeType_html_a313e9466049ce7a82b1bed4db1905656"><div class="ttname"><a href="classllvm_1_1DICompositeType.html#a313e9466049ce7a82b1bed4db1905656">llvm::DICompositeType::getBaseType</a></div><div class="ttdeci">DIType * getBaseType() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01216">DebugInfoMetadata.h:1216</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_abf9930915d15aa0be8bab24368dc4ce5ad93c58a2446e48b22f1050261c49af57"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#abf9930915d15aa0be8bab24368dc4ce5ad93c58a2446e48b22f1050261c49af57">llvm::BPFCoreSharedInfo::MAX_PRESERVE_ENUM_VALUE_FLAG</a></div><div class="ttdeci">@ MAX_PRESERVE_ENUM_VALUE_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00059">BPFCORE.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html"><div class="ttname"><a href="classllvm_1_1DIType.html">llvm::DIType</a></div><div class="ttdoc">Base class for types.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00697">DebugInfoMetadata.h:697</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aclassllvm_1_1WeakTrackingVH_html"><div class="ttname"><a href="classllvm_1_1WeakTrackingVH.html">llvm::WeakTrackingVH</a></div><div class="ttdoc">Value handle that is nullable, but tries to track the Value.</div><div class="ttdef"><b>Definition:</b> <a href="ValueHandle_8h_source.html#l00204">ValueHandle.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1DataLayout_html"><div class="ttname"><a href="classllvm_1_1DataLayout.html">llvm::DataLayout</a></div><div class="ttdoc">A parsed version of the target data layout string in and methods for querying it.</div><div class="ttdef"><b>Definition:</b> <a href="DataLayout_8h_source.html#l00110">DataLayout.h:110</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46">llvm::AArch64PACKey::ID</a></div><div class="ttdeci">ID</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00790">AArch64BaseInfo.h:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7fe9ccd4893f4e2caa826126c09545ea"><div class="ttname"><a href="classllvm_1_1Type.html#a7fe9ccd4893f4e2caa826126c09545ea">llvm::Type::getInt8PtrTy</a></div><div class="ttdeci">static PointerType * getInt8PtrTy(LLVMContext &amp;C, unsigned AS=0)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00293">Type.cpp:293</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html_a8b53bdd5b8f1d8cd12a392c256cb54f3"><div class="ttname"><a href="classllvm_1_1DIType.html#a8b53bdd5b8f1d8cd12a392c256cb54f3">llvm::DIType::getSizeInBits</a></div><div class="ttdeci">uint64_t getSizeInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00736">DebugInfoMetadata.h:736</a></div></div>
<div class="ttc" id="aDebugInfoMetadata_8h_html"><div class="ttname"><a href="DebugInfoMetadata_8h.html">DebugInfoMetadata.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Function_html"><div class="ttname"><a href="classllvm_1_1Function.html">llvm::Function</a></div><div class="ttdef"><b>Definition:</b> <a href="Function_8h_source.html#l00059">Function.h:59</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitCastInst_html"><div class="ttname"><a href="classllvm_1_1BitCastInst.html">llvm::BitCastInst</a></div><div class="ttdoc">This class represents a no-op cast from one type to another.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l05258">Instructions.h:5258</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a4b001d9b458035fbbfc154d52d354ee9"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a4b001d9b458035fbbfc154d52d354ee9">llvm::ConstantInt::getValue</a></div><div class="ttdeci">const APInt &amp; getValue() const</div><div class="ttdoc">Return the constant as an APInt value reference.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00132">Constants.h:132</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_a87029540fa97cf23caa40cf1fbba3aec"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#a87029540fa97cf23caa40cf1fbba3aec">SkipDIDerivedTag</a></div><div class="ttdeci">static bool SkipDIDerivedTag(unsigned Tag, bool skipTypedef)</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00305">BPFAbstractMemberAccess.cpp:305</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html">llvm::GlobalVariable</a></div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00039">GlobalVariable.h:39</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html_a482498a1c760122fd33c7fc8190dd277"><div class="ttname"><a href="classllvm_1_1Instruction.html#a482498a1c760122fd33c7fc8190dd277">llvm::Instruction::insertBefore</a></div><div class="ttdeci">void insertBefore(Instruction *InsertPos)</div><div class="ttdoc">Insert an unlinked instruction into a basic block immediately before the specified instruction.</div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8cpp_source.html#l00088">Instruction.cpp:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html"><div class="ttname"><a href="classllvm_1_1Triple.html">llvm::Triple</a></div><div class="ttdoc">Triple - Helper class for working with autoconf configuration names.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00044">Triple.h:44</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a03797a73044a81cbc6a3409d6c72ee8f"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a03797a73044a81cbc6a3409d6c72ee8f">llvm::PreservedAnalyses::none</a></div><div class="ttdeci">static PreservedAnalyses none()</div><div class="ttdoc">Convenience factory function for the empty preserved set.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00155">PassManager.h:155</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a93b15a8c0022febbe39d17ab933737a8"><div class="ttname"><a href="classllvm_1_1StringRef.html#a93b15a8c0022febbe39d17ab933737a8">llvm::StringRef::find_first_of</a></div><div class="ttdeci">size_t find_first_of(char C, size_t From=0) const</div><div class="ttdoc">Find the first character in the string that is C, or npos if not found.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00376">StringRef.h:376</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html"><div class="ttname"><a href="classllvm_1_1Type.html">llvm::Type</a></div><div class="ttdoc">The instances of the Type class are immutable: once they are created, they are never changed.</div><div class="ttdef"><b>Definition:</b> <a href="Type_8h_source.html#l00045">Type.h:45</a></div></div>
<div class="ttc" id="aModule_8h_html"><div class="ttname"><a href="Module_8h.html">Module.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_a204ed5d7cbae670b9a08ff15ed18d4aa"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#a204ed5d7cbae670b9a08ff15ed18d4aa">llvm::BPFCoreSharedInfo::SeqNum</a></div><div class="ttdeci">static uint32_t SeqNum</div><div class="ttdoc">llvm.bpf.passthrough builtin seq number</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00068">BPFCORE.h:68</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_a39a59ae256ddc761dbc9c959e497581b"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#a39a59ae256ddc761dbc9c959e497581b">getBaseElementType</a></div><div class="ttdeci">static Type * getBaseElementType(const CallInst *Call)</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00349">BPFAbstractMemberAccess.cpp:349</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_a7f4f80c5865c70bf46985351ff8c4dc6"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#a7f4f80c5865c70bf46985351ff8c4dc6">calcArraySize</a></div><div class="ttdeci">static uint32_t calcArraySize(const DICompositeType *CTy, uint32_t StartDim)</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00334">BPFAbstractMemberAccess.cpp:334</a></div></div>
<div class="ttc" id="aBPF_8h_html"><div class="ttname"><a href="BPF_8h.html">BPF.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_ac94a19fc8c57bf0350fc4e9f45897828"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#ac94a19fc8c57bf0350fc4e9f45897828">llvm::dwarf::Tag</a></div><div class="ttdeci">Tag</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00103">Dwarf.h:103</a></div></div>
<div class="ttc" id="aclassBaseType_html"><div class="ttname"><a href="classBaseType.html">BaseType</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3a94f667b4b2fba2962a7978f0ddc08a91"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a94f667b4b2fba2962a7978f0ddc08a91">llvm::BPFCoreSharedInfo::TYPE_EXISTENCE</a></div><div class="ttdeci">@ TYPE_EXISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00031">BPFCORE.h:31</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a7ba5de75f50bb4a4ba920698edf39b28"><div class="ttname"><a href="classllvm_1_1Type.html#a7ba5de75f50bb4a4ba920698edf39b28">llvm::Type::getInt8Ty</a></div><div class="ttdeci">static IntegerType * getInt8Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00239">Type.cpp:239</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a30dd396c5b40cd86c1591872e574ccdf"><div class="ttname"><a href="classllvm_1_1Type.html#a30dd396c5b40cd86c1591872e574ccdf">llvm::Type::getInt32Ty</a></div><div class="ttdeci">static IntegerType * getInt32Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00241">Type.cpp:241</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3ad0bf7382001d4fdaa3fb1ff68f9194c0"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3ad0bf7382001d4fdaa3fb1ff68f9194c0">llvm::BPFCoreSharedInfo::FIELD_RSHIFT_U64</a></div><div class="ttdeci">@ FIELD_RSHIFT_U64</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00028">BPFCORE.h:28</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_a96d73bbd7af15cb1fc38c3f4a3bd82e9"><div class="ttname"><a href="MD5_8cpp.html#a96d73bbd7af15cb1fc38c3f4a3bd82e9">F</a></div><div class="ttdeci">#define F(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00055">MD5.cpp:55</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a1c66d4eff947253e7610a66379974d63"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a1c66d4eff947253e7610a66379974d63">llvm::GlobalVariable::hasInitializer</a></div><div class="ttdeci">bool hasInitializer() const</div><div class="ttdoc">Definitions have initializers, declarations don't.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00091">GlobalVariable.h:91</a></div></div>
<div class="ttc" id="aclassllvm_1_1BasicBlock_html"><div class="ttname"><a href="classllvm_1_1BasicBlock.html">llvm::BasicBlock</a></div><div class="ttdoc">LLVM Basic Block Representation.</div><div class="ttdef"><b>Definition:</b> <a href="BasicBlock_8h_source.html#l00055">BasicBlock.h:55</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInfo_html"><div class="ttname"><a href="classllvm_1_1CallInfo.html">llvm::CallInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="GVNHoist_8cpp_source.html#l00217">GVNHoist.cpp:217</a></div></div>
<div class="ttc" id="aIR_2Instruction_8h_html"><div class="ttname"><a href="IR_2Instruction_8h.html">Instruction.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html"><div class="ttname"><a href="classllvm_1_1ConstantInt.html">llvm::ConstantInt</a></div><div class="ttdoc">This is the shared class of boolean and integer constants.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00078">Constants.h:78</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubrange_html_adb4fcf1c9dc85e8a970ada7e823e9c92"><div class="ttname"><a href="classllvm_1_1DISubrange.html#adb4fcf1c9dc85e8a970ada7e823e9c92">llvm::DISubrange::getCount</a></div><div class="ttdeci">BoundType getCount() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l00410">DebugInfoMetadata.cpp:410</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_a72bd0b0c1f71f6d6b41db97476da3e80a29fb712512702fe409518e1ab8265977"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80a29fb712512702fe409518e1ab8265977">llvm::BPFCoreSharedInfo::MAX_PRESERVE_TYPE_INFO_FLAG</a></div><div class="ttdeci">@ MAX_PRESERVE_TYPE_INFO_FLAG</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00052">BPFCORE.h:52</a></div></div>
<div class="ttc" id="aclassllvm_1_1User_html"><div class="ttname"><a href="classllvm_1_1User.html">llvm::User</a></div><div class="ttdef"><b>Definition:</b> <a href="User_8h_source.html#l00044">User.h:44</a></div></div>
<div class="ttc" id="aREADME__ALTIVEC_8txt_html_a9aacd9146afe44bf656cd664e2a88c8c"><div class="ttname"><a href="README__ALTIVEC_8txt.html#a9aacd9146afe44bf656cd664e2a88c8c">C</a></div><div class="ttdeci">(vector float) vec_cmpeq(*A, *B) C</div><div class="ttdef"><b>Definition:</b> <a href="README__ALTIVEC_8txt_source.html#l00086">README_ALTIVEC.txt:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html_a850d8262cd900958b3153c4aa080b2bb"><div class="ttname"><a href="classllvm_1_1CallInst.html#a850d8262cd900958b3153c4aa080b2bb">llvm::CallInst::Create</a></div><div class="ttdeci">static CallInst * Create(FunctionType *Ty, Value *F, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01528">Instructions.h:1528</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3aa51abe13c3e6781c9ed5ae922d2a4eb7"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa51abe13c3e6781c9ed5ae922d2a4eb7">llvm::BPFCoreSharedInfo::FIELD_EXISTENCE</a></div><div class="ttdeci">@ FIELD_EXISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00025">BPFCORE.h:25</a></div></div>
<div class="ttc" id="aclassllvm_1_1DINode_html_a13471a1f55ae60d82d774585bfd3c5da"><div class="ttname"><a href="classllvm_1_1DINode.html#a13471a1f55ae60d82d774585bfd3c5da">llvm::DINode::getTag</a></div><div class="ttdeci">dwarf::Tag getTag() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8cpp_source.html#l00217">DebugInfoMetadata.cpp:217</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3aac1e7167ccd299518d93086e8f388f20"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aac1e7167ccd299518d93086e8f388f20">llvm::BPFCoreSharedInfo::FIELD_SIGNEDNESS</a></div><div class="ttdeci">@ FIELD_SIGNEDNESS</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00026">BPFCORE.h:26</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html_a777848a3e8c10c10721c852d4efb9e3b"><div class="ttname"><a href="classllvm_1_1DIType.html#a777848a3e8c10c10721c852d4efb9e3b">llvm::DIType::getName</a></div><div class="ttdeci">StringRef getName() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00743">DebugInfoMetadata.h:743</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a25f1fd81f2132805676c82ab8ae0c109"><div class="ttname"><a href="classllvm_1_1StringRef.html#a25f1fd81f2132805676c82ab8ae0c109">llvm::StringRef::substr</a></div><div class="ttdeci">constexpr StringRef substr(size_t Start, size_t N=npos) const</div><div class="ttdoc">Return a reference to the substring from [Start, Start + N).</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00559">StringRef.h:559</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubrange_html"><div class="ttname"><a href="classllvm_1_1DISubrange.html">llvm::DISubrange</a></div><div class="ttdoc">Array subrange.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00337">DebugInfoMetadata.h:337</a></div></div>
<div class="ttc" id="astructllvm_1_1MaybeAlign_html"><div class="ttname"><a href="structllvm_1_1MaybeAlign.html">llvm::MaybeAlign</a></div><div class="ttdoc">This struct is a compact representation of a valid (power of two) or undefined (0) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00117">Alignment.h:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1IntegerType_html"><div class="ttname"><a href="classllvm_1_1IntegerType.html">llvm::IntegerType</a></div><div class="ttdoc">Class to represent integer types.</div><div class="ttdef"><b>Definition:</b> <a href="DerivedTypes_8h_source.html#l00040">DerivedTypes.h:40</a></div></div>
<div class="ttc" id="aclassllvm_1_1Instruction_html"><div class="ttname"><a href="classllvm_1_1Instruction.html">llvm::Instruction</a></div><div class="ttdef"><b>Definition:</b> <a href="IR_2Instruction_8h_source.html#l00041">Instruction.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_af763d890b27bbeacc1b06636740de9a1"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#af763d890b27bbeacc1b06636740de9a1">llvm::GlobalVariable::addAttribute</a></div><div class="ttdeci">void addAttribute(Attribute::AttrKind Kind)</div><div class="ttdoc">Add attribute to this global.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00187">GlobalVariable.h:187</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023">llvm::MCID::Flag</a></div><div class="ttdeci">Flag</div><div class="ttdoc">These should be considered private to the implementation of the MCInstrDesc class.</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00148">MCInstrDesc.h:148</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2a3d4dcfee70225988aec53ff1e173"><div class="ttname"><a href="namespacellvm.html#a7f2a3d4dcfee70225988aec53ff1e173">llvm::report_fatal_error</a></div><div class="ttdeci">void report_fatal_error(Error Err, bool gen_crash_diag=true)</div><div class="ttdoc">Report a serious error, calling any installed error handler.</div><div class="ttdef"><b>Definition:</b> <a href="Testing_2Support_2Error_8cpp_source.html#l00145">Error.cpp:145</a></div></div>
<div class="ttc" id="aclassllvm_1_1APInt_html_a217e0207d9cc8e046c2dccbf0e4bb198"><div class="ttname"><a href="classllvm_1_1APInt.html#a217e0207d9cc8e046c2dccbf0e4bb198">llvm::APInt::getZExtValue</a></div><div class="ttdeci">uint64_t getZExtValue() const</div><div class="ttdoc">Get zero extended value.</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l01494">APInt.h:1494</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFAbstractMemberAccessPass_html_a6dc0d5add9dd3e49bf053ce9eed7a998"><div class="ttname"><a href="classllvm_1_1BPFAbstractMemberAccessPass.html#a6dc0d5add9dd3e49bf053ce9eed7a998">llvm::BPFAbstractMemberAccessPass::run</a></div><div class="ttdeci">PreservedAnalyses run(Function &amp;F, FunctionAnalysisManager &amp;AM)</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l01217">BPFAbstractMemberAccess.cpp:1217</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantInt_html_a969709dd49c28865a482d8b870f87c46"><div class="ttname"><a href="classllvm_1_1ConstantInt.html#a969709dd49c28865a482d8b870f87c46">llvm::ConstantInt::get</a></div><div class="ttdeci">static Constant * get(Type *Ty, uint64_t V, bool IsSigned=false)</div><div class="ttdoc">If Ty is a vector type, return a Constant with a splat of the given value.</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8cpp_source.html#l00887">Constants.cpp:887</a></div></div>
<div class="ttc" id="aELFObjHandler_8cpp_html_a043cdaf7b89aaeeb127be5d93411637f"><div class="ttname"><a href="ELFObjHandler_8cpp.html#a043cdaf7b89aaeeb127be5d93411637f">Align</a></div><div class="ttdeci">uint64_t Align</div><div class="ttdef"><b>Definition:</b> <a href="ELFObjHandler_8cpp_source.html#l00082">ELFObjHandler.cpp:82</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html"><div class="ttname"><a href="structllvm_1_1Align.html">llvm::Align</a></div><div class="ttdoc">This struct is a compact representation of a valid (non-zero power of two) alignment.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00039">Alignment.h:39</a></div></div>
<div class="ttc" id="anamespacellvm_1_1MCID_html_ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f"><div class="ttname"><a href="namespacellvm_1_1MCID.html#ab357441fcd1ea1f9b0d27c12700f6023a463baf545246fea9718664d933ffe66f">llvm::MCID::Call</a></div><div class="ttdeci">@ Call</div><div class="ttdef"><b>Definition:</b> <a href="MCInstrDesc_8h_source.html#l00156">MCInstrDesc.h:156</a></div></div>
<div class="ttc" id="aclassllvm_1_1Metadata_html"><div class="ttname"><a href="classllvm_1_1Metadata.html">llvm::Metadata</a></div><div class="ttdoc">Root of the metadata hierarchy.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00061">Metadata.h:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a5fc23559f17bbe5ff83ec0fed0a5fdcf"><div class="ttname"><a href="classllvm_1_1Triple.html#a5fc23559f17bbe5ff83ec0fed0a5fdcf">llvm::Triple::getArch</a></div><div class="ttdeci">ArchType getArch() const</div><div class="ttdoc">Get the parsed architecture type of this triple.</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00355">Triple.h:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_a72bd0b0c1f71f6d6b41db97476da3e80ad7a6b49ef9bad33727d562a1f5a1103a"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80ad7a6b49ef9bad33727d562a1f5a1103a">llvm::BPFCoreSharedInfo::PRESERVE_TYPE_INFO_MATCH</a></div><div class="ttdeci">@ PRESERVE_TYPE_INFO_MATCH</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00050">BPFCORE.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1lltok_html_af353621f14cb4b4b3af5ffaff84076b1"><div class="ttname"><a href="namespacellvm_1_1lltok.html#af353621f14cb4b4b3af5ffaff84076b1">llvm::lltok::Kind</a></div><div class="ttdeci">Kind</div><div class="ttdef"><b>Definition:</b> <a href="LLToken_8h_source.html#l00018">LLToken.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="aType_8h_html"><div class="ttname"><a href="Type_8h.html">Type.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dxil_1_1PointerTypeAnalysis_html_ae574a4c1d84b9e67bc94489f356805b4"><div class="ttname"><a href="namespacellvm_1_1dxil_1_1PointerTypeAnalysis.html#ae574a4c1d84b9e67bc94489f356805b4">llvm::dxil::PointerTypeAnalysis::run</a></div><div class="ttdeci">PointerTypeMap run(const Module &amp;M)</div><div class="ttdoc">Compute the PointerTypeMap for the module M.</div><div class="ttdef"><b>Definition:</b> <a href="PointerTypeAnalysis_8cpp_source.html#l00189">PointerTypeAnalysis.cpp:189</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a2dc80c585ad5882da8cae7b5968f7e74"><div class="ttname"><a href="classllvm_1_1StringRef.html#a2dc80c585ad5882da8cae7b5968f7e74">llvm::StringRef::empty</a></div><div class="ttdeci">constexpr bool empty() const</div><div class="ttdoc">empty - Check if the string is empty.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00134">StringRef.h:134</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AArch64PACKey_html_abf4394f452bde3f544999858d71e4b46a4babe0d4b2a36f887f48dfeb4b4a7cc6"><div class="ttname"><a href="namespacellvm_1_1AArch64PACKey.html#abf4394f452bde3f544999858d71e4b46a4babe0d4b2a36f887f48dfeb4b4a7cc6">llvm::AArch64PACKey::DA</a></div><div class="ttdeci">@ DA</div><div class="ttdef"><b>Definition:</b> <a href="AArch64BaseInfo_8h_source.html#l00793">AArch64BaseInfo.h:793</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3a23a7d39373aae3e3b862c0d55b8eff59"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a23a7d39373aae3e3b862c0d55b8eff59">llvm::BPFCoreSharedInfo::MAX_FIELD_RELOC_KIND</a></div><div class="ttdeci">@ MAX_FIELD_RELOC_KIND</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00037">BPFCORE.h:37</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalVariable_html_a0e5946885029c1bce1350d34f2539b1b"><div class="ttname"><a href="classllvm_1_1GlobalVariable.html#a0e5946885029c1bce1350d34f2539b1b">llvm::GlobalVariable::getInitializer</a></div><div class="ttdeci">const Constant * getInitializer() const</div><div class="ttdoc">getInitializer - Return the initializer for this global variable.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalVariable_8h_source.html#l00135">GlobalVariable.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1Constant_html"><div class="ttname"><a href="classllvm_1_1Constant.html">llvm::Constant</a></div><div class="ttdoc">This is an important base class in LLVM.</div><div class="ttdef"><b>Definition:</b> <a href="Constant_8h_source.html#l00041">Constant.h:41</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompositeType_html_a8cee69d690ed86ce76452279e28793a5"><div class="ttname"><a href="classllvm_1_1DICompositeType.html#a8cee69d690ed86ce76452279e28793a5">llvm::DICompositeType::getElements</a></div><div class="ttdeci">DINodeArray getElements() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01217">DebugInfoMetadata.h:1217</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3aa99003ed3c0a1f795cb5622af3e5ae2d"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aa99003ed3c0a1f795cb5622af3e5ae2d">llvm::BPFCoreSharedInfo::ENUM_VALUE</a></div><div class="ttdeci">@ ENUM_VALUE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00034">BPFCORE.h:34</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3a39c7c23bf86c714d22e746731be894f1"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a39c7c23bf86c714d22e746731be894f1">llvm::BPFCoreSharedInfo::FIELD_BYTE_OFFSET</a></div><div class="ttdeci">@ FIELD_BYTE_OFFSET</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00023">BPFCORE.h:23</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConstantDataArray_html"><div class="ttname"><a href="classllvm_1_1ConstantDataArray.html">llvm::ConstantDataArray</a></div><div class="ttdoc">An array constant whose element type is a simple 1/2/4/8-byte integer or float/double,...</div><div class="ttdef"><b>Definition:</b> <a href="Constants_8h_source.html#l00678">Constants.h:678</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_adee485b8d8a010d18877f5f41286b079"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#adee485b8d8a010d18877f5f41286b079">llvm::BPFCoreSharedInfo::insertPassThrough</a></div><div class="ttdeci">static Instruction * insertPassThrough(Module *M, BasicBlock *BB, Instruction *Input, Instruction *Before)</div><div class="ttdoc">Insert a bpf passthrough builtin function.</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00101">BPFAbstractMemberAccess.cpp:101</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html">llvm::GetElementPtrInst</a></div><div class="ttdoc">an instruction for type-safe pointer arithmetic to access elements of arrays and structs</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00940">Instructions.h:940</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_a9a94c15dff322a963b566d486dd673b5"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a9a94c15dff322a963b566d486dd673b5">llvm::GetElementPtrInst::CreateInBounds</a></div><div class="ttdeci">static GetElementPtrInst * CreateInBounds(Type *PointeeType, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdoc">Create an &quot;inbounds&quot; getelementptr.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00993">Instructions.h:993</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_a72bd0b0c1f71f6d6b41db97476da3e80a03be2c343e8e68c15daf556ebbf03c1c"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#a72bd0b0c1f71f6d6b41db97476da3e80a03be2c343e8e68c15daf556ebbf03c1c">llvm::BPFCoreSharedInfo::PRESERVE_TYPE_INFO_EXISTENCE</a></div><div class="ttdeci">@ PRESERVE_TYPE_INFO_EXISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00048">BPFCORE.h:48</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1TargetMachine_html"><div class="ttname"><a href="classllvm_1_1TargetMachine.html">llvm::TargetMachine</a></div><div class="ttdoc">Primary interface to the complete machine description for the target machine.</div><div class="ttdef"><b>Definition:</b> <a href="Target_2TargetMachine_8h_source.html#l00078">TargetMachine.h:78</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_ad78e062f62e0d6e453941fb4ca843e4d"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">DEBUG_TYPE</a></div><div class="ttdeci">#define DEBUG_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00095">BPFAbstractMemberAccess.cpp:95</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30ba9e0e31246b7b078403969b265870b3f4"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30ba9e0e31246b7b078403969b265870b3f4">llvm::pdb::PDB_SymType::Dimension</a></div><div class="ttdeci">@ Dimension</div></div>
<div class="ttc" id="aclassllvm_1_1Triple_html_a547abd13f7a3c063aa72c8192a868154a83d003d0efa0cd997646dc0343d7093f"><div class="ttname"><a href="classllvm_1_1Triple.html#a547abd13f7a3c063aa72c8192a868154a83d003d0efa0cd997646dc0343d7093f">llvm::Triple::bpfel</a></div><div class="ttdeci">@ bpfel</div><div class="ttdef"><b>Definition:</b> <a href="Triple_8h_source.html#l00056">Triple.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html_a293fde7dd669a4357ec82df74d685f9b"><div class="ttname"><a href="classllvm_1_1DIType.html#a293fde7dd669a4357ec82df74d685f9b">llvm::DIType::isBitField</a></div><div class="ttdeci">bool isBitField() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00773">DebugInfoMetadata.h:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3a71c98d3d6366f484cbf3e10c3a61c241"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a71c98d3d6366f484cbf3e10c3a61c241">llvm::BPFCoreSharedInfo::TYPE_SIZE</a></div><div class="ttdeci">@ TYPE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00032">BPFCORE.h:32</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MDNode_html"><div class="ttname"><a href="classllvm_1_1MDNode.html">llvm::MDNode</a></div><div class="ttdoc">Metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8h_source.html#l00943">Metadata.h:943</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3aff6026e4848afef1ded723251a4b1723"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3aff6026e4848afef1ded723251a4b1723">llvm::BPFCoreSharedInfo::FIELD_BYTE_SIZE</a></div><div class="ttdeci">@ FIELD_BYTE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00024">BPFCORE.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1GetElementPtrInst_html_a74c47d18ecd4ca3399785e6ae07134dc"><div class="ttname"><a href="classllvm_1_1GetElementPtrInst.html#a74c47d18ecd4ca3399785e6ae07134dc">llvm::GetElementPtrInst::Create</a></div><div class="ttdeci">static GetElementPtrInst * Create(Type *PointeeType, Value *Ptr, ArrayRef&lt; Value * &gt; IdxList, const Twine &amp;NameStr=&quot;&quot;, Instruction *InsertBefore=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00966">Instructions.h:966</a></div></div>
<div class="ttc" id="aclassllvm_1_1DICompositeType_html"><div class="ttname"><a href="classllvm_1_1DICompositeType.html">llvm::DICompositeType</a></div><div class="ttdoc">Composite types.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01083">DebugInfoMetadata.h:1083</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html"><div class="ttname"><a href="classllvm_1_1StringRef.html">llvm::StringRef</a></div><div class="ttdoc">StringRef - Represent a constant reference to a string, i.e.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00050">StringRef.h:50</a></div></div>
<div class="ttc" id="aDwarf_8h_html"><div class="ttname"><a href="Dwarf_8h.html">Dwarf.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DINode_html"><div class="ttname"><a href="classllvm_1_1DINode.html">llvm::DINode</a></div><div class="ttdoc">Tagged DWARF-like metadata node.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00130">DebugInfoMetadata.h:130</a></div></div>
<div class="ttc" id="anamespacellvm_1_1logicalview_html_a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875"><div class="ttname"><a href="namespacellvm_1_1logicalview.html#a9696bc411b0a7022c2cc78bff5173cefad7ed4ee1df437474d005188535f74875">llvm::logicalview::LVAttributeKind::Zero</a></div><div class="ttdeci">@ Zero</div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_a6393a2d4fe7e10b28a0dcc35f881567b"><div class="ttname"><a href="classllvm_1_1Value.html#a6393a2d4fe7e10b28a0dcc35f881567b">llvm::Value::getType</a></div><div class="ttdeci">Type * getType() const</div><div class="ttdoc">All values are typed, get the type of this value.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00255">Value.h:255</a></div></div>
<div class="ttc" id="anamespacellvm_html_a4e6fa25d084d945fc4c6c68c1361fe6c"><div class="ttname"><a href="namespacellvm.html#a4e6fa25d084d945fc4c6c68c1361fe6c">llvm::createBPFAbstractMemberAccess</a></div><div class="ttdeci">FunctionPass * createBPFAbstractMemberAccess(BPFTargetMachine *TM)</div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_ad467c4ab9119043f9b7750ab986be61a"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#ad467c4ab9119043f9b7750ab986be61a">DL</a></div><div class="ttdeci">MachineBasicBlock MachineBasicBlock::iterator DebugLoc DL</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00076">AArch64SLSHardening.cpp:76</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a33e853ec74d48b1340d1d4bae772d30bacf20423ed48998082c20099488a0917c"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a33e853ec74d48b1340d1d4bae772d30bacf20423ed48998082c20099488a0917c">llvm::pdb::PDB_SymType::Enum</a></div><div class="ttdeci">@ Enum</div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_abf9930915d15aa0be8bab24368dc4ce5a1003a7e958cea4b90a901d90230b93e7"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#abf9930915d15aa0be8bab24368dc4ce5a1003a7e958cea4b90a901d90230b93e7">llvm::BPFCoreSharedInfo::PRESERVE_ENUM_VALUE_EXISTENCE</a></div><div class="ttdeci">@ PRESERVE_ENUM_VALUE_EXISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00056">BPFCORE.h:56</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3a8897f376e45aac262ab66a0035d506f3"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3a8897f376e45aac262ab66a0035d506f3">llvm::BPFCoreSharedInfo::ENUM_VALUE_EXISTENCE</a></div><div class="ttdeci">@ ENUM_VALUE_EXISTENCE</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00033">BPFCORE.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LoadInst_html"><div class="ttname"><a href="classllvm_1_1LoadInst.html">llvm::LoadInst</a></div><div class="ttdoc">An instruction for reading from memory.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l00177">Instructions.h:177</a></div></div>
<div class="ttc" id="anamespacellvm_1_1Intrinsic_html_aefa39f6b622360ce4e947feb9f671b73"><div class="ttname"><a href="namespacellvm_1_1Intrinsic.html#aefa39f6b622360ce4e947feb9f671b73">llvm::Intrinsic::getDeclaration</a></div><div class="ttdeci">Function * getDeclaration(Module *M, ID id, ArrayRef&lt; Type * &gt; Tys=std::nullopt)</div><div class="ttdoc">Create or insert an LLVM Function declaration for an intrinsic, and return it.</div><div class="ttdef"><b>Definition:</b> <a href="Function_8cpp_source.html#l01502">Function.cpp:1502</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFTargetMachine_html"><div class="ttname"><a href="classllvm_1_1BPFTargetMachine.html">llvm::BPFTargetMachine</a></div><div class="ttdef"><b>Definition:</b> <a href="BPFTargetMachine_8h_source.html#l00021">BPFTargetMachine.h:21</a></div></div>
<div class="ttc" id="aEntryExitInstrumenter_8cpp_html_a3985f1f39349428d17f0d2b81ebc6349"><div class="ttname"><a href="EntryExitInstrumenter_8cpp.html#a3985f1f39349428d17f0d2b81ebc6349">runOnFunction</a></div><div class="ttdeci">static bool runOnFunction(Function &amp;F, bool PostInlining)</div><div class="ttdef"><b>Definition:</b> <a href="EntryExitInstrumenter_8cpp_source.html#l00085">EntryExitInstrumenter.cpp:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIType_html_a51bdaf390bf24c47c391f32f957e56c3"><div class="ttname"><a href="classllvm_1_1DIType.html#a51bdaf390bf24c47c391f32f957e56c3">llvm::DIType::getOffsetInBits</a></div><div class="ttdeci">uint64_t getOffsetInBits() const</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00739">DebugInfoMetadata.h:739</a></div></div>
<div class="ttc" id="aclassllvm_1_1Type_html_a05186fa23e4d11b9855a9599ba87a4b7"><div class="ttname"><a href="classllvm_1_1Type.html#a05186fa23e4d11b9855a9599ba87a4b7">llvm::Type::getInt64Ty</a></div><div class="ttdeci">static IntegerType * getInt64Ty(LLVMContext &amp;C)</div><div class="ttdef"><b>Definition:</b> <a href="Type_8cpp_source.html#l00242">Type.cpp:242</a></div></div>
<div class="ttc" id="anamespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key_html_a83cbd52c306095883d3bada71c14d9a5"><div class="ttname"><a href="namespacellvm_1_1AMDGPU_1_1HSAMD_1_1Kernel_1_1Arg_1_1Key.html#a83cbd52c306095883d3bada71c14d9a5">llvm::AMDGPU::HSAMD::Kernel::Arg::Key::TypeName</a></div><div class="ttdeci">constexpr char TypeName[]</div><div class="ttdoc">Key for Kernel::Arg::Metadata::mTypeName.</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPUMetadata_8h_source.html#l00175">AMDGPUMetadata.h:175</a></div></div>
<div class="ttc" id="aclassllvm_1_1PreservedAnalyses_html_a1258a1ff55557c27684010ebd7283712"><div class="ttname"><a href="classllvm_1_1PreservedAnalyses.html#a1258a1ff55557c27684010ebd7283712">llvm::PreservedAnalyses::all</a></div><div class="ttdeci">static PreservedAnalyses all()</div><div class="ttdoc">Construct a special preserved set that preserves all passes.</div><div class="ttdef"><b>Definition:</b> <a href="PassManager_8h_source.html#l00158">PassManager.h:158</a></div></div>
<div class="ttc" id="astructllvm_1_1Align_html_a80735739b49cf97a491922c8f9af2cc1"><div class="ttname"><a href="structllvm_1_1Align.html#a80735739b49cf97a491922c8f9af2cc1">llvm::Align::value</a></div><div class="ttdeci">uint64_t value() const</div><div class="ttdoc">This is a hole in the type system and should not be abused.</div><div class="ttdef"><b>Definition:</b> <a href="Alignment_8h_source.html#l00085">Alignment.h:85</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_a215f6a7826a97b38b8e4f1ebd9f0ab54"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#a215f6a7826a97b38b8e4f1ebd9f0ab54">stripQualifiers</a></div><div class="ttdeci">static DIType * stripQualifiers(DIType *Ty, bool skipTypedef=true)</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00316">BPFAbstractMemberAccess.cpp:316</a></div></div>
<div class="ttc" id="aGlobalVariable_8h_html"><div class="ttname"><a href="GlobalVariable_8h.html">GlobalVariable.h</a></div></div>
<div class="ttc" id="aBPFCORE_8h_html"><div class="ttname"><a href="BPFCORE_8h.html">BPFCORE.h</a></div></div>
<div class="ttc" id="aPassManager_8h_html"><div class="ttname"><a href="PassManager_8h.html">PassManager.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1DIDerivedType_html"><div class="ttname"><a href="classllvm_1_1DIDerivedType.html">llvm::DIDerivedType</a></div><div class="ttdoc">Derived types.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l00963">DebugInfoMetadata.h:963</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalValue_html_aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e"><div class="ttname"><a href="classllvm_1_1GlobalValue.html#aedfa75f0c85c4aa85b257f066fbea57ca6c93794d7b99cd433e96c53eadb15a6e">llvm::GlobalValue::ExternalLinkage</a></div><div class="ttdeci">@ ExternalLinkage</div><div class="ttdoc">Externally visible function.</div><div class="ttdef"><b>Definition:</b> <a href="GlobalValue_8h_source.html#l00048">GlobalValue.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_af6913d71a49a3da6e91a2afa6a0cf644"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#af6913d71a49a3da6e91a2afa6a0cf644">llvm::BPFCoreSharedInfo::AmaAttr</a></div><div class="ttdeci">static constexpr StringRef AmaAttr</div><div class="ttdoc">The attribute attached to globals representing a field access.</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00063">BPFCORE.h:63</a></div></div>
<div class="ttc" id="aclassllvm_1_1GlobalObject_html_a338590123630c357df6340c38d066572"><div class="ttname"><a href="classllvm_1_1GlobalObject.html#a338590123630c357df6340c38d066572">llvm::GlobalObject::setMetadata</a></div><div class="ttdeci">void setMetadata(unsigned KindID, MDNode *Node)</div><div class="ttdoc">Set a particular kind of metadata attachment.</div><div class="ttdef"><b>Definition:</b> <a href="Metadata_8cpp_source.html#l01325">Metadata.cpp:1325</a></div></div>
<div class="ttc" id="aInstructions_8h_html"><div class="ttname"><a href="Instructions_8h.html">Instructions.h</a></div></div>
<div class="ttc" id="aUser_8h_html"><div class="ttname"><a href="User_8h.html">User.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3afdd5dad008db81cb8f286c32444f125b"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3afdd5dad008db81cb8f286c32444f125b">llvm::BPFCoreSharedInfo::FIELD_LSHIFT_U64</a></div><div class="ttdeci">@ FIELD_LSHIFT_U64</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00027">BPFCORE.h:27</a></div></div>
<div class="ttc" id="anamespacellvm_html_a13c1b5a253da5da49ce33d03dc1efc07"><div class="ttname"><a href="namespacellvm.html#a13c1b5a253da5da49ce33d03dc1efc07">llvm::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;Value)</div><div class="ttdef"><b>Definition:</b> <a href="ScopedPrinter_8h_source.html#l00085">ScopedPrinter.h:85</a></div></div>
<div class="ttc" id="aclassllvm_1_1DISubprogram_html"><div class="ttname"><a href="classllvm_1_1DISubprogram.html">llvm::DISubprogram</a></div><div class="ttdoc">Subprogram description.</div><div class="ttdef"><b>Definition:</b> <a href="DebugInfoMetadata_8h_source.html#l01851">DebugInfoMetadata.h:1851</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisManager_html"><div class="ttname"><a href="classllvm_1_1AnalysisManager.html">llvm::AnalysisManager</a></div><div class="ttdoc">A container for analyses that lazily runs them and caches their results.</div><div class="ttdef"><b>Definition:</b> <a href="InstructionSimplify_8h_source.html#l00042">InstructionSimplify.h:42</a></div></div>
<div class="ttc" id="aclassllvm_1_1StringRef_html_a223dd14e7d12bc5cea01889b972a98b2"><div class="ttname"><a href="classllvm_1_1StringRef.html#a223dd14e7d12bc5cea01889b972a98b2">llvm::StringRef::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdoc">str - Get the contents as an std::string.</div><div class="ttdef"><b>Definition:</b> <a href="StringRef_8h_source.html#l00222">StringRef.h:222</a></div></div>
<div class="ttc" id="aPassBuilderBindings_8cpp_html_ab76052bb166c65901edb603a3e1f03ab"><div class="ttname"><a href="PassBuilderBindings_8cpp.html#ab76052bb166c65901edb603a3e1f03ab">TM</a></div><div class="ttdeci">const char LLVMTargetMachineRef TM</div><div class="ttdef"><b>Definition:</b> <a href="PassBuilderBindings_8cpp_source.html#l00047">PassBuilderBindings.cpp:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1FunctionPass_html"><div class="ttname"><a href="classllvm_1_1FunctionPass.html">llvm::FunctionPass</a></div><div class="ttdoc">FunctionPass class - This class is used to implement most global optimizations.</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8h_source.html#l00308">Pass.h:308</a></div></div>
<div class="ttc" id="aclassllvm_1_1CallInst_html"><div class="ttname"><a href="classllvm_1_1CallInst.html">llvm::CallInst</a></div><div class="ttdoc">This class represents a function call, abstracting a target machine's calling convention.</div><div class="ttdef"><b>Definition:</b> <a href="Instructions_8h_source.html#l01485">Instructions.h:1485</a></div></div>
<div class="ttc" id="alib_2CodeGen_2README_8txt_html_a09776db24cf586ec9f1e18f3bae14099"><div class="ttname"><a href="lib_2CodeGen_2README_8txt.html#a09776db24cf586ec9f1e18f3bae14099">BB</a></div><div class="ttdeci">Common register allocation spilling lr str ldr sxth r3 ldr mla r4 can lr mov lr str ldr sxth r3 mla r4 and then merge mul and lr str ldr sxth r3 mla r4 It also increase the likelihood the store may become dead bb27 Successors according to LLVM BB</div><div class="ttdef"><b>Definition:</b> <a href="lib_2CodeGen_2README_8txt_source.html#l00039">README.txt:39</a></div></div>
<div class="ttc" id="aHexagonCommonGEP_8cpp_html_ad532e8710e50302e0a376b61c91fa91d"><div class="ttname"><a href="HexagonCommonGEP_8cpp.html#ad532e8710e50302e0a376b61c91fa91d">GEP</a></div><div class="ttdeci">Hexagon Common GEP</div><div class="ttdef"><b>Definition:</b> <a href="HexagonCommonGEP_8cpp_source.html#l00171">HexagonCommonGEP.cpp:171</a></div></div>
<div class="ttc" id="aBPFAbstractMemberAccess_8cpp_html_a40c96513b7af9ec23c93a8dd224bf1d0"><div class="ttname"><a href="BPFAbstractMemberAccess_8cpp.html#a40c96513b7af9ec23c93a8dd224bf1d0">INITIALIZE_PASS</a></div><div class="ttdeci">INITIALIZE_PASS(BPFAbstractMemberAccessLegacyPass, DEBUG_TYPE, &quot;BPF Abstract Member Access&quot;, false, false) FunctionPass *llvm</div><div class="ttdef"><b>Definition:</b> <a href="BPFAbstractMemberAccess_8cpp_source.html#l00213">BPFAbstractMemberAccess.cpp:213</a></div></div>
<div class="ttc" id="aBasicBlockUtils_8h_html"><div class="ttname"><a href="BasicBlockUtils_8h.html">BasicBlockUtils.h</a></div></div>
<div class="ttc" id="aValue_8h_html"><div class="ttname"><a href="Value_8h.html">Value.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BPFCoreSharedInfo_html_aea1503495b24f30cb9441afa0e6b4cd3af5aaaaf20f4a5fd0a8232e981a93e332"><div class="ttname"><a href="classllvm_1_1BPFCoreSharedInfo.html#aea1503495b24f30cb9441afa0e6b4cd3af5aaaaf20f4a5fd0a8232e981a93e332">llvm::BPFCoreSharedInfo::TYPE_MATCH</a></div><div class="ttdeci">@ TYPE_MATCH</div><div class="ttdef"><b>Definition:</b> <a href="BPFCORE_8h_source.html#l00035">BPFCORE.h:35</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html"><div class="ttname"><a href="classllvm_1_1Value.html">llvm::Value</a></div><div class="ttdoc">LLVM Value Representation.</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00074">Value.h:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1Value_html_ab4e0512c7e1c7adaa56677e3155685f1"><div class="ttname"><a href="classllvm_1_1Value.html#ab4e0512c7e1c7adaa56677e3155685f1">llvm::Value::users</a></div><div class="ttdeci">iterator_range&lt; user_iterator &gt; users()</div><div class="ttdef"><b>Definition:</b> <a href="Value_8h_source.html#l00421">Value.h:421</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sampleprof_html_a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41"><div class="ttname"><a href="namespacellvm_1_1sampleprof.html#a702f69807459cc25db5754a5f179d3fcaf6fbeb8fa9f451468611536b00878d41">llvm::sampleprof::Base</a></div><div class="ttdeci">@ Base</div><div class="ttdef"><b>Definition:</b> <a href="Discriminator_8h_source.html#l00058">Discriminator.h:58</a></div></div>
<div class="ttc" id="aBPFTargetMachine_8h_html"><div class="ttname"><a href="BPFTargetMachine_8h.html">BPFTargetMachine.h</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 10:11:33 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
