<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LLVM: lib/CodeGen/LiveIntervals.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LLVM
   &#160;<span id="projectnumber">17.0.0git</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_1e8ad0574bd6e387992681ee57691a07.html">CodeGen</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">LiveIntervals.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="LiveIntervals_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//===- LiveIntervals.cpp - Live Interval Analysis -------------------------===//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// See https://llvm.org/LICENSE.txt for license information.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">/// \file This file implements the LiveInterval analysis pass which is used</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">/// by the Linear Scan Register allocator. This pass linearizes the</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/// basic blocks of the function in DFS order and computes live intervals for</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">/// each virtual and physical register.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervals_8h.html">llvm/CodeGen/LiveIntervals.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ArrayRef_8h.html">llvm/ADT/ArrayRef.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="DepthFirstIterator_8h.html">llvm/ADT/DepthFirstIterator.h</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallPtrSet_8h.html">llvm/ADT/SmallPtrSet.h</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SmallVector_8h.html">llvm/ADT/SmallVector.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="iterator__range_8h.html">llvm/ADT/iterator_range.h</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveInterval_8h.html">llvm/CodeGen/LiveInterval.h</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveIntervalCalc_8h.html">llvm/CodeGen/LiveIntervalCalc.h</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LiveVariables_8h.html">llvm/CodeGen/LiveVariables.h</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBasicBlock_8h.html">llvm/CodeGen/MachineBasicBlock.h</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineBlockFrequencyInfo_8h.html">llvm/CodeGen/MachineBlockFrequencyInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineDominators_8h.html">llvm/CodeGen/MachineDominators.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineFunction_8h.html">llvm/CodeGen/MachineFunction.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstr_8h.html">llvm/CodeGen/MachineInstr.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineInstrBundle_8h.html">llvm/CodeGen/MachineInstrBundle.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineOperand_8h.html">llvm/CodeGen/MachineOperand.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MachineRegisterInfo_8h.html">llvm/CodeGen/MachineRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CodeGen_2Passes_8h.html">llvm/CodeGen/Passes.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="SlotIndexes_8h.html">llvm/CodeGen/SlotIndexes.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="StackMaps_8h.html">llvm/CodeGen/StackMaps.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetRegisterInfo_8h.html">llvm/CodeGen/TargetRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TargetSubtargetInfo_8h.html">llvm/CodeGen/TargetSubtargetInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="VirtRegMap_8h.html">llvm/CodeGen/VirtRegMap.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;llvm/Config/llvm-config.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Statepoint_8h.html">llvm/IR/Statepoint.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="LaneBitmask_8h.html">llvm/MC/LaneBitmask.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MCRegisterInfo_8h.html">llvm/MC/MCRegisterInfo.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pass_8h.html">llvm/Pass.h</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="CommandLine_8h.html">llvm/Support/CommandLine.h</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Compiler_8h.html">llvm/Support/Compiler.h</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Debug_8h.html">llvm/Support/Debug.h</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MathExtras_8h.html">llvm/Support/MathExtras.h</a>&quot;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="raw__ostream_8h.html">llvm/Support/raw_ostream.h</a>&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &lt;cstdint&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &lt;iterator&gt;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacellvm.html">llvm</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="LiveIntervals_8cpp.html#ad78e062f62e0d6e453941fb4ca843e4d">   58</a></span>&#160;<span class="preprocessor">#define DEBUG_TYPE &quot;regalloc&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keywordtype">char</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ada20152edd7591ed264952fd22045f60">LiveIntervals::ID</a> = 0;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="namespacellvm.html#af56d7262a98bdac56243b683eedcbde5">   61</a></span>&#160;<span class="keywordtype">char</span> &amp;<a class="code" href="namespacellvm.html#af56d7262a98bdac56243b683eedcbde5">llvm::LiveIntervalsID</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#ada20152edd7591ed264952fd22045f60">LiveIntervals::ID</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<a class="code" href="LiveIntervals_8cpp.html#acf474e548612fd90307547bd1f453e0e">INITIALIZE_PASS_BEGIN</a>(<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>, <span class="stringliteral">&quot;liveintervals&quot;</span>, <span class="stringliteral">&quot;Live Interval Analysis&quot;</span>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                      <span class="keyword">false</span>, <span class="keyword">false</span>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1MachineDominatorTree.html">MachineDominatorTree</a>)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<a class="code" href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a>(<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>)</div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="LiveIntervals_8cpp.html#af19584804e7feb857e42a61687937eed">   66</a></span>&#160;<a class="code" href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a>(<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>, &quot;<a class="code" href="LiveIntervals_8cpp.html#af19584804e7feb857e42a61687937eed">liveintervals</a>&quot;,</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="LiveIntervals_8cpp.html#ae8d781bf9b41d963705a115ea7070fcb">   67</a></span>&#160;                &quot;Live <a class="code" href="classllvm_1_1Interval.html">Interval</a> Analysis&quot;, <a class="code" href="namespacefalse.html">false</a>, <a class="code" href="namespacefalse.html">false</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">static</span> <a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="LiveIntervals_8cpp.html#ad98a53d8252c337193b3f37404b3cf3d">EnablePrecomputePhysRegs</a>(</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="stringliteral">&quot;precompute-phys-liveness&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(<span class="stringliteral">&quot;Eagerly compute live intervals for all physreg units.&quot;</span>));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LiveIntervals_8cpp.html#ad98a53d8252c337193b3f37404b3cf3d">EnablePrecomputePhysRegs</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#endif // NDEBUG</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacellvm.html">llvm</a> {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<a class="code" href="classllvm_1_1cl_1_1opt.html">cl::opt&lt;bool&gt;</a> <a class="code" href="namespacellvm.html#a6c039132ae0bc895e8c4eeee1f1f59ad">UseSegmentSetForPhysRegs</a>(</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="stringliteral">&quot;use-segment-set-for-physregs&quot;</span>, <a class="code" href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">cl::Hidden</a>, <a class="code" href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">cl::init</a>(<span class="keyword">true</span>),</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="structllvm_1_1cl_1_1desc.html">cl::desc</a>(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="stringliteral">&quot;Use segment set for the computation of the live ranges of physregs.&quot;</span>));</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;} <span class="comment">// end namespace llvm</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a4118d380b88c0b4592c8a19fe9e2c3d5">   86</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a4118d380b88c0b4592c8a19fe9e2c3d5">LiveIntervals::getAnalysisUsage</a>(<a class="code" href="classllvm_1_1AnalysisUsage.html">AnalysisUsage</a> &amp;AU)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">setPreservesCFG</a>();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1LiveVariables.html">LiveVariables</a>&gt;();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a40970e5d42646fb2d9aa5f7a2c879516">addPreservedID</a>(<a class="code" href="namespacellvm.html#a60b90e9a630631cf67aaef4679ffbf62">MachineLoopInfoID</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a39c64174b9b56285668f8fc3602c868a">addRequiredTransitiveID</a>(<a class="code" href="namespacellvm.html#a5a36a0d02a1629e4c1c8c6c587d01e5b">MachineDominatorsID</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a40970e5d42646fb2d9aa5f7a2c879516">addPreservedID</a>(<a class="code" href="namespacellvm.html#a5a36a0d02a1629e4c1c8c6c587d01e5b">MachineDominatorsID</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">addPreserved</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  AU.<a class="code" href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">addRequiredTransitive</a>&lt;<a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a>&gt;();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">MachineFunctionPass::getAnalysisUsage</a>(AU);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#abb1809844bac2664d50ac8b85dffb3a1">   97</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#abb1809844bac2664d50ac8b85dffb3a1">LiveIntervals::LiveIntervals</a>() : <a class="code" href="classllvm_1_1MachineFunctionPass.html">MachineFunctionPass</a>(<a class="code" href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">ID</a>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="namespacellvm.html#aea2ef5e4ec532aa42606902e9001f712">initializeLiveIntervalsPass</a>(*<a class="code" href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">PassRegistry::getPassRegistry</a>());</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;}</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a965920fedeeed3659282c4485760064e">  101</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#a965920fedeeed3659282c4485760064e">LiveIntervals::~LiveIntervals</a>() { <span class="keyword">delete</span> LICalc; }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a0caadb67513b2da2c4bcbe22b77f527c">  103</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a0caadb67513b2da2c4bcbe22b77f527c">LiveIntervals::releaseMemory</a>() {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="comment">// Free the live intervals themselves.</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = VirtRegIntervals.size(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keyword">delete</span> VirtRegIntervals[<a class="code" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)];</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  VirtRegIntervals.clear();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  RegMaskSlots.clear();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  RegMaskBits.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  RegMaskBlocks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR : RegUnitRanges)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">delete</span> LR;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  RegUnitRanges.clear();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// Release VNInfo memory regions, VNInfo objects don&#39;t need to be dtor&#39;d.</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  VNInfoAllocator.<a class="code" href="classllvm_1_1BumpPtrAllocatorImpl.html#a977c94ac0ef5e305e5cf40726351d88a">Reset</a>();</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ad271beeb00495a71ad034023bdecc741">  120</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ad271beeb00495a71ad034023bdecc741">LiveIntervals::runOnMachineFunction</a>(<a class="code" href="classllvm_1_1MachineFunction.html">MachineFunction</a> &amp;fn) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  MF = &amp;fn;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  MRI = &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">getRegInfo</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  TRI = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">getRegisterInfo</a>();</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  TII = MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">getSubtarget</a>().<a class="code" href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">getInstrInfo</a>();</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  Indexes = &amp;getAnalysis&lt;SlotIndexes&gt;();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  DomTree = &amp;getAnalysis&lt;MachineDominatorTree&gt;();</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordflow">if</span> (!LICalc)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    LICalc = <span class="keyword">new</span> <a class="code" href="classllvm_1_1LiveIntervalCalc.html">LiveIntervalCalc</a>();</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// Allocate space for all virtual registers.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  VirtRegIntervals.resize(MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  computeVirtRegs();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  computeRegMasks();</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  computeLiveInRegUnits();</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="LiveIntervals_8cpp.html#ad98a53d8252c337193b3f37404b3cf3d">EnablePrecomputePhysRegs</a>) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// For stress testing, precompute live ranges of all physical register</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// units, including reserved registers.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a1c0e50e50918b2c91b99e1188d41c901">getNumRegUnits</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">getRegUnit</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">dump</a>());</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#afebf87881823545e71caaf1597ca3e17">  148</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#afebf87881823545e71caaf1597ca3e17">LiveIntervals::print</a>(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, <span class="keyword">const</span> <a class="code" href="classllvm_1_1Module.html">Module</a>* )<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;********** INTERVALS **********\n&quot;</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// Dump the regunits.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Unit = 0, UnitE = RegUnitRanges.size(); Unit != UnitE; ++Unit)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = RegUnitRanges[Unit])</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="namespacellvm.html#a34302b557354b8a09796c30b9f7408ab">printRegUnit</a>(Unit, TRI) &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; *LR &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// Dump the virtregs.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LiveIntervals.html#a11cd70de340f310acc70781d57a00136">hasInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;RegMasks:&quot;</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx : RegMaskSlots)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; Idx;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  printInstrs(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">void</span> LiveIntervals::printInstrs(<a class="code" href="classllvm_1_1raw__ostream.html">raw_ostream</a> &amp;<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a> &lt;&lt; <span class="stringliteral">&quot;********** MACHINEINSTRS **********\n&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#ad9c9c8915579c517eff56e638c1a643c">print</a>(<a class="code" href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a>, Indexes);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#if !defined(NDEBUG) || defined(LLVM_ENABLE_DUMP)</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<a class="code" href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a> <span class="keywordtype">void</span> LiveIntervals::dumpInstrs()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  printInstrs(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>());</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *LiveIntervals::createInterval(<a class="code" href="classllvm_1_1Register.html">Register</a> reg) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordtype">float</span> Weight = reg.<a class="code" href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">isPhysical</a>() ? <a class="code" href="namespacellvm.html#aa3bc1efc2622aa9bf1e0d05b3d9600de">huge_valf</a> : 0.0F;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a>(reg, Weight);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;}</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">/// Compute the live interval of a virtual register, based on defs and uses.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment"></span><span class="keywordtype">bool</span> LiveIntervals::computeVirtRegInterval(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LICalc &amp;&amp; <span class="stringliteral">&quot;LICalc not initialized.&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LI.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>() &amp;&amp; <span class="stringliteral">&quot;Should only compute empty intervals.&quot;</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(MF, <a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), DomTree, &amp;<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveIntervalCalc.html#ad67d6b7f9f91a2d5852b0f9aebfe542a">calculate</a>(LI, MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f2602cf77af82396115293302557ee0">shouldTrackSubRegLiveness</a>(LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>()));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keywordflow">return</span> computeDeadValues(LI, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keywordtype">void</span> LiveIntervals::computeVirtRegs() {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a666dc30b9326da6b9e69740a241df89d">reg_nodbg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = <a class="code" href="classllvm_1_1LiveIntervals.html#aaf80f24c12eff0b283dcfed7f6e5b9f8">createEmptyInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordtype">bool</span> NeedSplit = computeVirtRegInterval(LI);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (NeedSplit) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;LiveInterval*, 8&gt;</a> SplitLIs;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <a class="code" href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847">splitSeparateComponents</a>(LI, SplitLIs);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="keywordtype">void</span> LiveIntervals::computeRegMasks() {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  RegMaskBlocks.<a class="code" href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">resize</a>(MF-&gt;<a class="code" href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">getNumBlockIDs</a>());</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// Find all instructions with regmask operands.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : *MF) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    std::pair&lt;unsigned, unsigned&gt; &amp;RMB = RegMaskBlocks[<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>()];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    RMB.first = RegMaskSlots.size();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">// Some block starts, such as EH funclets, create masks.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a864dfd605ab4c40b895d035a165a873b">getBeginClobberMask</a>(TRI)) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      RegMaskSlots.push_back(Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aaf0c07cc1cdb9c78c6dfdfdd5913420a">getMBBStartIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      RegMaskBits.push_back(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// Unwinders may clobber additional registers.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// FIXME: This functionality can possibly be merged into</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// MachineBasicBlock::getBeginClobberMask().</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a1100bfbadd996d464150c6a68fa8dc1d">isEHPad</a>())</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">auto</span> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a61d1549c5cda7c927e00cb814f2baa45">getCustomEHPadPreservedMask</a>(*<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">getParent</a>())) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        RegMaskSlots.push_back(Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aaf0c07cc1cdb9c78c6dfdfdd5913420a">getMBBStartIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        RegMaskBits.push_back(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (!MO.isRegMask())</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        RegMaskSlots.push_back(Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>());</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        RegMaskBits.push_back(MO.getRegMask());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// Some block ends, such as funclet returns, create masks. Put the mask on</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">// the last instruction of the block, because MBB slot index intervals are</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">// half-open.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">const</span> <a class="code" href="classuint32__t.html">uint32_t</a> *<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#af80cc22ae7f226a8c819be6bf9e731d4">getEndClobberMask</a>(TRI)) {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">empty</a>() &amp;&amp; <span class="stringliteral">&quot;empty return block?&quot;</span>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      RegMaskSlots.push_back(</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">back</a>()).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>());</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      RegMaskBits.push_back(<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a>);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Compute the number of register mask instructions in this block.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    RMB.second = RegMaskSlots.size() - RMB.first;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">//                           Register Unit Liveness</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">// Fixed interference typically comes from ABI boundaries: Function arguments</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment">// and return values are passed in fixed registers, and so are exception</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">// pointers entering landing pads. Certain instructions require values to be</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">// present in specific registers. That is also represented through fixed</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// interference.</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">/// Compute the live range of a register unit, based on the uses and defs of</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">/// aliasing registers.  The range should be empty, or contain only dead</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">/// phi-defs from ABI blocks.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LiveIntervals::computeRegUnitRange(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <span class="keywordtype">unsigned</span> Unit) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LICalc &amp;&amp; <span class="stringliteral">&quot;LICalc not initialized.&quot;</span>);</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(MF, <a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), DomTree, &amp;<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="comment">// The physregs aliasing Unit are the roots and their super-registers.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">// Create all values as dead defs before extending to uses. Note that roots</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="comment">// may share super-registers. That&#39;s OK because createDeadDefs() is</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="comment">// idempotent. It is very rare for a register unit to have multiple roots, so</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <span class="comment">// uniquing super-registers is probably not worthwhile.</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">bool</span> IsReserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html">MCRegUnitRootIterator</a> Root(Unit, TRI); Root.<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html#abd29ecab24058fdf823addcad29c6939">isValid</a>(); ++Root) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">bool</span> IsRootReserved = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSuperRegIterator.html">MCSuperRegIterator</a> Super(*Root, TRI, <span class="comment">/*IncludeSelf=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;         Super.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++Super) {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = *Super;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">if</span> (!MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aecfd94e60d64656d8b19f2ea69bb02af">reg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        LICalc-&gt;<a class="code" href="classllvm_1_1LiveIntervalCalc.html#a1c36b75f4a0dac1a833a459617f03c76">createDeadDefs</a>(LR, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="comment">// A register unit is considered reserved if all its roots and all their</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="comment">// super registers are reserved.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">if</span> (!MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">isReserved</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        IsRootReserved = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    IsReserved |= IsRootReserved;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(IsReserved == MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ada7de8e2cf4949a58445f955d4d98caa">isReservedRegUnit</a>(Unit) &amp;&amp;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         <span class="stringliteral">&quot;reserved computation mismatch&quot;</span>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160; </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="comment">// Now extend LR to reach all uses.</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="comment">// Ignore uses of reserved registers. We only track defs of those.</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (!IsReserved) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html">MCRegUnitRootIterator</a> Root(Unit, TRI); Root.<a class="code" href="classllvm_1_1MCRegUnitRootIterator.html#abd29ecab24058fdf823addcad29c6939">isValid</a>(); ++Root) {</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCSuperRegIterator.html">MCSuperRegIterator</a> Super(*Root, TRI, <span class="comment">/*IncludeSelf=*/</span><span class="keyword">true</span>);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;           Super.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++Super) {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = *Super;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        <span class="keywordflow">if</span> (!MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#aecfd94e60d64656d8b19f2ea69bb02af">reg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;          LICalc-&gt;extendToUses(LR, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      }</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  }</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="comment">// Flush the segment set to the segment vector.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="namespacellvm.html#a6c039132ae0bc895e8c4eeee1f1f59ad">UseSegmentSetForPhysRegs</a>)</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    LR.<a class="code" href="classllvm_1_1LiveRange.html#afb60ddfb929ff4265623f2aa4f39a83e">flushSegmentSet</a>();</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/// Precompute the live ranges of any register units that are live-in to an ABI</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">/// block somewhere. Register values can appear without a corresponding def when</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">/// entering the entry block or a landing pad.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span><span class="keywordtype">void</span> LiveIntervals::computeLiveInRegUnits() {</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  RegUnitRanges.resize(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#a1c0e50e50918b2c91b99e1188d41c901">getNumRegUnits</a>());</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Computing live-in reg-units in ABI blocks.\n&quot;</span>);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160; </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">// Keep track of the live range sets allocated.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;unsigned, 8&gt;</a> NewRanges;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160; </div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  <span class="comment">// Check all basic blocks for live-ins.</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> &amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> : *MF) {</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// We only care about ABI blocks: Entry + landing pads.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">if</span> ((&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> != &amp;MF-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">front</a>() &amp;&amp; !<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a1100bfbadd996d464150c6a68fa8dc1d">isEHPad</a>()) || <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a64e73d869f06f711fb3d5b2c07dfc7be">livein_empty</a>())</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">// Create phi-defs at Begin for all live-in registers.</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Begin = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aaf0c07cc1cdb9c78c6dfdfdd5913420a">getMBBStartIdx</a>(&amp;<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Begin &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">printMBBReference</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>));</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;LI : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>.<a class="code" href="classllvm_1_1MachineBasicBlock.html#a98d240595236bf85bf1a5c5ba594bdba">liveins</a>()) {</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(LI.PhysReg, TRI); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>(); ++Units) {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordtype">unsigned</span> Unit = *Units;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = RegUnitRanges[Unit];</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> (!LR) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          <span class="comment">// Use segment set to speed-up initial computation of the live range.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          LR = RegUnitRanges[Unit] = <span class="keyword">new</span> <a class="code" href="SIOptimizeVGPRLiveRange_8cpp.html#acc192e3e53887e1d6fa56abbe10530e6">LiveRange</a>(<a class="code" href="namespacellvm.html#a6c039132ae0bc895e8c4eeee1f1f59ad">UseSegmentSetForPhysRegs</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;          NewRanges.push_back(Unit);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        }</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LR-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a4258d794235c7a408b3f52e5e4ef7159">createDeadDef</a>(Begin, <a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        (void)VNI;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a34302b557354b8a09796c30b9f7408ab">printRegUnit</a>(Unit, TRI) &lt;&lt; <span class="charliteral">&#39;#&#39;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">id</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Created &quot;</span> &lt;&lt; NewRanges.size() &lt;&lt; <span class="stringliteral">&quot; new intervals.\n&quot;</span>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <span class="comment">// Compute the &#39;normal&#39; part of the ranges.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Unit : NewRanges)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    computeRegUnitRange(*RegUnitRanges[Unit], Unit);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;}</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="LiveIntervals_8cpp.html#ac46976013d5526a5d1430256b4007b6b">  358</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="LiveIntervals_8cpp.html#ac46976013d5526a5d1430256b4007b6b">createSegmentsForValues</a>(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR,</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classllvm_1_1iterator__range.html">iterator_range&lt;LiveInterval::vni_iterator&gt;</a> VNIs) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : VNIs) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    LR.<a class="code" href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">addSegment</a>(<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>, <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.getDeadSlot(), VNI));</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="keywordtype">void</span> LiveIntervals::extendSegmentsToUses(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;Segments,</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                                         ShrinkToUsesWorkList &amp;WorkList,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                                         <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask) {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="comment">// Keep track of the PHIs that are in use.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;VNInfo*, 8&gt;</a> UsedPHIs;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <span class="comment">// Blocks that have already been added to WorkList as live-out.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;const MachineBasicBlock*, 16&gt;</a> LiveOut;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <span class="keyword">auto</span> getSubRange = [](<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        -&gt; <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a>&amp; {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a>.none())</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;SR : <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.subranges()) {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <span class="keywordflow">if</span> ((SR.LaneMask &amp; M).any()) {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(SR.LaneMask == M &amp;&amp; <span class="stringliteral">&quot;Expecting lane masks to match exactly&quot;</span>);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        <span class="keywordflow">return</span> SR;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;      }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a>(<span class="stringliteral">&quot;Subrange for mask not found&quot;</span>);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  };</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160; </div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = <a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;OldRange = getSubRange(LI, LaneMask);</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="comment">// Extend intervals to reach all uses in WorkList.</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordflow">while</span> (!WorkList.empty()) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = WorkList.back().first;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = WorkList.back().second;</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    WorkList.pop_back();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ac832da130f4d71a4533a69d98315fb19">getPrevSlot</a>());</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> BlockStart = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aaf0c07cc1cdb9c78c6dfdfdd5913420a">getMBBStartIdx</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160; </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// Extend the live range for VNI to be live at Idx.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *ExtVNI = <a class="code" href="namespacellvm_1_1pdb.html#a2632601eef2a7254d0d50e82ba2ab620afb9a488a6fe2d37f9a17651d744997f6">Segments</a>.extendInBlock(BlockStart, Idx)) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(ExtVNI == VNI &amp;&amp; <span class="stringliteral">&quot;Unexpected existing value number&quot;</span>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      (void)ExtVNI;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="comment">// Is this a PHIDef we haven&#39;t seen before?</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="keywordflow">if</span> (!VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>() || VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> != BlockStart ||</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;          !UsedPHIs.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(VNI).second)</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="comment">// The PHI is live, make sure the predecessors are live-out.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>()) {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <span class="keywordflow">if</span> (!LiveOut.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Pred).second)</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Stop = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">getMBBEndIdx</a>(Pred);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="comment">// A predecessor is not required to have a live-out value for a PHI.</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *PVNI = OldRange.<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(Stop))</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          WorkList.push_back(std::make_pair(Stop, PVNI));</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    }</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// VNI is live-in to MBB.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; live-in at &quot;</span> &lt;&lt; BlockStart &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="namespacellvm_1_1pdb.html#a2632601eef2a7254d0d50e82ba2ab620afb9a488a6fe2d37f9a17651d744997f6">Segments</a>.addSegment(<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(BlockStart, Idx, VNI));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// Make sure VNI is live-out from the predecessors.</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>()) {</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      <span class="keywordflow">if</span> (!LiveOut.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(Pred).second)</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Stop = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">getMBBEndIdx</a>(Pred);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *OldVNI = OldRange.<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(Stop)) {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldVNI == VNI &amp;&amp; <span class="stringliteral">&quot;Wrong value out of predecessor&quot;</span>);</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        (void)OldVNI;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        WorkList.push_back(std::make_pair(Stop, VNI));</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;<span class="preprocessor">#ifndef NDEBUG</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment">// There was no old VNI. Verify that Stop is jointly dominated</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="comment">// by &lt;undef&gt;s for this live range.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>() &amp;&amp;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;               <span class="stringliteral">&quot;Missing value out of predecessor for main range&quot;</span>);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SlotIndex,8&gt;</a> Undefs;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        LI.<a class="code" href="classllvm_1_1LiveInterval.html#af4a07ae5c460ac08439a1a71d15e0166">computeSubRangeUndefs</a>(Undefs, LaneMask, *MRI, *Indexes);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1LiveRangeCalc.html#a13c4005ea769c09d88be76fa40744e7e">LiveRangeCalc::isJointlyDominated</a>(Pred, Undefs, *Indexes) &amp;&amp;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;               <span class="stringliteral">&quot;Missing value out of predecessor for subrange&quot;</span>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ac7446b2819c44bf459763351b5bcc29b">  449</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ac7446b2819c44bf459763351b5bcc29b">LiveIntervals::shrinkToUses</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> *li,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                 <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr*&gt;</a> *dead) {</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Shrink: &quot;</span> &lt;&lt; *li &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>().<a class="code" href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">isVirtual</a>() &amp;&amp; <span class="stringliteral">&quot;Can only shrink virtual registers&quot;</span>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="comment">// Shrink subregister live ranges.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordtype">bool</span> NeedsCleanup = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classllvm_1_1LiveIntervals.html#ac7446b2819c44bf459763351b5bcc29b">shrinkToUses</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>());</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.empty())</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      NeedsCleanup = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (NeedsCleanup)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">removeEmptySubRanges</a>();</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="comment">// Find all the values used, including PHI kills.</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">ShrinkToUsesWorkList</a> WorkList;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="comment">// Visit all instructions reading li-&gt;reg().</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = li-&gt;<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> : MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a2718c79d7ff861cf3645991cef024f84">reg_instructions</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.isDebugInstr() || !<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>.readsVirtualRegister(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a>).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(Idx);</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">valueIn</a>();</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (!VNI) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      <span class="comment">// This shouldn&#39;t happen: readsVirtualRegister returns true, but there is</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="comment">// no live value. It is likely caused by a target getting &lt;undef&gt; flags</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      <span class="comment">// wrong.</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; Idx &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; <a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                 &lt;&lt; <span class="stringliteral">&quot;Warning: Instr claims to read non-existent value in &quot;</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                 &lt;&lt; *li &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <span class="comment">// Special case: An early-clobber tied operand reads and writes the</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// register one slot early.</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *DefVNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a0e87cd4e143e345953638f545dd70530">valueDefined</a>())</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;      Idx = DefVNI-&gt;def;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    WorkList.push_back(std::make_pair(Idx, VNI));</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160; </div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="comment">// Create new live ranges with only minimal live segments per def.</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> NewLR;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;  <a class="code" href="LiveIntervals_8cpp.html#ac46976013d5526a5d1430256b4007b6b">createSegmentsForValues</a>(NewLR, li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a352c24ce556adb51f63f40a7d946ae44">vnis</a>());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  extendSegmentsToUses(NewLR, WorkList, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>());</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="comment">// Move the trimmed segments back.</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  li-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">segments</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#abd962b7b01f49ce61ea41ee10c49e313">swap</a>(NewLR.<a class="code" href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">segments</a>);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="comment">// Handle dead values.</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordtype">bool</span> CanSeparate = computeDeadValues(*li, dead);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Shrunk: &quot;</span> &lt;&lt; *li &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  <span class="keywordflow">return</span> CanSeparate;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;}</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; </div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;<span class="keywordtype">bool</span> LiveIntervals::computeDeadValues(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                      <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;MachineInstr*&gt;</a> *dead) {</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  <span class="keywordtype">bool</span> MayHaveSplitComponents = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : LI.<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> = VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = LI.<a class="code" href="classllvm_1_1LiveRange.html#ae6eab1035db7ba328354fa739be090f0">FindSegmentContaining</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != LI.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>() &amp;&amp; <span class="stringliteral">&quot;Missing segment for VNI&quot;</span>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// Is the register live before? Otherwise we may have to add a read-undef</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// flag for subregister defs.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> VReg = LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>();</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f2602cf77af82396115293302557ee0">shouldTrackSubRegLiveness</a>(VReg)) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == LI.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>() || std::prev(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>)-&gt;end &lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>) &amp;&amp; !VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>()) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;setRegisterDefReadUndef(VReg);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;end != <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>.getDeadSlot())</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>()) {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      <span class="comment">// This is a dead PHI. Remove it.</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;      VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#a81775e4a3dbcbc42d828c3e4becd9190">markUnused</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;      LI.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>);</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Dead PHI at &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &lt;&lt; <span class="stringliteral">&quot; may separate interval\n&quot;</span>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="comment">// This is a dead def. Make sure the instruction knows.</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> &amp;&amp; <span class="stringliteral">&quot;No instruction defining live value&quot;</span>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addRegisterDead(LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>(), TRI);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">if</span> (dead &amp;&amp; <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;allDefsAreDead()) {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;All defs dead: &quot;</span> &lt;&lt; <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">Def</a> &lt;&lt; <span class="charliteral">&#39;\t&#39;</span> &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        dead-&gt;push_back(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;      }</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    MayHaveSplitComponents = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  }</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordflow">return</span> MayHaveSplitComponents;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;}</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160; </div>
<div class="line"><a name="l00551"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a42083019e0bdb164e55da49ab9f4d717">  551</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ac7446b2819c44bf459763351b5bcc29b">LiveIntervals::shrinkToUses</a>(<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;SR, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Shrink: &quot;</span> &lt;&lt; SR &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual() &amp;&amp; <span class="stringliteral">&quot;Can only shrink virtual registers&quot;</span>);</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="comment">// Find all the values used, including PHI kills.</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">ShrinkToUsesWorkList</a> WorkList;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="comment">// Visit all instructions reading Reg.</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LastIdx;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">use_nodbg_operands</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    <span class="comment">// Skip &quot;undef&quot; uses.</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordflow">if</span> (!MO.readsReg())</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// Maybe the operand is for a subregister we don&#39;t care about.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> != 0) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask = TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      <span class="keywordflow">if</span> ((LaneMask &amp; SR.<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html#a8dab9096ed829f13c573a282e5723f62">LaneMask</a>).none())</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// We only need to visit each instruction once.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a> = MO.getParent();</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = <a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*UseMI).<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="keywordflow">if</span> (Idx == LastIdx)</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    LastIdx = Idx;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160; </div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = SR.<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(Idx);</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">valueIn</a>();</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">// For Subranges it is possible that only undef values are left in that</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="comment">// part of the subregister, so there is no real liverange at the use</span></div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (!VNI)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// Special case: An early-clobber tied operand reads and writes the</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">// register one slot early.</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *DefVNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a0e87cd4e143e345953638f545dd70530">valueDefined</a>())</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      Idx = DefVNI-&gt;def;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; </div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    WorkList.push_back(std::make_pair(Idx, VNI));</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="comment">// Create a new live ranges with only minimal live segments per def.</span></div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> NewLR;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <a class="code" href="LiveIntervals_8cpp.html#ac46976013d5526a5d1430256b4007b6b">createSegmentsForValues</a>(NewLR, SR.<a class="code" href="classllvm_1_1LiveRange.html#a352c24ce556adb51f63f40a7d946ae44">vnis</a>());</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  extendSegmentsToUses(NewLR, WorkList, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, SR.<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html#a8dab9096ed829f13c573a282e5723f62">LaneMask</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160; </div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <span class="comment">// Move the trimmed ranges back.</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  SR.<a class="code" href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">segments</a>.<a class="code" href="classllvm_1_1SmallVectorImpl.html#abd962b7b01f49ce61ea41ee10c49e313">swap</a>(NewLR.<a class="code" href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">segments</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160; </div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <span class="comment">// Remove dead PHI value numbers</span></div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI : SR.<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">isUnused</a>())</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> *Segment = SR.<a class="code" href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">getSegmentContaining</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Segment != <span class="keyword">nullptr</span> &amp;&amp; <span class="stringliteral">&quot;Missing segment for VNI&quot;</span>);</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">if</span> (Segment-&gt;<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html#afe8e59ffc86cb1736116e4dc8b86e26f">end</a> != VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>())</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">if</span> (VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">isPHIDef</a>()) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <span class="comment">// This is a dead PHI. Remove it.</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Dead PHI at &quot;</span> &lt;&lt; VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                        &lt;&lt; <span class="stringliteral">&quot; may separate interval\n&quot;</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#a81775e4a3dbcbc42d828c3e4becd9190">markUnused</a>();</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      SR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(*Segment);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; </div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;Shrunk: &quot;</span> &lt;&lt; SR &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;}</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ae2333ffb94572756f96dcad39de8bbcb">  620</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ae2333ffb94572756f96dcad39de8bbcb">LiveIntervals::extendToIndices</a>(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR,</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SlotIndex&gt;</a> Indices,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                                    <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SlotIndex&gt;</a> Undefs) {</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LICalc &amp;&amp; <span class="stringliteral">&quot;LICalc not initialized.&quot;</span>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(MF, <a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), DomTree, &amp;<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx : Indices)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    LICalc-&gt;<a class="code" href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">extend</a>(LR, Idx, <span class="comment">/*PhysReg=*/</span>0, Undefs);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;}</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160; </div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a94cf1c59ca73ea330872deb639013cb9">  629</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a94cf1c59ca73ea330872deb639013cb9">LiveIntervals::pruneValue</a>(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>,</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                               <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;SlotIndex&gt;</a> *EndPoints) {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = LR.<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#adf79c67be15a983c455d1910c447e9bd">valueOutOrDead</a>();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keywordflow">if</span> (!VNI)</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160; </div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *KillMBB = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> MBBEnd = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">getMBBEndIdx</a>(KillMBB);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160; </div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="comment">// If VNI isn&#39;t live out from KillMBB, the value is trivially pruned.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keywordflow">if</span> (LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>() &lt; MBBEnd) {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>, LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>());</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span> (EndPoints) EndPoints-&gt;push_back(LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>());</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160; </div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="comment">// VNI is live out of KillMBB.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(<a class="code" href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">Kill</a>, MBBEnd);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">if</span> (EndPoints) EndPoints-&gt;push_back(MBBEnd);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160; </div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="comment">// Find all blocks that are reachable from KillMBB without leaving VNI&#39;s live</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="comment">// range. It is possible that KillMBB itself is reachable, so start a DFS</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="comment">// from each successor.</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  <span class="keyword">using</span> VisitedTy = <a class="code" href="structllvm_1_1df__iterator__default__set.html">df_iterator_default_set&lt;MachineBasicBlock*,9&gt;</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  VisitedTy Visited;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Succ : KillMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">successors</a>()) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="structllvm_1_1df__ext__iterator.html">df_ext_iterator&lt;MachineBasicBlock*, VisitedTy&gt;</a></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm.html#a79d4face7022f4be1d51b785a83de44f">df_ext_begin</a>(Succ, Visited), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = <a class="code" href="namespacellvm.html#aaa67df70b3bc20ef65f8fe523c41da0e">df_ext_end</a>(Succ, Visited);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;         <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;) {</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160; </div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <span class="comment">// Check if VNI is live in to MBB.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> MBBStart, MBBEnd;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;      std::tie(MBBStart, MBBEnd) = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">getMBBRange</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;      <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = LR.<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(MBBStart);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">if</span> (LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">valueIn</a>() != VNI) {</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">// This block isn&#39;t part of the VNI segment. Prune the search.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.skipChildren();</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      }</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160; </div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="comment">// Prune the search if VNI is killed in MBB.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <span class="keywordflow">if</span> (LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>() &lt; MBBEnd) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(MBBStart, LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>());</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="keywordflow">if</span> (EndPoints) EndPoints-&gt;push_back(LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">endPoint</a>());</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>.skipChildren();</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160; </div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="comment">// VNI is live through MBB.</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(MBBStart, MBBEnd);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      <span class="keywordflow">if</span> (EndPoints) EndPoints-&gt;push_back(MBBEnd);</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;}</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160; </div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="comment">// Register allocator hooks.</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160; </div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a6e3886e9084257e74b5db4a8951d36e0">  691</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a6e3886e9084257e74b5db4a8951d36e0">LiveIntervals::addKillFlags</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1VirtRegMap.html">VirtRegMap</a> *VRM) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="comment">// Keep track of regunit ranges.</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;std::pair&lt;const LiveRange*, LiveRange::const_iterator&gt;</a>, 8&gt; RU;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160; </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> = 0, <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a> = MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">getNumVirtRegs</a>(); <a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a> != <a class="code" href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">e</a>; ++<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>) {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = <a class="code" href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">Register::index2VirtReg</a>(<a class="code" href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a666dc30b9326da6b9e69740a241df89d">reg_nodbg_empty</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = <a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>())</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="comment">// Target may have not allocated this yet.</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> PhysReg = VRM-&gt;<a class="code" href="classllvm_1_1VirtRegMap.html#a785a4e2daf4e5bf3f0836adbc4fb7e65">getPhys</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">if</span> (!PhysReg)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">// Find the regunit intervals for the assigned register. They may overlap</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">// the virtual register live range, cancelling any kills.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    RU.<a class="code" href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">clear</a>();</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Unit(PhysReg, TRI); Unit.isValid();</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;         ++Unit) {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;RURange = <a class="code" href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">getRegUnit</a>(*Unit);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">if</span> (RURange.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>())</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      RU.push_back(std::make_pair(&amp;RURange, RURange.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(LI.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>()-&gt;end)));</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    }</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// Every instruction that kills Reg corresponds to a segment range end</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// point.</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveInterval::const_iterator</a> RI = LI.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>(), RE = LI.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>(); RI != RE;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;         ++RI) {</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <span class="comment">// A block index indicates an MBB edge.</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (RI-&gt;end.isBlock())</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(RI-&gt;end);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>)</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160; </div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      <span class="comment">// Check if any of the regunits are live beyond the end of RI. That could</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;      <span class="comment">// happen when a physreg is defined as a copy of a virtreg:</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;      <span class="comment">//   %eax = COPY %5</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="comment">//   FOO %5             &lt;--- MI, cancel kill because %eax is live.</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <span class="comment">//   BAR killed %eax</span></div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="comment">// There should be no kill flag on FOO when %5 is rewritten as %eax.</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;<a class="code" href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76a1175f7692ae965210e9b23087b4fa296">RUP</a> : RU) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;RURange = *<a class="code" href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76a1175f7692ae965210e9b23087b4fa296">RUP</a>.first;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveRange::const_iterator</a> &amp;<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = <a class="code" href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76a1175f7692ae965210e9b23087b4fa296">RUP</a>.second;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RURange.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>())</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = RURange.<a class="code" href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">advanceTo</a>(<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, RI-&gt;end);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> == RURange.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>() || <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>-&gt;start &gt;= RI-&gt;end)</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="comment">// I is overlapping RI.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">goto</span> CancelKill;</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      }</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;      <span class="keywordflow">if</span> (MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a48ad9eedacb98923ab00074ec4760db2">subRegLivenessEnabled</a>()) {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="comment">// When reading a partial undefined value we must not add a kill flag.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="comment">// The regalloc might have used the undef lane for something else.</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="comment">// Example:</span></div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="comment">//     %1 = ...                  ; R32: %1</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="comment">//     %2:high16 = ...           ; R64: %2</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="comment">//        = read killed %2        ; R64: %2</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="comment">//        = read %1              ; R32: %1</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="comment">// The &lt;kill&gt; flag is correct for %2, but the register allocator may</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="comment">// assign R0L to %1, and R0 to %2 because the low 32bits of R0</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="comment">// are actually never written by %2. After assignment the &lt;kill&gt;</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="comment">// flag at the read instruction is invalid.</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> DefinedLanesMask;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          <span class="comment">// Compute a mask of lanes that are defined.</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          DefinedLanesMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>();</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;          <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;SR : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>())</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> &amp;Segment : SR.segments) {</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;              <span class="keywordflow">if</span> (Segment.<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html#a85f7bf79596d84273b5b3b9b490bc2ec">start</a> &gt;= RI-&gt;end)</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;              <span class="keywordflow">if</span> (Segment.<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html#afe8e59ffc86cb1736116e4dc8b86e26f">end</a> == RI-&gt;end) {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                DefinedLanesMask |= SR.LaneMask;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;              }</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          DefinedLanesMask = <a class="code" href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">LaneBitmask::getAll</a>();</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160; </div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        <span class="keywordtype">bool</span> IsFullWrite = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          <span class="keywordflow">if</span> (!MO.isReg() || MO.getReg() != <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          <span class="keywordflow">if</span> (MO.isUse()) {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;            <span class="comment">// Reading any undefined lanes?</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> UseMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> ? TRI-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                         : MRI-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">if</span> ((UseMask &amp; ~DefinedLanesMask).<a class="code" href="namespacellvm_1_1LegalityPredicates.html#a6fef38ab5d0c9c582fe6cae7d8badf5f">any</a>())</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;              <span class="keywordflow">goto</span> CancelKill;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.getSubReg() == 0) {</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            <span class="comment">// Writing to the full register?</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(MO.isDef());</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            IsFullWrite = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          }</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160; </div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        <span class="comment">// If an instruction writes to a subregister, a new segment starts in</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">// the LiveInterval. But as this is only overriding part of the register</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">// adding kill-flags is not correct here after registers have been</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">// assigned.</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">if</span> (!IsFullWrite) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          <span class="comment">// Next segment has to be adjacent in the subregister write case.</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveRange::const_iterator</a> <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = std::next(RI);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> != LI.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>() &amp;&amp; <a class="code" href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>-&gt;start == RI-&gt;end)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;            <span class="keywordflow">goto</span> CancelKill;</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;      }</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;addRegisterKilled(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;CancelKill:</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;clearRegisterKills(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  }</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160; </div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a>*</div>
<div class="line"><a name="l00816"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#abc913cf0bab81b94548cd3c8eeb33117">  816</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#abc913cf0bab81b94548cd3c8eeb33117">LiveIntervals::intervalIsInOneMBB</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(!LI.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>() &amp;&amp; <span class="stringliteral">&quot;LiveInterval is empty.&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160; </div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <span class="comment">// A local live range must be fully contained inside the block, meaning it is</span></div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="comment">// defined and killed at instructions, not at block boundaries. It is not</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="comment">// live in or out of any block.</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  <span class="comment">// It is technically possible to have a PHI-defined live range identical to a</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <span class="comment">// single block, but we are going to return false in that case.</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Start = LI.<a class="code" href="classllvm_1_1LiveRange.html#a9b4b2c1bb443279588bd6582ad6a86b2">beginIndex</a>();</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  <span class="keywordflow">if</span> (Start.isBlock())</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160; </div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Stop = LI.<a class="code" href="classllvm_1_1LiveRange.html#aa1bc5510e870a77ebe055b1524d9fd26">endIndex</a>();</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">if</span> (Stop.isBlock())</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160; </div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="comment">// getMBBFromIndex doesn&#39;t need to search the MBB table when both indexes</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="comment">// belong to proper instructions.</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB1 = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(Start);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *MBB2 = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(Stop);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">return</span> MBB1 == MBB2 ? MBB1 : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;}</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160; </div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;<span class="keywordtype">bool</span></div>
<div class="line"><a name="l00842"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a1b6e5f6033c80dff3f9b4c6fb40499c2">  842</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#a1b6e5f6033c80dff3f9b4c6fb40499c2">LiveIntervals::hasPHIKill</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI, <span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a> : LI.<a class="code" href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">valnos</a>) {</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;isUnused() || !<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;isPHIDef())</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *PHIMBB = <a class="code" href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">getMBBFromIndex</a>(<a class="code" href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a>-&gt;def);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="comment">// Conservatively return true instead of scanning huge predecessor lists.</span></div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordflow">if</span> (PHIMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a03936a9b37da541420049422204ab206">pred_size</a>() &gt; 100)</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *Pred : PHIMBB-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">predecessors</a>())</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">if</span> (VNI == LI.<a class="code" href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">getVNInfoBefore</a>(Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">getMBBEndIdx</a>(Pred)))</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;}</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160; </div>
<div class="line"><a name="l00857"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">  857</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">LiveIntervals::getSpillWeight</a>(<span class="keywordtype">bool</span> isDef, <span class="keywordtype">bool</span> isUse,</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *MBFI,</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">getSpillWeight</a>(isDef, isUse, MBFI, <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent());</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; </div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a54b02042ed42a596a9d83d9587f4d39e">  863</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">LiveIntervals::getSpillWeight</a>(<span class="keywordtype">bool</span> isDef, <span class="keywordtype">bool</span> isUse,</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html">MachineBlockFrequencyInfo</a> *MBFI,</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>) {</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">return</span> (isDef + isUse) * MBFI-&gt;<a class="code" href="classllvm_1_1MachineBlockFrequencyInfo.html#ad189a61a150fd97af1f0b15fed77974f">getBlockFreqRelativeToEntryBlock</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160; </div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;<a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a></div>
<div class="line"><a name="l00870"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ac3d33d3a8e2cf3bdc2932450f90f078f">  870</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#ac3d33d3a8e2cf3bdc2932450f90f078f">LiveIntervals::addSegmentToEndOfBlock</a>(<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;startInst) {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;<a class="code" href="classllvm_1_1Interval.html">Interval</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#aaf80f24c12eff0b283dcfed7f6e5b9f8">createEmptyInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VN = <a class="code" href="classllvm_1_1Interval.html">Interval</a>.getNextValue(</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>(<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(startInst).getRegSlot()),</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;      <a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>(<a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(startInst).getRegSlot()),</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                       <a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(startInst.<a class="code" href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">getParent</a>()), VN);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <a class="code" href="classllvm_1_1Interval.html">Interval</a>.addSegment(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160; </div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;}</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160; </div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;<span class="comment">//                          Register mask functions</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span><span class="comment"></span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="comment">/// Check whether use of reg in MI is live-through. Live-through means that</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="comment">/// the value is alive on exit from Machine instruction. The example of such</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="comment">/// use is a deopt value in statepoint instruction.</span></div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="LiveIntervals_8cpp.html#a801fcd2cb84f0d0292a77e675c7c492c">  888</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="LiveIntervals_8cpp.html#a801fcd2cb84f0d0292a77e675c7c492c">hasLiveThroughUse</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOpcode() != TargetOpcode::STATEPOINT)</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <a class="code" href="classllvm_1_1StatepointOpers.html">StatepointOpers</a> SO(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  <span class="keywordflow">if</span> (SO.<a class="code" href="classllvm_1_1StatepointOpers.html#ad1f1c9d432bb4e063d215f60efd296f2">getFlags</a>() &amp; (<a class="code" href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a>)<a class="code" href="namespacellvm.html#abba0f0474eb4e32d1ed7b6dfdb0d5140a8cf633e3cd4e8b21a16304c58495bfbc">StatepointFlags::DeoptLiveIn</a>)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = SO.<a class="code" href="classllvm_1_1StatepointOpers.html#a9ccc324192981f7ce3091453bb0b68a5">getNumDeoptArgsIdx</a>(), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = SO.<a class="code" href="classllvm_1_1StatepointOpers.html#afec1cbe3c73e6d6b86e5d6b00815dc2e">getNumGCPtrIdx</a>(); Idx &lt; <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;       ++Idx) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getOperand(Idx);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    <span class="keywordflow">if</span> (MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>() &amp;&amp; MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>() == <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a26c99fa2411ae509e9eb030f8aefb4e8">  903</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a26c99fa2411ae509e9eb030f8aefb4e8">LiveIntervals::checkRegMaskInterference</a>(<span class="keyword">const</span> <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI,</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                                             <a class="code" href="classllvm_1_1BitVector.html">BitVector</a> &amp;UsableRegs) {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">empty</a>())</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">LiveInterval::const_iterator</a> LiveI = LI.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>(), LiveE = LI.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>();</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160; </div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="comment">// Use a smaller arrays for local live ranges.</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;SlotIndex&gt;</a> Slots;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;const uint32_t*&gt;</a> <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#abc913cf0bab81b94548cd3c8eeb33117">intervalIsInOneMBB</a>(LI)) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    Slots = <a class="code" href="classllvm_1_1LiveIntervals.html#a372477c8f0715cd2910aeec40fc5ad1b">getRegMaskSlotsInBlock</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>());</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#a2455c761c06e057ecc73f54302f1a5e8">getRegMaskBitsInBlock</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">getNumber</a>());</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    Slots = <a class="code" href="classllvm_1_1LiveIntervals.html#a9e8b3eb0eead4bc00b20663fea97fe1d">getRegMaskSlots</a>();</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#a7039022ca24132285e97e59c6551e2bd">getRegMaskBits</a>();</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;  }</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  <span class="comment">// We are going to enumerate all the register mask slots contained in LI.</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="comment">// Start with a binary search of RegMaskSlots to find a starting point.</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;SlotIndex&gt;::iterator</a> SlotI = <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(Slots, LiveI-&gt;start);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  <a class="code" href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">ArrayRef&lt;SlotIndex&gt;::iterator</a> SlotE = Slots.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160; </div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  <span class="comment">// No slots in range, LI begins after the last call.</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">if</span> (SlotI == SlotE)</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160; </div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keywordtype">bool</span> Found = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="comment">// Utility to union regmasks.</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keyword">auto</span> unionBitMask = [&amp;](<span class="keywordtype">unsigned</span> Idx) {</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">if</span> (!Found) {</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="comment">// This is the first overlap. Initialize UsableRegs to all ones.</span></div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        UsableRegs.<a class="code" href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">clear</a>();</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        UsableRegs.<a class="code" href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">resize</a>(TRI-&gt;<a class="code" href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">getNumRegs</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        Found = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      }</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;      <span class="comment">// Remove usable registers clobbered by this mask.</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      UsableRegs.<a class="code" href="classllvm_1_1BitVector.html#a51711ad960e294ac064a578ebfae0de7">clearBitsNotInMask</a>(<a class="code" href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">Bits</a>[Idx]);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  };</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(*SlotI &gt;= LiveI-&gt;start);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    <span class="comment">// Loop over all slots overlapping this segment.</span></div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">while</span> (*SlotI &lt; LiveI-&gt;<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <span class="comment">// *SlotI overlaps LI. Collect mask bits.</span></div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      unionBitMask(SlotI - Slots.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>());</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <span class="keywordflow">if</span> (++SlotI == SlotE)</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <span class="comment">// If segment ends with live-through use we need to collect its regmask.</span></div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (*SlotI == LiveI-&gt;<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(*SlotI))</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="LiveIntervals_8cpp.html#a801fcd2cb84f0d0292a77e675c7c492c">hasLiveThroughUse</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>()))</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;          unionBitMask(SlotI++ - Slots.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>());</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// *SlotI is beyond the current LI segment.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="comment">// Special advance implementation to not miss next LiveI-&gt;end.</span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="keywordflow">if</span> (++LiveI == LiveE || SlotI == SlotE || *SlotI &gt; LI.<a class="code" href="classllvm_1_1LiveRange.html#aa1bc5510e870a77ebe055b1524d9fd26">endIndex</a>())</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordflow">while</span> (LiveI-&gt;end &lt; *SlotI)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;      ++LiveI;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// Advance SlotI until it overlaps.</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">while</span> (*SlotI &lt; LiveI-&gt;start)</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">if</span> (++SlotI == SlotE)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">return</span> Found;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;}</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;<span class="comment">//                         IntervalUpdate class.</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">//===----------------------------------------------------------------------===//</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">/// Toolkit used by handleMove to trim or extend live intervals.</span></div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="classLiveIntervals_1_1HMEditor.html">  973</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="classLiveIntervals_1_1HMEditor.html">LiveIntervals::HMEditor</a> {</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>&amp; LIS;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a>&amp; <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a>&amp; <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> OldIdx;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIdx;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="classllvm_1_1SmallPtrSet.html">SmallPtrSet&lt;LiveRange*, 8&gt;</a> Updated;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">bool</span> UpdateFlags;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160; </div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00984"></a><span class="lineno"><a class="line" href="classLiveIntervals_1_1HMEditor.html#a7506c455b7a216d91ccb3b6dbb977e94">  984</a></span>&#160;  <a class="code" href="classLiveIntervals_1_1HMEditor.html#a7506c455b7a216d91ccb3b6dbb977e94">HMEditor</a>(<a class="code" href="classllvm_1_1LiveIntervals.html">LiveIntervals</a>&amp; LIS, <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineRegisterInfo.html">MachineRegisterInfo</a>&amp; MRI,</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;           <span class="keyword">const</span> <a class="code" href="classllvm_1_1TargetRegisterInfo.html">TargetRegisterInfo</a>&amp; TRI,</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;           <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> OldIdx, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIdx, <span class="keywordtype">bool</span> UpdateFlags)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    : LIS(LIS), <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>), <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>(<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>), OldIdx(OldIdx), NewIdx(NewIdx),</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;      UpdateFlags(UpdateFlags) {}</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160; </div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="comment">// FIXME: UpdateFlags is a workaround that creates live intervals for all</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="comment">// physregs, even those that aren&#39;t needed for regalloc, in order to update</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="comment">// kill flags. This is wasteful. Eventually, LiveVariables will strip all kill</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="comment">// flags, and postRA passes will use a live register utility instead.</span></div>
<div class="line"><a name="l00994"></a><span class="lineno"><a class="line" href="classLiveIntervals_1_1HMEditor.html#a2af11d9bada2b46a909013252a50c2e8">  994</a></span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *<a class="code" href="classLiveIntervals_1_1HMEditor.html#a2af11d9bada2b46a909013252a50c2e8">getRegUnitLI</a>(<span class="keywordtype">unsigned</span> Unit) {</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (UpdateFlags &amp;&amp; !<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ada7de8e2cf4949a58445f955d4d98caa">isReservedRegUnit</a>(Unit))</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <span class="keywordflow">return</span> &amp;LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">getRegUnit</a>(Unit);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordflow">return</span> LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">getCachedRegUnit</a>(Unit);</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="comment">  /// Update all live ranges touched by MI, assuming a move from OldIdx to</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="comment">  /// NewIdx.</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"><a class="line" href="classLiveIntervals_1_1HMEditor.html#aa060d1bdca0620ff13d49456dccf9303"> 1002</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classLiveIntervals_1_1HMEditor.html#aa060d1bdca0620ff13d49456dccf9303">updateAllRanges</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;handleMove &quot;</span> &lt;&lt; OldIdx &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; NewIdx &lt;&lt; <span class="stringliteral">&quot;: &quot;</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                      &lt;&lt; *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <span class="keywordtype">bool</span> hasRegMask = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;operands()) {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;      <span class="keywordflow">if</span> (MO.isRegMask())</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        hasRegMask = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      <span class="keywordflow">if</span> (!MO.isReg())</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">if</span> (MO.isUse()) {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">if</span> (!MO.readsReg())</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="comment">// Aggressively clear all kill flags.</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="comment">// They are reinserted by VirtRegRewriter.</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        MO.setIsKill(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;      }</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160; </div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;      <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;          <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> ? <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>)</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                                        : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask &amp; LaneMask).none())</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            updateRange(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          }</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        updateRange(LI, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>());</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="comment">// If main range has a hole and we are moving a subrange use across</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="comment">// the hole updateRange() cannot properly handle it since it only</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        <span class="comment">// gets the LiveRange and not the whole LiveInterval. As a result</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <span class="comment">// we may end up with a main range not covering all subranges.</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="comment">// This is extremely rare case, so let&#39;s check and reconstruct the</span></div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="comment">// main range.</span></div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">if</span> (LI.<a class="code" href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">hasSubRanges</a>()) {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;          <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;          <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> ? <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>)</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                        : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">getMaxLaneMaskForVReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask &amp; LaneMask).none() || LI.<a class="code" href="classllvm_1_1LiveRange.html#a5c2526062a291ca7d78fe98bbf66edb7">covers</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>))</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;              <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            LI.<a class="code" href="classllvm_1_1LiveRange.html#aa1555194b9f176612b04fbd38f49b40d">clear</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f">constructMainRangeFromSubranges</a>(LI);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;          }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        }</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160; </div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;      }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;      <span class="comment">// For physregs, only update the regunits that actually have a</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;      <span class="comment">// precomputed live range.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Units(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.asMCReg(), &amp;<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Units.<a class="code" href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">isValid</a>();</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;           ++Units)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = <a class="code" href="classLiveIntervals_1_1HMEditor.html#a2af11d9bada2b46a909013252a50c2e8">getRegUnitLI</a>(*Units))</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;          updateRange(*LR, *Units, <a class="code" href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">LaneBitmask::getNone</a>());</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (hasRegMask)</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      updateRegMaskSlots();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160; </div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="keyword">private</span>:<span class="comment"></span></div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="comment">  /// Update a single live range, assuming an instruction has been moved from</span></div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;<span class="comment">  /// OldIdx to NewIdx.</span></div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> updateRange(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">if</span> (!Updated.<a class="code" href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">insert</a>(&amp;LR).second)</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>({</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;     &quot;</span>;</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">printReg</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="keywordflow">if</span> (LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>())</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;          <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot; L&quot;</span> &lt;&lt; <a class="code" href="namespacellvm.html#a3e30e18d6f7ebd943eaf8ebc3a2b2930">PrintLaneMask</a>(LaneMask);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <a class="code" href="namespacellvm.html#a34302b557354b8a09796c30b9f7408ab">printRegUnit</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, &amp;TRI);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      }</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;:\t&quot;</span> &lt;&lt; LR &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    });</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdx, NewIdx))</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      handleMoveDown(LR);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      handleMoveUp(LR, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LaneMask);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;        --&gt;\t&quot;</span> &lt;&lt; LR &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    LR.<a class="code" href="classllvm_1_1LiveRange.html#a66729d4865344276b0e560f0c888d86b">verify</a>();</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  }</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;<span class="comment">  /// Update LR to reflect an instruction has been moved downwards from OldIdx</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;<span class="comment">  /// to NewIdx (OldIdx &lt; NewIdx).</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> handleMoveDown(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR) {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = LR.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// Segment going into OldIdx.</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> OldIdxIn = LR.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(OldIdx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>());</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="comment">// No value live before or after OldIdx? Nothing to do.</span></div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">if</span> (OldIdxIn == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> || <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdx, OldIdxIn-&gt;start))</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160; </div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> OldIdxOut;</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="comment">// Do we have a value live-in to OldIdx?</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdxIn-&gt;start, OldIdx)) {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;      <span class="comment">// If the live-in value already extends to NewIdx, there is nothing to do.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a9a3b4f5099b0b155a28643224061e584">SlotIndex::isEarlierEqualInstr</a>(NewIdx, OldIdxIn-&gt;end))</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;      <span class="comment">// Aggressively remove all kill flags from the old kill point.</span></div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;      <span class="comment">// Kill flags shouldn&#39;t be used while live intervals exist, they will be</span></div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      <span class="comment">// reinserted by VirtRegRewriter.</span></div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *KillMI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(OldIdxIn-&gt;end))</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MOP : <a class="code" href="namespacellvm.html#a8b120c222d5347e31e269e758f4d5da9">mi_bundle_ops</a>(*KillMI))</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;          <span class="keywordflow">if</span> (MOP.isReg() &amp;&amp; MOP.isUse())</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;            MOP.setIsKill(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160; </div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      <span class="comment">// Is there a def before NewIdx which is not OldIdx?</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Next = std::next(OldIdxIn);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      <span class="keywordflow">if</span> (Next != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; !<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, Next-&gt;start) &amp;&amp;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;          <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(Next-&gt;start, NewIdx)) {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="comment">// If we are here then OldIdx was just a use but not a def. We only have</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="comment">// to ensure liveness extends to NewIdx.</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewIdxIn =</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;          LR.<a class="code" href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">advanceTo</a>(Next, NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>());</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="comment">// Extend the segment before NewIdx if necessary.</span></div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">if</span> (NewIdxIn == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> ||</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            !<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdxIn-&gt;start, NewIdx)) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Prev = std::prev(NewIdxIn);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;          Prev-&gt;end = NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;        <span class="comment">// Extend OldIdxIn.</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        OldIdxIn-&gt;end = Next-&gt;start;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160; </div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;      <span class="comment">// Adjust OldIdxIn-&gt;end to reach NewIdx. This may temporarily make LR</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;      <span class="comment">// invalid by overlapping ranges.</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;      <span class="keywordtype">bool</span> isKill = <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxIn-&gt;end);</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      OldIdxIn-&gt;end = NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(OldIdxIn-&gt;end.isEarlyClobber());</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="comment">// If this was not a kill, then there was no def and we&#39;re done.</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">if</span> (!isKill)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160; </div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      <span class="comment">// Did we have a Def at OldIdx?</span></div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      OldIdxOut = Next;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      <span class="keywordflow">if</span> (OldIdxOut == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> || !<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxOut-&gt;start))</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;      OldIdxOut = OldIdxIn;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160; </div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="comment">// If we are here then there is a Definition at OldIdx. OldIdxOut points</span></div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="comment">// to the segment starting there.</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldIdxOut != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxOut-&gt;start) &amp;&amp;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;           <span class="stringliteral">&quot;No def?&quot;</span>);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *OldIdxVNI = OldIdxOut-&gt;valno;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> == OldIdxOut-&gt;start &amp;&amp; <span class="stringliteral">&quot;Inconsistent def&quot;</span>);</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160; </div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="comment">// If the defined value extends beyond NewIdx, just move the beginning</span></div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="comment">// of the segment to NewIdx.</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIdxDef = NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(OldIdxOut-&gt;start.isEarlyClobber());</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdxDef, OldIdxOut-&gt;end)) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;      OldIdxOut-&gt;start = OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160; </div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">// If we are here then we have a Definition at OldIdx which ends before</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="comment">// NewIdx.</span></div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160; </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="comment">// Is there an existing Def at NewIdx?</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> AfterNewIdx</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      = LR.<a class="code" href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">advanceTo</a>(OldIdxOut, NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>());</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    <span class="keywordtype">bool</span> OldIdxDefIsDead = OldIdxOut-&gt;end.isDead();</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    <span class="keywordflow">if</span> (!OldIdxDefIsDead &amp;&amp;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdxOut-&gt;end, NewIdxDef)) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <span class="comment">// OldIdx is not a dead def, and NewIdxDef is inside a new interval.</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *DefVNI;</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      <span class="keywordflow">if</span> (OldIdxOut != LR.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>() &amp;&amp;</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;          !<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(std::prev(OldIdxOut)-&gt;end,</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                                     OldIdxOut-&gt;start)) {</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        <span class="comment">// There is no gap between OldIdxOut and its predecessor anymore,</span></div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="comment">// merge them.</span></div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> IPrev = std::prev(OldIdxOut);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        DefVNI = OldIdxVNI;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        IPrev-&gt;end = OldIdxOut-&gt;end;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        <span class="comment">// The value is live in to OldIdx</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> INext = std::next(OldIdxOut);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;        <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(INext != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <span class="stringliteral">&quot;Must have following segment&quot;</span>);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        <span class="comment">// We merge OldIdxOut and its successor. As we&#39;re dealing with subreg</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <span class="comment">// reordering, there is always a successor to OldIdxOut in the same BB</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        <span class="comment">// We don&#39;t need INext-&gt;valno anymore and will reuse for the new segment</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="comment">// we create later.</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        DefVNI = OldIdxVNI;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        INext-&gt;start = OldIdxOut-&gt;end;</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        INext-&gt;valno-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = INext-&gt;start;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      }</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="comment">// If NewIdx is behind the last segment, extend that and append a new one.</span></div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      <span class="keywordflow">if</span> (AfterNewIdx == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        <span class="comment">// OldIdxOut is undef at this point, Slide (OldIdxOut;AfterNewIdx] up</span></div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        <span class="comment">// one position.</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="comment">//    |-  ?/OldIdxOut -| |- X0 -| ... |- Xn -| end</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <span class="comment">// =&gt; |- X0/OldIdxOut -| ... |- Xn -| |- undef/NewS -| end</span></div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(std::next(OldIdxOut), <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>, OldIdxOut);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <span class="comment">// The last segment is undefined now, reuse it for a dead def.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewSegment = std::prev(<a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(NewIdxDef, NewIdxDef.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>(),</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;                                         DefVNI);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        DefVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160; </div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Prev = std::prev(NewSegment);</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;        Prev-&gt;end = NewIdxDef;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;        <span class="comment">// OldIdxOut is undef at this point, Slide (OldIdxOut;AfterNewIdx] up</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="comment">// one position.</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        <span class="comment">//    |-  ?/OldIdxOut -| |- X0 -| ... |- Xn/AfterNewIdx -| |- Next -|</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="comment">// =&gt; |- X0/OldIdxOut -| ... |- Xn -| |- Xn/AfterNewIdx -| |- Next -|</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(std::next(OldIdxOut), std::next(AfterNewIdx), OldIdxOut);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Prev = std::prev(AfterNewIdx);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="comment">// We have two cases:</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(Prev-&gt;start, NewIdxDef)) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;          <span class="comment">// Case 1: NewIdx is inside a liverange. Split this liverange at</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;          <span class="comment">// NewIdxDef into the segment &quot;Prev&quot; followed by &quot;NewSegment&quot;.</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewSegment = AfterNewIdx;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;          *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(NewIdxDef, Prev-&gt;end, Prev-&gt;valno);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;          Prev-&gt;valno-&gt;def = NewIdxDef;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160; </div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;          *Prev = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(Prev-&gt;start, NewIdxDef, DefVNI);</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          DefVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = Prev-&gt;start;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;          <span class="comment">// Case 2: NewIdx is in a lifetime hole. Keep AfterNewIdx as is and</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;          <span class="comment">// turn Prev into a segment from NewIdx to AfterNewIdx-&gt;start.</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;          *Prev = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(NewIdxDef, AfterNewIdx-&gt;start, DefVNI);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;          DefVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(DefVNI != AfterNewIdx-&gt;valno);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      }</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160; </div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keywordflow">if</span> (AfterNewIdx != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(AfterNewIdx-&gt;start, NewIdxDef)) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="comment">// There is an existing def at NewIdx. The def at OldIdx is coalesced into</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      <span class="comment">// that value.</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AfterNewIdx-&gt;valno != OldIdxVNI &amp;&amp; <span class="stringliteral">&quot;Multiple defs of value?&quot;</span>);</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;      LR.<a class="code" href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">removeValNo</a>(OldIdxVNI);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      <span class="comment">// There was no existing def at NewIdx. We need to create a dead def</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="comment">// at NewIdx. Shift segments over the old OldIdxOut segment, this frees</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;      <span class="comment">// a new segment at the place where we want to construct the dead def.</span></div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      <span class="comment">//    |- OldIdxOut -| |- X0 -| ... |- Xn -| |- AfterNewIdx -|</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;      <span class="comment">// =&gt; |- X0/OldIdxOut -| ... |- Xn -| |- undef/NewS. -| |- AfterNewIdx -|</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(AfterNewIdx != OldIdxOut &amp;&amp; <span class="stringliteral">&quot;Inconsistent iterators&quot;</span>);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <a class="code" href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">std::copy</a>(std::next(OldIdxOut), AfterNewIdx, OldIdxOut);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="comment">// We can reuse OldIdxVNI now.</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewSegment = std::prev(AfterNewIdx);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *NewSegmentVNI = OldIdxVNI;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;      NewSegmentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(NewIdxDef, NewIdxDef.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>(),</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;                                       NewSegmentVNI);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  }</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;<span class="comment">  /// Update LR to reflect an instruction has been moved upwards from OldIdx</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;<span class="comment">  /// to NewIdx (NewIdx &lt; OldIdx).</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> handleMoveUp(<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask) {</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = LR.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>();</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// Segment going into OldIdx.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> OldIdxIn = LR.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(OldIdx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>());</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160; </div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// No value live before or after OldIdx? Nothing to do.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (OldIdxIn == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> || <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdx, OldIdxIn-&gt;start))</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160; </div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> OldIdxOut;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="comment">// Do we have a value live-in to OldIdx?</span></div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(OldIdxIn-&gt;start, OldIdx)) {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="comment">// If the live-in value isn&#39;t killed here, then we have no Def at</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;      <span class="comment">// OldIdx, moreover the value must be live at NewIdx so there is nothing</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;      <span class="comment">// to do.</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      <span class="keywordtype">bool</span> isKill = <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxIn-&gt;end);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">if</span> (!isKill)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160; </div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;      <span class="comment">// At this point we have to move OldIdxIn-&gt;end back to the nearest</span></div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      <span class="comment">// previous use or (dead-)def but no further than NewIdx.</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> DefBeforeOldIdx</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        = <a class="code" href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">std::max</a>(OldIdxIn-&gt;start.getDeadSlot(),</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                   NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(OldIdxIn-&gt;end.isEarlyClobber()));</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      OldIdxIn-&gt;end = findLastUseBefore(DefBeforeOldIdx, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, LaneMask);</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160; </div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;      <span class="comment">// Did we have a Def at OldIdx? If not we are done now.</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;      OldIdxOut = std::next(OldIdxIn);</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;      <span class="keywordflow">if</span> (OldIdxOut == <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> || !<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxOut-&gt;start))</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      OldIdxOut = OldIdxIn;</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;      OldIdxIn = OldIdxOut != LR.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>() ? std::prev(OldIdxOut) : <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// If we are here then there is a Definition at OldIdx. OldIdxOut points</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// to the segment starting there.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldIdxOut != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(OldIdx, OldIdxOut-&gt;start) &amp;&amp;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;           <span class="stringliteral">&quot;No def?&quot;</span>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *OldIdxVNI = OldIdxOut-&gt;valno;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> == OldIdxOut-&gt;start &amp;&amp; <span class="stringliteral">&quot;Inconsistent def&quot;</span>);</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordtype">bool</span> OldIdxDefIsDead = OldIdxOut-&gt;end.isDead();</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="comment">// Is there an existing def at NewIdx?</span></div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIdxDef = NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(OldIdxOut-&gt;start.isEarlyClobber());</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewIdxOut = LR.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>());</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">SlotIndex::isSameInstr</a>(NewIdxOut-&gt;start, NewIdx)) {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewIdxOut-&gt;valno != OldIdxVNI &amp;&amp;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;             <span class="stringliteral">&quot;Same value defined more than once?&quot;</span>);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="comment">// If OldIdx was a dead def remove it.</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;      <span class="keywordflow">if</span> (!OldIdxDefIsDead) {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        <span class="comment">// Remove segment starting at NewIdx and move begin of OldIdxOut to</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="comment">// NewIdx so it can take its place.</span></div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        OldIdxOut-&gt;start = NewIdxDef;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        LR.<a class="code" href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">removeValNo</a>(NewIdxOut-&gt;valno);</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="comment">// Simply remove the dead def at OldIdx.</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        LR.<a class="code" href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">removeValNo</a>(OldIdxVNI);</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <span class="comment">// Previously nothing was live after NewIdx, so all we have to do now is</span></div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="comment">// move the begin of OldIdxOut to NewIdx.</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">if</span> (!OldIdxDefIsDead) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="comment">// Do we have any intermediate Defs between OldIdx and NewIdx?</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">if</span> (OldIdxIn != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;            <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdxDef, OldIdxIn-&gt;start)) {</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;          <span class="comment">// OldIdx is not a dead def and NewIdx is before predecessor start.</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewIdxIn = NewIdxOut;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(NewIdxIn == LR.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>()));</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          <span class="keyword">const</span> <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> SplitPos = NewIdxDef;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;          OldIdxVNI = OldIdxIn-&gt;valno;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160; </div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;          <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewDefEndPoint = std::next(NewIdxIn)-&gt;end;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Prev = std::prev(OldIdxIn);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;          <span class="keywordflow">if</span> (OldIdxIn != LR.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>() &amp;&amp;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;              <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdx, Prev-&gt;end)) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="comment">// If the segment before OldIdx read a value defined earlier than</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            <span class="comment">// NewIdx, the moved instruction also reads and forwards that</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;            <span class="comment">// value. Extend the lifetime of the new def point.</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160; </div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            <span class="comment">// Extend to where the previous range started, unless there is</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;            <span class="comment">// another redef first.</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            NewDefEndPoint = <a class="code" href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">std::min</a>(OldIdxIn-&gt;start,</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                      std::next(NewIdxOut)-&gt;start);</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;          }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160; </div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;          <span class="comment">// Merge the OldIdxIn and OldIdxOut segments into OldIdxOut.</span></div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;          OldIdxOut-&gt;valno-&gt;def = OldIdxIn-&gt;start;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;          *OldIdxOut = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(OldIdxIn-&gt;start, OldIdxOut-&gt;end,</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;                                          OldIdxOut-&gt;valno);</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;          <span class="comment">// OldIdxIn and OldIdxVNI are now undef and can be overridden.</span></div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;          <span class="comment">// We Slide [NewIdxIn, OldIdxIn) down one position.</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;          <span class="comment">//    |- X0/NewIdxIn -| ... |- Xn-1 -||- Xn/OldIdxIn -||- OldIdxOut -|</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;          <span class="comment">// =&gt; |- undef/NexIdxIn -| |- X0 -| ... |- Xn-1 -| |- Xn/OldIdxOut -|</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;          std::copy_backward(NewIdxIn, OldIdxIn, OldIdxOut);</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;          <span class="comment">// NewIdxIn is now considered undef so we can reuse it for the moved</span></div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;          <span class="comment">// value.</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewSegment = NewIdxIn;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;          <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> Next = std::next(NewSegment);</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(Next-&gt;start, NewIdx)) {</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;            <span class="comment">// There is no gap between NewSegment and its predecessor.</span></div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;            *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(Next-&gt;start, SplitPos,</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                                             Next-&gt;valno);</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160; </div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;            *Next = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(SplitPos, NewDefEndPoint, OldIdxVNI);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;            Next-&gt;valno-&gt;def = SplitPos;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;            <span class="comment">// There is a gap between NewSegment and its predecessor</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <span class="comment">// Value becomes live in.</span></div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(SplitPos, Next-&gt;start, OldIdxVNI);</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            NewSegment-&gt;valno-&gt;def = SplitPos;</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;          }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;          <span class="comment">// Leave the end point of a live def.</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;          OldIdxOut-&gt;start = NewIdxDef;</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;          OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;          <span class="keywordflow">if</span> (OldIdxIn != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> &amp;&amp; <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdx, OldIdxIn-&gt;end))</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;            OldIdxIn-&gt;end = NewIdxDef;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (OldIdxIn != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;          &amp;&amp; <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdxOut-&gt;start, NewIdx)</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;          &amp;&amp; <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(NewIdx, NewIdxOut-&gt;end)) {</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        <span class="comment">// OldIdxVNI is a dead def that has been moved into the middle of</span></div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="comment">// another value in LR. That can happen when LR is a whole register,</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        <span class="comment">// but the dead def is a write to a subreg that is dead at NewIdx.</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="comment">// The dead def may have been moved across other values</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <span class="comment">// in LR, so move OldIdxOut up to NewIdxOut. Slide [NewIdxOut;OldIdxOut)</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="comment">// down one position.</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <span class="comment">//    |- X0/NewIdxOut -| ... |- Xn-1 -| |- Xn/OldIdxOut -| |- next - |</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="comment">// =&gt; |- X0/NewIdxOut -| |- X0 -| ... |- Xn-1 -| |- next -|</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        std::copy_backward(NewIdxOut, OldIdxOut, std::next(OldIdxOut));</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        <span class="comment">// Modify the segment at NewIdxOut and the following segment to meet at</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="comment">// the point of the dead def, with the following segment getting</span></div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="comment">// OldIdxVNI as its value number.</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        *NewIdxOut = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            NewIdxOut-&gt;start, NewIdxDef.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(), NewIdxOut-&gt;valno);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        *(NewIdxOut + 1) = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            NewIdxDef.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(), (NewIdxOut + 1)-&gt;<a class="code" href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">end</a>, OldIdxVNI);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;        OldIdxVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="comment">// Modify subsequent segments to be defined by the moved def OldIdxVNI.</span></div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> *Idx = NewIdxOut + 2; Idx &lt;= OldIdxOut; ++Idx)</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;          Idx-&gt;valno = OldIdxVNI;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <span class="comment">// Aggressively remove all dead flags from the former dead definition.</span></div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="comment">// Kill/dead flags shouldn&#39;t be used while live intervals exist; they</span></div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        <span class="comment">// will be reinserted by VirtRegRewriter.</span></div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        <a class="code" href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *KillMI = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(NewIdx))</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;          <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MIBundleOperands.html">MIBundleOperands</a> MO(*KillMI); MO.<a class="code" href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">isValid</a>(); ++MO)</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;            <span class="keywordflow">if</span> (MO-&gt;isReg() &amp;&amp; !MO-&gt;isUse())</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;              MO-&gt;setIsDead(<span class="keyword">false</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <span class="comment">// OldIdxVNI is a dead def. It may have been moved across other values</span></div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;        <span class="comment">// in LR, so move OldIdxOut up to NewIdxOut. Slide [NewIdxOut;OldIdxOut)</span></div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        <span class="comment">// down one position.</span></div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <span class="comment">//    |- X0/NewIdxOut -| ... |- Xn-1 -| |- Xn/OldIdxOut -| |- next - |</span></div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        <span class="comment">// =&gt; |- undef/NewIdxOut -| |- X0 -| ... |- Xn-1 -| |- next -|</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        std::copy_backward(NewIdxOut, OldIdxOut, std::next(OldIdxOut));</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;        <span class="comment">// OldIdxVNI can be reused now to build a new dead def segment.</span></div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveRange::iterator</a> NewSegment = NewIdxOut;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *NewSegmentVNI = OldIdxVNI;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        *NewSegment = <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a>(NewIdxDef, NewIdxDef.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>(),</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                                         NewSegmentVNI);</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        NewSegmentVNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a> = NewIdxDef;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      }</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    }</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  }</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160; </div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  <span class="keywordtype">void</span> updateRegMaskSlots() {</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">SmallVectorImpl&lt;SlotIndex&gt;::iterator</a> RI =</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <a class="code" href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a>(LIS.RegMaskSlots, OldIdx);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(RI != LIS.RegMaskSlots.end() &amp;&amp; *RI == OldIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>() &amp;&amp;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;           <span class="stringliteral">&quot;No RegMask at OldIdx.&quot;</span>);</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    *RI = NewIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((RI == LIS.RegMaskSlots.begin() ||</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;            <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(*std::prev(RI), *RI)) &amp;&amp;</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;           <span class="stringliteral">&quot;Cannot move regmask instruction above another call&quot;</span>);</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((std::next(RI) == LIS.RegMaskSlots.end() ||</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(*RI, *std::next(RI))) &amp;&amp;</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;           <span class="stringliteral">&quot;Cannot move regmask instruction below another call&quot;</span>);</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  }</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160; </div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <span class="comment">// Return the last use of reg between NewIdx and OldIdx.</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> findLastUseBefore(<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Before, <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                              <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask) {</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual()) {</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> LastUse = Before;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>.<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">use_nodbg_operands</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;        <span class="keywordflow">if</span> (MO.isUndef())</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> != 0 &amp;&amp; LaneMask.<a class="code" href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">any</a>()</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;            &amp;&amp; (<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>) &amp; LaneMask).none())</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;          <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160; </div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *MO.getParent();</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> InstSlot = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>()-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="keywordflow">if</span> (InstSlot &gt; LastUse &amp;&amp; InstSlot &lt; OldIdx)</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;          LastUse = InstSlot.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;      }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      <span class="keywordflow">return</span> LastUse;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    }</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160; </div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;    <span class="comment">// This is a regunit interval, so scanning the use list could be very</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// expensive. Scan upwards from OldIdx instead.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(Before &lt; OldIdx &amp;&amp; <span class="stringliteral">&quot;Expected upwards move&quot;</span>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <a class="code" href="classllvm_1_1SlotIndexes.html">SlotIndexes</a> *Indexes = LIS.<a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    <a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a> = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">getMBBFromIndex</a>(Before);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160; </div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    <span class="comment">// OldIdx may not correspond to an instruction any longer, so set MII to</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    <span class="comment">// point to the next instruction after OldIdx, or MBB-&gt;end().</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> MII = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>();</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> *<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#abd4f451bd383e6ec8ba22245f04d855d">getInstructionFromIndex</a>(</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;                           Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a7ac607fdc1b84333c84cc74903c352a4">getNextNonNullIndex</a>(OldIdx)))</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>-&gt;getParent() == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        MII = <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>;</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160; </div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;    <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Begin = <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>();</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">while</span> (MII != Begin) {</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="keywordflow">if</span> ((--MII)-&gt;isDebugOrPseudoInstr())</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Idx = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(*MII);</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160; </div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;      <span class="comment">// Stop searching when Before is reached.</span></div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">SlotIndex::isEarlierInstr</a>(Before, Idx))</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;        <span class="keywordflow">return</span> Before;</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160; </div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="comment">// Check if MII uses Reg.</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MIBundleOperands.html">MIBundleOperands</a> MO(*MII); MO.<a class="code" href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">isValid</a>(); ++MO)</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <span class="keywordflow">if</span> (MO-&gt;isReg() &amp;&amp; !MO-&gt;isUndef() &amp;&amp; MO-&gt;getReg().isPhysical() &amp;&amp;</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;            <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>.<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a754b5821e9b04a747f114390c45a7a75">hasRegUnit</a>(MO-&gt;getReg(), <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;          <span class="keywordflow">return</span> Idx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    }</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="comment">// Didn&#39;t reach Before. It must be the first instruction in the block.</span></div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="keywordflow">return</span> Before;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;  }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;};</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160; </div>
<div class="line"><a name="l01505"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a29d12c5a65b3940bfac7b5aa1121ac70"> 1505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#a29d12c5a65b3940bfac7b5aa1121ac70">LiveIntervals::handleMove</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>, <span class="keywordtype">bool</span> UpdateFlags) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;  <span class="comment">// It is fine to move a bundle as a whole, but not an individual instruction</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="comment">// inside it.</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((!<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isBundled() || <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getOpcode() == TargetOpcode::BUNDLE) &amp;&amp;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;         <span class="stringliteral">&quot;Cannot move instruction in bundle&quot;</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> OldIndex = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a2aace9fd8246b0bdb9c352c5aa32f88d">removeMachineInstrFromMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIndex = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(<a class="code" href="classllvm_1_1LiveIntervals.html#a17bd0f1ec8263f735f29dd8840b7188f">getMBBStartIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()) &lt;= OldIndex &amp;&amp;</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;         OldIndex &lt; <a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.getParent()) &amp;&amp;</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;         <span class="stringliteral">&quot;Cannot handle moves across basic block boundaries.&quot;</span>);</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160; </div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <a class="code" href="classLiveIntervals_1_1HMEditor.html">HMEditor</a> HME(*<span class="keyword">this</span>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, OldIndex, NewIndex, UpdateFlags);</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  HME.<a class="code" href="classLiveIntervals_1_1HMEditor.html#aa060d1bdca0620ff13d49456dccf9303">updateAllRanges</a>(&amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;}</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160; </div>
<div class="line"><a name="l01521"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#aa1a6fbdf0a3311c7b9602dd67e46fef9"> 1521</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#aa1a6fbdf0a3311c7b9602dd67e46fef9">LiveIntervals::handleMoveIntoNewBundle</a>(<a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;BundleStart,</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;                                            <span class="keywordtype">bool</span> UpdateFlags) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>((BundleStart.<a class="code" href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">getOpcode</a>() == TargetOpcode::BUNDLE) &amp;&amp;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;         <span class="stringliteral">&quot;Bundle start is not a bundle&quot;</span>);</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;SlotIndex, 16&gt;</a> ToProcess;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> NewIndex = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">insertMachineInstrInMaps</a>(BundleStart);</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;  <span class="keyword">auto</span> BundleEnd = <a class="code" href="namespacellvm.html#a7f2b7ecbdbe9013ca2794761934d2bd9">getBundleEnd</a>(BundleStart.<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>());</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160; </div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keyword">auto</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = BundleStart.<a class="code" href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">getIterator</a>();</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="keywordflow">while</span> (<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != BundleEnd) {</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordflow">if</span> (!Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#ad05ea5ba061f9397ac8d15d02d77c812">hasIndex</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>))</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> OldIndex = Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">getInstructionIndex</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    ToProcess.push_back(OldIndex);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a2aace9fd8246b0bdb9c352c5aa32f88d">removeMachineInstrFromMaps</a>(*<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>++;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  }</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> OldIndex : ToProcess) {</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    <a class="code" href="classLiveIntervals_1_1HMEditor.html">HMEditor</a> HME(*<span class="keyword">this</span>, *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>, *<a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>, OldIndex, NewIndex, UpdateFlags);</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;    HME.<a class="code" href="classLiveIntervals_1_1HMEditor.html#aa060d1bdca0620ff13d49456dccf9303">updateAllRanges</a>(&amp;BundleStart);</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;  }</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160; </div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;  <span class="comment">// Fix up dead defs</span></div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <span class="keyword">const</span> <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> <a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a> = <a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(BundleStart);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> Idx = 0, <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a> = BundleStart.<a class="code" href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">getNumOperands</a>(); Idx != <a class="code" href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a>; ++Idx) {</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO = BundleStart.<a class="code" href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">getOperand</a>(Idx);</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    <span class="keywordflow">if</span> (!MO.<a class="code" href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">isReg</a>())</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.<a class="code" href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">getReg</a>();</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual() &amp;&amp; <a class="code" href="classllvm_1_1LiveIntervals.html#a11cd70de340f310acc70781d57a00136">hasInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp; !MO.<a class="code" href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">isUndef</a>()) {</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;      <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = <a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      <a class="code" href="classllvm_1_1LiveQueryResult.html">LiveQueryResult</a> LRQ = LI.<a class="code" href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">Query</a>(<a class="code" href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">Index</a>);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordflow">if</span> (LRQ.<a class="code" href="classllvm_1_1LiveQueryResult.html#a149e4cda329019551bbb27fe3159eca6">isDeadDef</a>())</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;        MO.<a class="code" href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">setIsDead</a>();</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;  }</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;}</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160; </div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;<span class="keywordtype">void</span> LiveIntervals::repairOldRegInRange(<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Begin,</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> End,</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> EndIdx, <a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> &amp;LR,</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;                                        <span class="keyword">const</span> <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>,</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                                        <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> LaneMask) {</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;  <a class="code" href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">LiveInterval::iterator</a> LII = LR.<a class="code" href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">find</a>(EndIdx);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> lastUseIdx;</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  <span class="keywordflow">if</span> (LII != LR.<a class="code" href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">end</a>() &amp;&amp; LII-&gt;start &lt; EndIdx) {</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    lastUseIdx = LII-&gt;end;</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LII == LR.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>()) {</div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;    <span class="comment">// We may not have a liverange at all if this is a subregister untouched</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="comment">// between \p Begin and \p End.</span></div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    --LII;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;  }</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160; </div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = End; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Begin;) {</div>
<div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOrPseudoInstr())</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160; </div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;    <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> instrIdx = <a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>);</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordtype">bool</span> isStartValid = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(LII-&gt;start);</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordtype">bool</span> isEndValid = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(LII-&gt;end);</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160; </div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;    <span class="comment">// FIXME: This doesn&#39;t currently handle early-clobber or multiple removed</span></div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">// defs inside of the region to repair.</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;      <span class="keywordflow">if</span> (!MO.isReg() || MO.getReg() != <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160; </div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;      <span class="keywordtype">unsigned</span> <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a> = MO.getSubReg();</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;      <a class="code" href="structllvm_1_1LaneBitmask.html">LaneBitmask</a> <a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> = <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>-&gt;<a class="code" href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">getSubRegIndexLaneMask</a>(<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a>);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">Mask</a> &amp; LaneMask).<a class="code" href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a>())</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160; </div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;      <span class="keywordflow">if</span> (MO.isDef()) {</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <span class="keywordflow">if</span> (!isStartValid) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;          <span class="keywordflow">if</span> (LII-&gt;end.isDead()) {</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;            LII = LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(LII, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <span class="keywordflow">if</span> (LII != LR.<a class="code" href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">begin</a>())</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;              --LII;</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;            LII-&gt;start = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            LII-&gt;valno-&gt;def = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;            <span class="keywordflow">if</span> (MO.getSubReg() &amp;&amp; !MO.isUndef())</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;              lastUseIdx = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;              lastUseIdx = <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>();</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;          }</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        }</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160; </div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <span class="keywordflow">if</span> (!lastUseIdx.<a class="code" href="classllvm_1_1SlotIndex.html#a5bcdd85778add4287db384472cde8acd">isValid</a>()) {</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;          <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LR.<a class="code" href="classllvm_1_1LiveRange.html#a69331ac1fdc66eee11c977845f2e472b">getNextValue</a>(instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(), VNInfoAllocator);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;          <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(),</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;                               instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">getDeadSlot</a>(), VNI);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;          LII = LR.<a class="code" href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">addSegment</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (LII-&gt;start != instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>()) {</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;          <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LR.<a class="code" href="classllvm_1_1LiveRange.html#a69331ac1fdc66eee11c977845f2e472b">getNextValue</a>(instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(), VNInfoAllocator);</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;          <a class="code" href="structllvm_1_1LiveRange_1_1Segment.html">LiveRange::Segment</a> <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>(instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>(), lastUseIdx, VNI);</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          LII = LR.<a class="code" href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">addSegment</a>(<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>);</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        }</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160; </div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;        <span class="keywordflow">if</span> (MO.getSubReg() &amp;&amp; !MO.isUndef())</div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;          lastUseIdx = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;          lastUseIdx = <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a>();</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MO.isUse()) {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <span class="comment">// FIXME: This should probably be handled outside of this branch,</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="comment">// either as part of the def case (for defs inside of the region) or</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;        <span class="comment">// after the loop over the region.</span></div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;        <span class="keywordflow">if</span> (!isEndValid &amp;&amp; !LII-&gt;end.isBlock())</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;          LII-&gt;end = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;        <span class="keywordflow">if</span> (!lastUseIdx.<a class="code" href="classllvm_1_1SlotIndex.html#a5bcdd85778add4287db384472cde8acd">isValid</a>())</div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;          lastUseIdx = instrIdx.<a class="code" href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">getRegSlot</a>();</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;      }</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;  }</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160; </div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;  <span class="keywordtype">bool</span> isStartValid = <a class="code" href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">getInstructionFromIndex</a>(LII-&gt;start);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;  <span class="keywordflow">if</span> (!isStartValid &amp;&amp; LII-&gt;end.isDead())</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;    LR.<a class="code" href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">removeSegment</a>(*LII, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;}</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160; </div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;<span class="keywordtype">void</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#a0d7e0d23a0453390a4c1e9a61afccdca"> 1647</a></span>&#160;<a class="code" href="classllvm_1_1LiveIntervals.html#a0d7e0d23a0453390a4c1e9a61afccdca">LiveIntervals::repairIntervalsInRange</a>(<a class="code" href="classllvm_1_1MachineBasicBlock.html">MachineBasicBlock</a> *<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>,</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                                      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> Begin,</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                                      <a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> End,</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                                      <a class="code" href="classllvm_1_1ArrayRef.html">ArrayRef&lt;Register&gt;</a> OrigRegs) {</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;  <span class="comment">// Find anchor points, which are at the beginning/end of blocks or at</span></div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;  <span class="comment">// instructions that already have indexes.</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;  <span class="keywordflow">while</span> (Begin != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">begin</a>() &amp;&amp; !Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#ad05ea5ba061f9397ac8d15d02d77c812">hasIndex</a>(*std::prev(Begin)))</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    --Begin;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;  <span class="keywordflow">while</span> (End != <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>() &amp;&amp; !Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#ad05ea5ba061f9397ac8d15d02d77c812">hasIndex</a>(*End))</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;    ++End;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160; </div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> EndIdx;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  <span class="keywordflow">if</span> (End == <a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>-&gt;<a class="code" href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">end</a>())</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;    EndIdx = <a class="code" href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">getMBBEndIdx</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>).<a class="code" href="classllvm_1_1SlotIndex.html#ac832da130f4d71a4533a69d98315fb19">getPrevSlot</a>();</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;    EndIdx = <a class="code" href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">getInstructionIndex</a>(*End);</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160; </div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  Indexes-&gt;<a class="code" href="classllvm_1_1SlotIndexes.html#a453e4d014fa115aebac6e1416cf7d64c">repairIndexesInRange</a>(<a class="code" href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a>, Begin, End);</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160; </div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="comment">// Make sure a live interval exists for all register operands in the range.</span></div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  <a class="code" href="classllvm_1_1SmallVector.html">SmallVector&lt;Register&gt;</a> RegsToRepair(OrigRegs.<a class="code" href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">begin</a>(), OrigRegs.<a class="code" href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">end</a>());</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MachineInstrBundleIterator.html">MachineBasicBlock::iterator</a> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = End; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> != Begin;) {</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;    --<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <a class="code" href="classllvm_1_1MachineInstr.html">MachineInstr</a> &amp;<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a> = *<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>;</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.isDebugOrPseudoInstr())</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <a class="code" href="classllvm_1_1MachineOperand.html">MachineOperand</a> &amp;MO : <a class="code" href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a>.operands()) {</div>
<div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;      <span class="keywordflow">if</span> (MO.isReg() &amp;&amp; MO.getReg().isVirtual()) {</div>
<div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;        <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = MO.getReg();</div>
<div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;        <span class="comment">// If the new instructions refer to subregs but the old instructions did</span></div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;        <span class="comment">// not, throw away any old live interval so it will be recomputed with</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;        <span class="comment">// subranges.</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;        <span class="keywordflow">if</span> (MO.getSubReg() &amp;&amp; <a class="code" href="classllvm_1_1LiveIntervals.html#a11cd70de340f310acc70781d57a00136">hasInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>) &amp;&amp;</div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            !<a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>).hasSubRanges() &amp;&amp;</div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;            <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#a7f2602cf77af82396115293302557ee0">shouldTrackSubRegLiveness</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>))</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;          <a class="code" href="classllvm_1_1LiveIntervals.html#aa07c0db20cf93bf2f558d00af34a6cb6">removeInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classllvm_1_1LiveIntervals.html#a11cd70de340f310acc70781d57a00136">hasInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>)) {</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;          <a class="code" href="classllvm_1_1LiveIntervals.html#aff210756ea606fd0fd721c8ccaba10c8">createAndComputeVirtRegInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;          <span class="comment">// Don&#39;t bother to repair a freshly calculated live interval.</span></div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;          <a class="code" href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">erase_value</a>(RegsToRepair, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        }</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      }</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    }</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  }</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160; </div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> : RegsToRepair) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>.isVirtual())</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160; </div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI = <a class="code" href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">getInterval</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="comment">// FIXME: Should we support undefs that gain defs?</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (!LI.<a class="code" href="classllvm_1_1LiveRange.html#ace8519cea9fa2e688a052df670afe41e">hasAtLeastOneValue</a>())</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160; </div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>())</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;      repairOldRegInRange(Begin, End, EndIdx, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.LaneMask);</div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">removeEmptySubRanges</a>();</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160; </div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;    repairOldRegInRange(Begin, End, EndIdx, LI, <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;  }</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;}</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160; </div>
<div class="line"><a name="l01709"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ae9f0ff5f13bf6cb4567247a39f7756e3"> 1709</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ae9f0ff5f13bf6cb4567247a39f7756e3">LiveIntervals::removePhysRegDefAt</a>(<a class="code" href="classllvm_1_1MCRegister.html">MCRegister</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1MCRegUnitIterator.html">MCRegUnitIterator</a> Unit(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>, <a class="code" href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a>); Unit.isValid(); ++Unit) {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1LiveRange.html">LiveRange</a> *LR = <a class="code" href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">getCachedRegUnit</a>(*Unit))</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LR-&gt;<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Pos))</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        LR-&gt;<a class="code" href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">removeValNo</a>(VNI);</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160; </div>
<div class="line"><a name="l01717"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ac332ca27d85adc8d21edd708be55dfe3"> 1717</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ac332ca27d85adc8d21edd708be55dfe3">LiveIntervals::removeVRegDefAt</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI, <a class="code" href="classllvm_1_1SlotIndex.html">SlotIndex</a> Pos) {</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="comment">// LI may not have the main range computed yet, but its subranges may</span></div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="comment">// be present.</span></div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  <a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *VNI = LI.<a class="code" href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">getVNInfoAt</a>(Pos);</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">if</span> (VNI != <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(VNI-&gt;<a class="code" href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">def</a>.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>() == Pos.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>());</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;    LI.<a class="code" href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">removeValNo</a>(VNI);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;  }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160; </div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;  <span class="comment">// Also remove the value defined in subranges.</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="classllvm_1_1LiveInterval_1_1SubRange.html">LiveInterval::SubRange</a> &amp;<a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a> : LI.<a class="code" href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">subranges</a>()) {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classllvm_1_1VNInfo.html">VNInfo</a> *SVNI = <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.getVNInfoAt(Pos))</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;      <span class="keywordflow">if</span> (SVNI-&gt;def.getBaseIndex() == Pos.<a class="code" href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">getBaseIndex</a>())</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <a class="code" href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a>.removeValNo(SVNI);</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  }</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;  LI.<a class="code" href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">removeEmptySubRanges</a>();</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;}</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160; </div>
<div class="line"><a name="l01735"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847"> 1735</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847">LiveIntervals::splitSeparateComponents</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI,</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="classllvm_1_1SmallVectorImpl.html">SmallVectorImpl&lt;LiveInterval*&gt;</a> &amp;SplitLIs) {</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;  <a class="code" href="classllvm_1_1ConnectedVNInfoEqClasses.html">ConnectedVNInfoEqClasses</a> ConEQ(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;  <span class="keywordtype">unsigned</span> NumComp = ConEQ.<a class="code" href="classllvm_1_1ConnectedVNInfoEqClasses.html#ab075ccec6878e16419fca5e423c7ddad">Classify</a>(LI);</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  <span class="keywordflow">if</span> (NumComp &lt;= 1)</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <a class="code" href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a>(<a class="code" href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">dbgs</a>() &lt;&lt; <span class="stringliteral">&quot;  Split &quot;</span> &lt;&lt; NumComp &lt;&lt; <span class="stringliteral">&quot; components: &quot;</span> &lt;&lt; LI &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  <a class="code" href="classllvm_1_1Register.html">Register</a> <a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a> = LI.<a class="code" href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">reg</a>();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> = 1; <a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a> &lt; NumComp; ++<a class="code" href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a>) {</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <a class="code" href="classllvm_1_1Register.html">Register</a> NewVReg = <a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>-&gt;<a class="code" href="classllvm_1_1MachineRegisterInfo.html#ac27689339b95eeb89bc9e40aa1e394f9">cloneVirtualRegister</a>(<a class="code" href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">Reg</a>);</div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;    <a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;NewLI = <a class="code" href="classllvm_1_1LiveIntervals.html#aaf80f24c12eff0b283dcfed7f6e5b9f8">createEmptyInterval</a>(NewVReg);</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;    SplitLIs.push_back(&amp;NewLI);</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  ConEQ.<a class="code" href="classllvm_1_1ConnectedVNInfoEqClasses.html#a5d79e4d110e15056182588d168ac6b2f">Distribute</a>(LI, SplitLIs.data(), *<a class="code" href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a>);</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;}</div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160; </div>
<div class="line"><a name="l01751"></a><span class="lineno"><a class="line" href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f"> 1751</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f">LiveIntervals::constructMainRangeFromSubranges</a>(<a class="code" href="classllvm_1_1LiveInterval.html">LiveInterval</a> &amp;LI) {</div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;  <a class="code" href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a>(LICalc &amp;&amp; <span class="stringliteral">&quot;LICalc not initialized.&quot;</span>);</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">reset</a>(MF, <a class="code" href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">getSlotIndexes</a>(), DomTree, &amp;<a class="code" href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">getVNInfoAllocator</a>());</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;  LICalc-&gt;<a class="code" href="classllvm_1_1LiveIntervalCalc.html#af5198110c0058e3d60524eecf500ee51">constructMainRangeFromSubranges</a>(LI);</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassllvm_1_1LiveRange_html_afeb00b9049a2391c990df15692caef63"><div class="ttname"><a href="classllvm_1_1LiveRange.html#afeb00b9049a2391c990df15692caef63">llvm::LiveRange::find</a></div><div class="ttdeci">iterator find(SlotIndex Pos)</div><div class="ttdoc">find - Return an iterator pointing to the first segment that ends after Pos, or end().</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00350">LiveInterval.cpp:350</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html">llvm::LaneBitmask</a></div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00040">LaneBitmask.h:40</a></div></div>
<div class="ttc" id="alib_2Target_2README_8txt_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="lib_2Target_2README_8txt.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2README_8txt_source.html#l00029">README.txt:29</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_a0e87cd4e143e345953638f545dd70530"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a0e87cd4e143e345953638f545dd70530">llvm::LiveQueryResult::valueDefined</a></div><div class="ttdeci">VNInfo * valueDefined() const</div><div class="ttdoc">Return the value defined by this instruction, if any.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00135">LiveInterval.h:135</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac3d33d3a8e2cf3bdc2932450f90f078f"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac3d33d3a8e2cf3bdc2932450f90f078f">llvm::LiveIntervals::addSegmentToEndOfBlock</a></div><div class="ttdeci">LiveInterval::Segment addSegmentToEndOfBlock(Register Reg, MachineInstr &amp;startInst)</div><div class="ttdoc">Given a register and an instruction, adds a live segment from that instruction to the end of its MBB.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00870">LiveIntervals.cpp:870</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_af4a07ae5c460ac08439a1a71d15e0166"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#af4a07ae5c460ac08439a1a71d15e0166">llvm::LiveInterval::computeSubRangeUndefs</a></div><div class="ttdeci">void computeSubRangeUndefs(SmallVectorImpl&lt; SlotIndex &gt; &amp;Undefs, LaneBitmask LaneMask, const MachineRegisterInfo &amp;MRI, const SlotIndexes &amp;Indexes) const</div><div class="ttdoc">For a given lane mask LaneMask, compute indexes at which the lane is marked undefined by subregister ...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00962">LiveInterval.cpp:962</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a3e3d63f9de68891facf6a6b0124af4b0"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a3e3d63f9de68891facf6a6b0124af4b0">llvm::SlotIndexes::getMBBRange</a></div><div class="ttdeci">const std::pair&lt; SlotIndex, SlotIndex &gt; &amp; getMBBRange(unsigned Num) const</div><div class="ttdoc">Return the (start,end) range of the given basic block number.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00460">SlotIndexes.h:460</a></div></div>
<div class="ttc" id="aIRTranslator_8cpp_html_abe44dfdea65b4f7e11e0a608ab708b76"><div class="ttname"><a href="IRTranslator_8cpp.html#abe44dfdea65b4f7e11e0a608ab708b76">MI</a></div><div class="ttdeci">IRTranslator LLVM IR MI</div><div class="ttdef"><b>Definition:</b> <a href="IRTranslator_8cpp_source.html#l00109">IRTranslator.cpp:109</a></div></div>
<div class="ttc" id="aMachineInstr_8h_html"><div class="ttname"><a href="MachineInstr_8h.html">MachineInstr.h</a></div></div>
<div class="ttc" id="aCompiler_8h_html_aa863693eef567397d9c292da5bf22d34"><div class="ttname"><a href="Compiler_8h.html#aa863693eef567397d9c292da5bf22d34">LLVM_DUMP_METHOD</a></div><div class="ttdeci">#define LLVM_DUMP_METHOD</div><div class="ttdoc">Mark debug helper function definitions like dump() that should not be stripped from debug builds.</div><div class="ttdef"><b>Definition:</b> <a href="Compiler_8h_source.html#l00492">Compiler.h:492</a></div></div>
<div class="ttc" id="aMathExtras_8h_html"><div class="ttname"><a href="MathExtras_8h.html">MathExtras.h</a></div></div>
<div class="ttc" id="anamespacellvm_html"><div class="ttname"><a href="namespacellvm.html">llvm</a></div><div class="ttdoc">This is an optimization pass for GlobalISel generic memory operations.</div><div class="ttdef"><b>Definition:</b> <a href="AddressRanges_8h_source.html#l00018">AddressRanges.h:18</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5aceb138f68fe183995736614928e3394a">llvm::tgtok::Def</a></div><div class="ttdeci">@ Def</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a48ad9eedacb98923ab00074ec4760db2"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a48ad9eedacb98923ab00074ec4760db2">llvm::MachineRegisterInfo::subRegLivenessEnabled</a></div><div class="ttdeci">bool subRegLivenessEnabled() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00233">MachineRegisterInfo.h:233</a></div></div>
<div class="ttc" id="alib_2Target_2X86_2README_8txt_html_ac88fe1d3a61b056a4f64fbbb156a62ff"><div class="ttname"><a href="lib_2Target_2X86_2README_8txt.html#ac88fe1d3a61b056a4f64fbbb156a62ff">M</a></div><div class="ttdeci">We currently emits eax Perhaps this is what we really should generate is Is imull three or four cycles eax eax The current instruction priority is based on pattern complexity The former is more complex because it folds a load so the latter will not be emitted Perhaps we should use AddedComplexity to give LEA32r a higher priority We should always try to match LEA first since the LEA matching code does some estimate to determine whether the match is profitable if we care more about code then imull is better It s two bytes shorter than movl leal On a Pentium M</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2X86_2README_8txt_source.html#l00252">README.txt:252</a></div></div>
<div class="ttc" id="aAArch64ExpandPseudoInsts_8cpp_html_a6cf2f8996b1e9aaf2d7a435aaa62382f"><div class="ttname"><a href="AArch64ExpandPseudoInsts_8cpp.html#a6cf2f8996b1e9aaf2d7a435aaa62382f">UseMI</a></div><div class="ttdeci">MachineInstrBuilder &amp; UseMI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64ExpandPseudoInsts_8cpp_source.html#l00107">AArch64ExpandPseudoInsts.cpp:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a66ff664a97cd3c30de7e873335a0c075"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a66ff664a97cd3c30de7e873335a0c075">llvm::LiveRange::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00382">LiveInterval.h:382</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a7f2602cf77af82396115293302557ee0"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a7f2602cf77af82396115293302557ee0">llvm::MachineRegisterInfo::shouldTrackSubRegLiveness</a></div><div class="ttdeci">bool shouldTrackSubRegLiveness(const TargetRegisterClass &amp;RC) const</div><div class="ttdoc">Returns true if liveness for register class RC should be tracked at the subregister level.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00226">MachineRegisterInfo.h:226</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_afb60ddfb929ff4265623f2aa4f39a83e"><div class="ttname"><a href="classllvm_1_1LiveRange.html#afb60ddfb929ff4265623f2aa4f39a83e">llvm::LiveRange::flushSegmentSet</a></div><div class="ttdeci">void flushSegmentSet()</div><div class="ttdoc">Flush segment set into the regular segment vector.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00790">LiveInterval.cpp:790</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aaedf1d3001470af7cdb616868c247ffe"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aaedf1d3001470af7cdb616868c247ffe">llvm::LiveIntervals::getSlotIndexes</a></div><div class="ttdeci">SlotIndexes * getSlotIndexes() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00209">LiveIntervals.h:209</a></div></div>
<div class="ttc" id="aclassLiveIntervals_1_1HMEditor_html_a2af11d9bada2b46a909013252a50c2e8"><div class="ttname"><a href="classLiveIntervals_1_1HMEditor.html#a2af11d9bada2b46a909013252a50c2e8">llvm::LiveIntervals::HMEditor::getRegUnitLI</a></div><div class="ttdeci">LiveRange * getRegUnitLI(unsigned Unit)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00994">LiveIntervals.cpp:994</a></div></div>
<div class="ttc" id="aclassllvm_1_1BumpPtrAllocatorImpl_html_a977c94ac0ef5e305e5cf40726351d88a"><div class="ttname"><a href="classllvm_1_1BumpPtrAllocatorImpl.html#a977c94ac0ef5e305e5cf40726351d88a">llvm::BumpPtrAllocatorImpl::Reset</a></div><div class="ttdeci">void Reset()</div><div class="ttdoc">Deallocate all but the current slab and reset the current pointer to the beginning of it,...</div><div class="ttdef"><b>Definition:</b> <a href="Allocator_8h_source.html#l00123">Allocator.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConnectedVNInfoEqClasses_html_a5d79e4d110e15056182588d168ac6b2f"><div class="ttname"><a href="classllvm_1_1ConnectedVNInfoEqClasses.html#a5d79e4d110e15056182588d168ac6b2f">llvm::ConnectedVNInfoEqClasses::Distribute</a></div><div class="ttdeci">void Distribute(LiveInterval &amp;LI, LiveInterval *LIV[], MachineRegisterInfo &amp;MRI)</div><div class="ttdoc">Distribute values in LI into a separate LiveIntervals for each connected component.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l01346">LiveInterval.cpp:1346</a></div></div>
<div class="ttc" id="aAMDGPURewriteUndefForPHI_8cpp_html_a2e83cb1bc3f5e8986cbd14575755a134"><div class="ttname"><a href="AMDGPURewriteUndefForPHI_8cpp.html#a2e83cb1bc3f5e8986cbd14575755a134">PHI</a></div><div class="ttdeci">Rewrite undef for PHI</div><div class="ttdef"><b>Definition:</b> <a href="AMDGPURewriteUndefForPHI_8cpp_source.html#l00101">AMDGPURewriteUndefForPHI.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a9a3b4f5099b0b155a28643224061e584"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a9a3b4f5099b0b155a28643224061e584">llvm::SlotIndex::isEarlierEqualInstr</a></div><div class="ttdeci">static bool isEarlierEqualInstr(SlotIndex A, SlotIndex B)</div><div class="ttdoc">Return true if A refers to the same instruction as B or an earlier one.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00210">SlotIndexes.h:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a5bcdd85778add4287db384472cde8acd"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a5bcdd85778add4287db384472cde8acd">llvm::SlotIndex::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Returns true if this is a valid index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00152">SlotIndexes.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html">llvm::MachineRegisterInfo</a></div><div class="ttdoc">MachineRegisterInfo - Keep track of information for virtual and physical registers,...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00051">MachineRegisterInfo.h:51</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa81eb67f09ee4944eaeeddbc54c0c0de"><div class="ttname"><a href="namespacellvm.html#aa81eb67f09ee4944eaeeddbc54c0c0de">llvm::lower_bound</a></div><div class="ttdeci">auto lower_bound(R &amp;&amp;Range, T &amp;&amp;Value)</div><div class="ttdoc">Provide wrappers to std::lower_bound which take ranges instead of having to pass begin/end explicitly...</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l01923">STLExtras.h:1923</a></div></div>
<div class="ttc" id="aPass_8h_html"><div class="ttname"><a href="Pass_8h.html">Pass.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_ad34f7e3cd7a9add3ab2529e267b48004"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#ad34f7e3cd7a9add3ab2529e267b48004">llvm::TargetSubtargetInfo::getInstrInfo</a></div><div class="ttdeci">virtual const TargetInstrInfo * getInstrInfo() const</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00095">TargetSubtargetInfo.h:95</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a35bbc237e4a675c5332103ac6e7dcce1"><div class="ttname"><a href="classllvm_1_1BitVector.html#a35bbc237e4a675c5332103ac6e7dcce1">llvm::BitVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear - Removes all bits from the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00328">BitVector.h:328</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a9b76b9e6f7d06ec15424e309cf440114"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a9b76b9e6f7d06ec15424e309cf440114">llvm::ArrayRef::iterator</a></div><div class="ttdeci">const_pointer iterator</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00048">ArrayRef.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_adf79c67be15a983c455d1910c447e9bd"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#adf79c67be15a983c455d1910c447e9bd">llvm::LiveQueryResult::valueOutOrDead</a></div><div class="ttdeci">VNInfo * valueOutOrDead() const</div><div class="ttdoc">Returns the value alive at the end of the instruction, if any.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00129">LiveInterval.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVector_html"><div class="ttname"><a href="classllvm_1_1SmallVector.html">llvm::SmallVector</a></div><div class="ttdoc">This is a 'vector' (really, a variable-sized array), optimized for the case when the array is small.</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l01199">SmallVector.h:1199</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a60203ad10397a7340f8a0e44ac25368d"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a60203ad10397a7340f8a0e44ac25368d">llvm::LiveRange::advanceTo</a></div><div class="ttdeci">iterator advanceTo(iterator I, SlotIndex Pos)</div><div class="ttdoc">advanceTo - Advance the specified iterator to point to the Segment containing the specified position,...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00271">LiveInterval.h:271</a></div></div>
<div class="ttc" id="anamespacellvm_html_af7881286e3ea4d7f1c4a63c87c132dac"><div class="ttname"><a href="namespacellvm.html#af7881286e3ea4d7f1c4a63c87c132dac">llvm::printMBBReference</a></div><div class="ttdeci">Printable printMBBReference(const MachineBasicBlock &amp;MBB)</div><div class="ttdoc">Prints a machine basic block reference.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l00118">MachineBasicBlock.cpp:118</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a372477c8f0715cd2910aeec40fc5ad1b"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a372477c8f0715cd2910aeec40fc5ad1b">llvm::LiveIntervals::getRegMaskSlotsInBlock</a></div><div class="ttdeci">ArrayRef&lt; SlotIndex &gt; getRegMaskSlotsInBlock(unsigned MBBNum) const</div><div class="ttdoc">Returns a sorted array of slot indices of all instructions with register mask operands in the basic b...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00349">LiveIntervals.h:349</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ada0488ce8dde6e7677f28b8ddbafdcbd"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ada0488ce8dde6e7677f28b8ddbafdcbd">llvm::LiveIntervals::getInstructionFromIndex</a></div><div class="ttdeci">MachineInstr * getInstructionFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the instruction associated with the given index.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00225">LiveIntervals.h:225</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html">llvm::VirtRegMap</a></div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00033">VirtRegMap.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_ad445a5028efdf094173a202811f003e3"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#ad445a5028efdf094173a202811f003e3">llvm::LiveRangeCalc::extend</a></div><div class="ttdeci">void extend(LiveRange &amp;LR, SlotIndex Use, unsigned PhysReg, ArrayRef&lt; SlotIndex &gt; Undefs)</div><div class="ttdoc">Extend the live range of LR to reach Use.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00087">LiveRangeCalc.cpp:87</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_af946f316ed42f8b5eb99735a3b587ab5"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#af946f316ed42f8b5eb99735a3b587ab5">llvm::MCRegisterInfo::getNumRegs</a></div><div class="ttdeci">unsigned getNumRegs() const</div><div class="ttdoc">Return the number of registers this target has (useful for sizing arrays holding per register informa...</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00491">MCRegisterInfo.h:491</a></div></div>
<div class="ttc" id="anamespacellvm_1_1X86Disassembler_html_a1e59b79e1d09149912cad9c0ef2809ad"><div class="ttname"><a href="namespacellvm_1_1X86Disassembler.html#a1e59b79e1d09149912cad9c0ef2809ad">llvm::X86Disassembler::Reg</a></div><div class="ttdeci">Reg</div><div class="ttdoc">All possible values of the reg field in the ModR/M byte.</div><div class="ttdef"><b>Definition:</b> <a href="X86DisassemblerDecoder_8h_source.html#l00462">X86DisassemblerDecoder.h:462</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_a149e4cda329019551bbb27fe3159eca6"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a149e4cda329019551bbb27fe3159eca6">llvm::LiveQueryResult::isDeadDef</a></div><div class="ttdeci">bool isDeadDef() const</div><div class="ttdoc">Return true if this instruction has a dead def.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00117">LiveInterval.h:117</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html_ad189a61a150fd97af1f0b15fed77974f"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html#ad189a61a150fd97af1f0b15fed77974f">llvm::MachineBlockFrequencyInfo::getBlockFreqRelativeToEntryBlock</a></div><div class="ttdeci">float getBlockFreqRelativeToEntryBlock(const MachineBasicBlock *MBB) const</div><div class="ttdoc">Compute the frequency of the block, relative to the entry block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00068">MachineBlockFrequencyInfo.h:68</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html">llvm::LiveRange::Segment</a></div><div class="ttdoc">This represents a simple continuous liveness interval for a value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00162">LiveInterval.h:162</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_abc913cf0bab81b94548cd3c8eeb33117"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#abc913cf0bab81b94548cd3c8eeb33117">llvm::LiveIntervals::intervalIsInOneMBB</a></div><div class="ttdeci">MachineBasicBlock * intervalIsInOneMBB(const LiveInterval &amp;LI) const</div><div class="ttdoc">If LI is confined to a single basic block, return a pointer to that block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00816">LiveIntervals.cpp:816</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html">llvm::MachineFunctionPass</a></div><div class="ttdoc">MachineFunctionPass - This class adapts the FunctionPass interface to allow convenient creation of pa...</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8h_source.html#l00030">MachineFunctionPass.h:30</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa3bc1efc2622aa9bf1e0d05b3d9600de"><div class="ttname"><a href="namespacellvm.html#aa3bc1efc2622aa9bf1e0d05b3d9600de">llvm::huge_valf</a></div><div class="ttdeci">const float huge_valf</div><div class="ttdoc">Use this rather than HUGE_VALF; the latter causes warnings on MSVC.</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8cpp_source.html#l00028">MathExtras.cpp:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a6e3886e9084257e74b5db4a8951d36e0"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6e3886e9084257e74b5db4a8951d36e0">llvm::LiveIntervals::addKillFlags</a></div><div class="ttdeci">void addKillFlags(const VirtRegMap *)</div><div class="ttdoc">Add kill flags to any instruction that kills a virtual register.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00691">LiveIntervals.cpp:691</a></div></div>
<div class="ttc" id="aMachineBasicBlock_8h_html"><div class="ttname"><a href="MachineBasicBlock_8h.html">MachineBasicBlock.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetSubtargetInfo_html_a87849514193302b75f50a8092f94b98a"><div class="ttname"><a href="classllvm_1_1TargetSubtargetInfo.html#a87849514193302b75f50a8092f94b98a">llvm::TargetSubtargetInfo::getRegisterInfo</a></div><div class="ttdeci">virtual const TargetRegisterInfo * getRegisterInfo() const</div><div class="ttdoc">getRegisterInfo - If register information is available, return it.</div><div class="ttdef"><b>Definition:</b> <a href="TargetSubtargetInfo_8h_source.html#l00127">TargetSubtargetInfo.h:127</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6"><div class="ttname"><a href="namespacellvm_1_1cl.html#a68075925a54790e71ca790e1d4f21a40a263ac008d8d31f13ce460395fc4cf7e6">llvm::cl::Hidden</a></div><div class="ttdeci">@ Hidden</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00138">CommandLine.h:138</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ae623a0f1ab59da851f2ebf1674d1fddb"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae623a0f1ab59da851f2ebf1674d1fddb">llvm::VNInfo::def</a></div><div class="ttdeci">SlotIndex def</div><div class="ttdoc">The index of the defining instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00061">LiveInterval.h:61</a></div></div>
<div class="ttc" id="aclassLiveIntervals_1_1HMEditor_html_a7506c455b7a216d91ccb3b6dbb977e94"><div class="ttname"><a href="classLiveIntervals_1_1HMEditor.html#a7506c455b7a216d91ccb3b6dbb977e94">llvm::LiveIntervals::HMEditor::HMEditor</a></div><div class="ttdeci">HMEditor(LiveIntervals &amp;LIS, const MachineRegisterInfo &amp;MRI, const TargetRegisterInfo &amp;TRI, SlotIndex OldIdx, SlotIndex NewIdx, bool UpdateFlags)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00984">LiveIntervals.cpp:984</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_aa22424ba23740b6a748e8d0c239b7e4c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#aa22424ba23740b6a748e8d0c239b7e4c">llvm::MachineFunction::getNumBlockIDs</a></div><div class="ttdeci">unsigned getNumBlockIDs() const</div><div class="ttdoc">getNumBlockIDs - Return the number of MBB ID's allocated.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00815">MachineFunction.h:815</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html">llvm::TargetRegisterInfo</a></div><div class="ttdoc">TargetRegisterInfo base class - We assume that the target defines a static array of TargetRegisterDes...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00236">TargetRegisterInfo.h:236</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aa07c0db20cf93bf2f558d00af34a6cb6"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aa07c0db20cf93bf2f558d00af34a6cb6">llvm::LiveIntervals::removeInterval</a></div><div class="ttdeci">void removeInterval(Register Reg)</div><div class="ttdoc">Interval removal.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00143">LiveIntervals.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a98d240595236bf85bf1a5c5ba594bdba"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a98d240595236bf85bf1a5c5ba594bdba">llvm::MachineBasicBlock::liveins</a></div><div class="ttdeci">iterator_range&lt; livein_iterator &gt; liveins() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00453">MachineBasicBlock.h:453</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a9e8b3eb0eead4bc00b20663fea97fe1d"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a9e8b3eb0eead4bc00b20663fea97fe1d">llvm::LiveIntervals::getRegMaskSlots</a></div><div class="ttdeci">ArrayRef&lt; SlotIndex &gt; getRegMaskSlots() const</div><div class="ttdoc">Returns a sorted array of slot indices of all instructions with register mask operands.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00345">LiveIntervals.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a32859a24aa7a3be269855b989d92a4b4"><div class="ttname"><a href="classllvm_1_1BitVector.html#a32859a24aa7a3be269855b989d92a4b4">llvm::BitVector::resize</a></div><div class="ttdeci">void resize(unsigned N, bool t=false)</div><div class="ttdoc">resize - Grow or shrink the bitvector.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00334">BitVector.h:334</a></div></div>
<div class="ttc" id="anamespacellvm_1_1tgtok_html_abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95"><div class="ttname"><a href="namespacellvm_1_1tgtok.html#abbc5259d649363016626e2529fabe0c5a3c0710aa6b054662f67b480712fa2b95">llvm::tgtok::Bits</a></div><div class="ttdeci">@ Bits</div><div class="ttdef"><b>Definition:</b> <a href="TGLexer_8h_source.html#l00050">TGLexer.h:50</a></div></div>
<div class="ttc" id="anamespacellvm_1_1sys_1_1path_html_a214ec2f04ffd92636ed4bd2717607a1d"><div class="ttname"><a href="namespacellvm_1_1sys_1_1path.html#a214ec2f04ffd92636ed4bd2717607a1d">llvm::sys::path::end</a></div><div class="ttdeci">const_iterator end(StringRef path)</div><div class="ttdoc">Get end iterator over path.</div><div class="ttdef"><b>Definition:</b> <a href="Path_8cpp_source.html#l00235">Path.cpp:235</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html_a85f7bf79596d84273b5b3b9b490bc2ec"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html#a85f7bf79596d84273b5b3b9b490bc2ec">llvm::LiveRange::Segment::start</a></div><div class="ttdeci">SlotIndex start</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00163">LiveInterval.h:163</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ae73582bbbc71758dcac70cd8c56210e4"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ae73582bbbc71758dcac70cd8c56210e4">llvm::MachineRegisterInfo::getNumVirtRegs</a></div><div class="ttdeci">unsigned getNumVirtRegs() const</div><div class="ttdoc">getNumVirtRegs - Return the number of virtual registers created.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00784">MachineRegisterInfo.h:784</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSet_html"><div class="ttname"><a href="classllvm_1_1SmallPtrSet.html">llvm::SmallPtrSet</a></div><div class="ttdoc">SmallPtrSet - This class implements a set which is optimized for holding SmallSize or less elements.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00450">SmallPtrSet.h:450</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a453e4d014fa115aebac6e1416cf7d64c"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a453e4d014fa115aebac6e1416cf7d64c">llvm::SlotIndexes::repairIndexesInRange</a></div><div class="ttdeci">void repairIndexesInRange(MachineBasicBlock *MBB, MachineBasicBlock::iterator Begin, MachineBasicBlock::iterator End)</div><div class="ttdoc">Repair indexes after adding and removing instructions.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8cpp_source.html#l00179">SlotIndexes.cpp:179</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a662867d9274595cdac0092afa45888be"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a662867d9274595cdac0092afa45888be">llvm::SlotIndexes::getMBBEndIdx</a></div><div class="ttdeci">SlotIndex getMBBEndIdx(unsigned Num) const</div><div class="ttdoc">Returns the last index in the given basic block number.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00481">SlotIndexes.h:481</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a1979c563289f871907832e419889f979"><div class="ttname"><a href="classllvm_1_1Register.html#a1979c563289f871907832e419889f979">llvm::Register::index2VirtReg</a></div><div class="ttdeci">static Register index2VirtReg(unsigned Index)</div><div class="ttdoc">Convert a 0-based index to a virtual register number.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00084">Register.h:84</a></div></div>
<div class="ttc" id="anamespacellvm_html_ab4d4bc901fedd8857f647dcc2c0d71de"><div class="ttname"><a href="namespacellvm.html#ab4d4bc901fedd8857f647dcc2c0d71de">llvm::max</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; max(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00337">FileCheck.cpp:337</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ace3ed0412f841777b7de55d47883890e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ace3ed0412f841777b7de55d47883890e">llvm::MachineBasicBlock::back</a></div><div class="ttdeci">MachineInstr &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00289">MachineBasicBlock.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_html_a1c0e50e50918b2c91b99e1188d41c901"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo.html#a1c0e50e50918b2c91b99e1188d41c901">llvm::MCRegisterInfo::getNumRegUnits</a></div><div class="ttdeci">unsigned getNumRegUnits() const</div><div class="ttdoc">Return the number of (native) register units in the target.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00505">MCRegisterInfo.h:505</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html">llvm::LiveQueryResult</a></div><div class="ttdoc">Result of a LiveRange query.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00090">LiveInterval.h:90</a></div></div>
<div class="ttc" id="anamespacellvm_html_a8b120c222d5347e31e269e758f4d5da9"><div class="ttname"><a href="namespacellvm.html#a8b120c222d5347e31e269e758f4d5da9">llvm::mi_bundle_ops</a></div><div class="ttdeci">iterator_range&lt; MIBundleOperands &gt; mi_bundle_ops(MachineInstr &amp;MI)</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00210">MachineInstrBundle.h:210</a></div></div>
<div class="ttc" id="aMachineSink_8cpp_html_a0f36ed1bc17fc1aa97fe291c439a0698"><div class="ttname"><a href="MachineSink_8cpp.html#a0f36ed1bc17fc1aa97fe291c439a0698">TRI</a></div><div class="ttdeci">unsigned const TargetRegisterInfo * TRI</div><div class="ttdef"><b>Definition:</b> <a href="MachineSink_8cpp_source.html#l01628">MachineSink.cpp:1628</a></div></div>
<div class="ttc" id="anamespacellvm_1_1LegalityPredicates_html_a6fef38ab5d0c9c582fe6cae7d8badf5f"><div class="ttname"><a href="namespacellvm_1_1LegalityPredicates.html#a6fef38ab5d0c9c582fe6cae7d8badf5f">llvm::LegalityPredicates::any</a></div><div class="ttdeci">Predicate any(Predicate P0, Predicate P1)</div><div class="ttdoc">True iff P0 or P1 are true.</div><div class="ttdef"><b>Definition:</b> <a href="LegalizerInfo_8h_source.html#l00241">LegalizerInfo.h:241</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aff210756ea606fd0fd721c8ccaba10c8"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aff210756ea606fd0fd721c8ccaba10c8">llvm::LiveIntervals::createAndComputeVirtRegInterval</a></div><div class="ttdeci">LiveInterval &amp; createAndComputeVirtRegInterval(Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00136">LiveIntervals.h:136</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a5b83266ee091a07ac1702d0e8c4a1937"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a5b83266ee091a07ac1702d0e8c4a1937">llvm::LiveIntervals::getMBBFromIndex</a></div><div class="ttdeci">MachineBasicBlock * getMBBFromIndex(SlotIndex index) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00249">LiveIntervals.h:249</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunctionPass_html_a864fd57b4304ef933b3281d0ef85a88e"><div class="ttname"><a href="classllvm_1_1MachineFunctionPass.html#a864fd57b4304ef933b3281d0ef85a88e">llvm::MachineFunctionPass::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - Subclasses that override getAnalysisUsage must call this.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunctionPass_8cpp_source.html#l00167">MachineFunctionPass.cpp:167</a></div></div>
<div class="ttc" id="aDebug_8h_html_a08efc68d15935eb8889400a46c3749ba"><div class="ttname"><a href="Debug_8h.html#a08efc68d15935eb8889400a46c3749ba">LLVM_DEBUG</a></div><div class="ttdeci">#define LLVM_DEBUG(X)</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8h_source.html#l00101">Debug.h:101</a></div></div>
<div class="ttc" id="aDepthFirstIterator_8h_html"><div class="ttname"><a href="DepthFirstIterator_8h.html">DepthFirstIterator.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervalCalc_html_af5198110c0058e3d60524eecf500ee51"><div class="ttname"><a href="classllvm_1_1LiveIntervalCalc.html#af5198110c0058e3d60524eecf500ee51">llvm::LiveIntervalCalc::constructMainRangeFromSubranges</a></div><div class="ttdeci">void constructMainRangeFromSubranges(LiveInterval &amp;LI)</div><div class="ttdoc">For live interval LI with correct SubRanges construct matching information for the main live range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8cpp_source.html#l00107">LiveIntervalCalc.cpp:107</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a6f3043b29023d270fc4bc5062dff7cee"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a6f3043b29023d270fc4bc5062dff7cee">llvm::LiveIntervals::getInstructionIndex</a></div><div class="ttdeci">SlotIndex getInstructionIndex(const MachineInstr &amp;Instr) const</div><div class="ttdoc">Returns the base index of the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00220">LiveIntervals.h:220</a></div></div>
<div class="ttc" id="aMachineRegisterInfo_8h_html"><div class="ttname"><a href="MachineRegisterInfo_8h.html">MachineRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a29d12c5a65b3940bfac7b5aa1121ac70"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a29d12c5a65b3940bfac7b5aa1121ac70">llvm::LiveIntervals::handleMove</a></div><div class="ttdeci">void handleMove(MachineInstr &amp;MI, bool UpdateFlags=false)</div><div class="ttdoc">Call this method to notify LiveIntervals that instruction MI has been moved within a basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01505">LiveIntervals.cpp:1505</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9b4b2c1bb443279588bd6582ad6a86b2"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9b4b2c1bb443279588bd6582ad6a86b2">llvm::LiveRange::beginIndex</a></div><div class="ttdeci">SlotIndex beginIndex() const</div><div class="ttdoc">beginIndex - Return the lowest numbered slot covered.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00385">LiveInterval.h:385</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_1_1SubRange_html_a8dab9096ed829f13c573a282e5723f62"><div class="ttname"><a href="classllvm_1_1LiveInterval_1_1SubRange.html#a8dab9096ed829f13c573a282e5723f62">llvm::LiveInterval::SubRange::LaneMask</a></div><div class="ttdeci">LaneBitmask LaneMask</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00696">LiveInterval.h:696</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_afebf87881823545e71caaf1597ca3e17"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#afebf87881823545e71caaf1597ca3e17">llvm::LiveIntervals::print</a></div><div class="ttdeci">void print(raw_ostream &amp;O, const Module *=nullptr) const override</div><div class="ttdoc">Implement the dump method.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00148">LiveIntervals.cpp:148</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7f2b7ecbdbe9013ca2794761934d2bd9"><div class="ttname"><a href="namespacellvm.html#a7f2b7ecbdbe9013ca2794761934d2bd9">llvm::getBundleEnd</a></div><div class="ttdeci">MachineBasicBlock::instr_iterator getBundleEnd(MachineBasicBlock::instr_iterator I)</div><div class="ttdoc">Returns an iterator pointing beyond the bundle containing I.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00060">MachineInstrBundle.h:60</a></div></div>
<div class="ttc" id="anamespacellvm_html_a7c46c742c31be54870e2038048e6b391"><div class="ttname"><a href="namespacellvm.html#a7c46c742c31be54870e2038048e6b391">llvm::dbgs</a></div><div class="ttdeci">raw_ostream &amp; dbgs()</div><div class="ttdoc">dbgs() - This returns a reference to a raw_ostream for debugging messages.</div><div class="ttdef"><b>Definition:</b> <a href="Debug_8cpp_source.html#l00163">Debug.cpp:163</a></div></div>
<div class="ttc" id="anamespacellvm_html_a79d4face7022f4be1d51b785a83de44f"><div class="ttname"><a href="namespacellvm.html#a79d4face7022f4be1d51b785a83de44f">llvm::df_ext_begin</a></div><div class="ttdeci">df_ext_iterator&lt; T, SetTy &gt; df_ext_begin(const T &amp;G, SetTy &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00241">DepthFirstIterator.h:241</a></div></div>
<div class="ttc" id="anamespacellvm_1_1BitmaskEnumDetail_html_a91efa71de05b0c2d00730a0279f58658"><div class="ttname"><a href="namespacellvm_1_1BitmaskEnumDetail.html#a91efa71de05b0c2d00730a0279f58658">llvm::BitmaskEnumDetail::Mask</a></div><div class="ttdeci">constexpr std::underlying_type_t&lt; E &gt; Mask()</div><div class="ttdoc">Get a bitmask with 1s in all places up to the high-order bit of E's largest value.</div><div class="ttdef"><b>Definition:</b> <a href="BitmaskEnum_8h_source.html#l00080">BitmaskEnum.h:80</a></div></div>
<div class="ttc" id="aCommandLine_8h_html"><div class="ttname"><a href="CommandLine_8h.html">CommandLine.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_a13bd3dae94013a7bf38afc9391c8fa8f"><div class="ttname"><a href="classllvm_1_1Register.html#a13bd3dae94013a7bf38afc9391c8fa8f">llvm::Register::isPhysical</a></div><div class="ttdeci">bool isPhysical() const</div><div class="ttdoc">Return true if the specified register number is in the physical register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00097">Register.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a03936a9b37da541420049422204ab206"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a03936a9b37da541420049422204ab206">llvm::MachineBasicBlock::pred_size</a></div><div class="ttdeci">unsigned pred_size() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00369">MachineBasicBlock.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html_a9ccc324192981f7ce3091453bb0b68a5"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html#a9ccc324192981f7ce3091453bb0b68a5">llvm::StatepointOpers::getNumDeoptArgsIdx</a></div><div class="ttdeci">unsigned getNumDeoptArgsIdx() const</div><div class="ttdoc">Get index of Number Deopt Arguments operand.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00199">StackMaps.h:199</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a39c64174b9b56285668f8fc3602c868a"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a39c64174b9b56285668f8fc3602c868a">llvm::AnalysisUsage::addRequiredTransitiveID</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitiveID(char &amp;ID)</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00289">Pass.cpp:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ab4a6ca428289b667dd691a00e9f7e334"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ab4a6ca428289b667dd691a00e9f7e334">llvm::MachineFunction::getRegInfo</a></div><div class="ttdeci">MachineRegisterInfo &amp; getRegInfo()</div><div class="ttdoc">getRegInfo - Return information about the registers currently in use.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00682">MachineFunction.h:682</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_ad05ea5ba061f9397ac8d15d02d77c812"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#ad05ea5ba061f9397ac8d15d02d77c812">llvm::SlotIndexes::hasIndex</a></div><div class="ttdeci">bool hasIndex(const MachineInstr &amp;instr) const</div><div class="ttdoc">Returns true if the given machine instr is mapped to an index, otherwise returns false.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00385">SlotIndexes.h:385</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a5a5871d5cc628499a6d8e56734873e01"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a5a5871d5cc628499a6d8e56734873e01">llvm::MachineRegisterInfo::use_nodbg_operands</a></div><div class="ttdeci">iterator_range&lt; use_nodbg_iterator &gt; use_nodbg_operands(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00548">MachineRegisterInfo.h:548</a></div></div>
<div class="ttc" id="aclassllvm_1_1PassRegistry_html_a05a729900b76c89e808c6c3094921b2f"><div class="ttname"><a href="classllvm_1_1PassRegistry.html#a05a729900b76c89e808c6c3094921b2f">llvm::PassRegistry::getPassRegistry</a></div><div class="ttdeci">static PassRegistry * getPassRegistry()</div><div class="ttdoc">getPassRegistry - Access the global registry object, which is automatically initialized at applicatio...</div><div class="ttdef"><b>Definition:</b> <a href="PassRegistry_8cpp_source.html#l00024">PassRegistry.cpp:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervalCalc_html"><div class="ttname"><a href="classllvm_1_1LiveIntervalCalc.html">llvm::LiveIntervalCalc</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8h_source.html#l00028">LiveIntervalCalc.h:28</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBlockFrequencyInfo_html"><div class="ttname"><a href="classllvm_1_1MachineBlockFrequencyInfo.html">llvm::MachineBlockFrequencyInfo</a></div><div class="ttdoc">MachineBlockFrequencyInfo pass uses BlockFrequencyInfoImpl implementation to estimate machine basic b...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBlockFrequencyInfo_8h_source.html#l00033">MachineBlockFrequencyInfo.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9a5e7c523f12f9f164b786769de1ca47"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9a5e7c523f12f9f164b786769de1ca47">llvm::LiveRange::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00215">LiveInterval.h:215</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a7a23b6fb3b79b0c2bf4bf4f0cb042840"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a7a23b6fb3b79b0c2bf4bf4f0cb042840">llvm::TargetRegisterInfo::getSubRegIndexLaneMask</a></div><div class="ttdeci">LaneBitmask getSubRegIndexLaneMask(unsigned SubIdx) const</div><div class="ttdoc">Return a bitmask representing the parts of a register that are covered by SubIdx.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00380">TargetRegisterInfo.h:380</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a17bd0f1ec8263f735f29dd8840b7188f"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a17bd0f1ec8263f735f29dd8840b7188f">llvm::LiveIntervals::getMBBStartIdx</a></div><div class="ttdeci">SlotIndex getMBBStartIdx(const MachineBasicBlock *mbb) const</div><div class="ttdoc">Return the first index in the given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00230">LiveIntervals.h:230</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_af68f45baf4510224cb6ecf00019a9987"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#af68f45baf4510224cb6ecf00019a9987">llvm::LiveIntervals::getCachedRegUnit</a></div><div class="ttdeci">LiveRange * getCachedRegUnit(unsigned Unit)</div><div class="ttdoc">Return the live range for register unit Unit if it has already been computed, or nullptr if it hasn't...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00400">LiveIntervals.h:400</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a5c2526062a291ca7d78fe98bbf66edb7"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a5c2526062a291ca7d78fe98bbf66edb7">llvm::LiveRange::covers</a></div><div class="ttdeci">bool covers(const LiveRange &amp;Other) const</div><div class="ttdoc">Returns true if all segments of the Other live range are completely covered by this live range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00479">LiveInterval.cpp:479</a></div></div>
<div class="ttc" id="aBuiltinGCs_8cpp_html_a6742d2e0a668baf1196ec69e158d5f15"><div class="ttname"><a href="BuiltinGCs_8cpp.html#a6742d2e0a668baf1196ec69e158d5f15">E</a></div><div class="ttdeci">static GCRegistry::Add&lt; CoreCLRGC &gt; E(&quot;coreclr&quot;, &quot;CoreCLR-compatible GC&quot;)</div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ada20152edd7591ed264952fd22045f60"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ada20152edd7591ed264952fd22045f60">llvm::LiveIntervals::ID</a></div><div class="ttdeci">static char ID</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00097">LiveIntervals.h:97</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a1b6e5f6033c80dff3f9b4c6fb40499c2"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a1b6e5f6033c80dff3f9b4c6fb40499c2">llvm::LiveIntervals::hasPHIKill</a></div><div class="ttdeci">bool hasPHIKill(const LiveInterval &amp;LI, const VNInfo *VNI) const</div><div class="ttdoc">Returns true if VNI is killed by any PHI-def values in LI.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00842">LiveIntervals.cpp:842</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a3f7a45f6e10668a5f702e26bca80d18e"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a3f7a45f6e10668a5f702e26bca80d18e">llvm::MachineInstr::getOperand</a></div><div class="ttdeci">const MachineOperand &amp; getOperand(unsigned i) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00526">MachineInstr.h:526</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a53ca7cff9e929ba372da9780fdd44b02"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a53ca7cff9e929ba372da9780fdd44b02">llvm::MachineRegisterInfo::isReserved</a></div><div class="ttdeci">bool isReserved(MCRegister PhysReg) const</div><div class="ttdoc">isReserved - Returns true when PhysReg is a reserved register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00956">MachineRegisterInfo.h:956</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a19695ead28a0fbdcea66c6253aebc44f"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a19695ead28a0fbdcea66c6253aebc44f">llvm::SlotIndex::isEarlierInstr</a></div><div class="ttdeci">static bool isEarlierInstr(SlotIndex A, SlotIndex B)</div><div class="ttdoc">isEarlierInstr - Return true if A refers to an instruction earlier than B.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00204">SlotIndexes.h:204</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a0b73c8d5ae32ca13dd02ddde86ffd0a2"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a0b73c8d5ae32ca13dd02ddde86ffd0a2">llvm::LiveRange::addSegment</a></div><div class="ttdeci">iterator addSegment(Segment S)</div><div class="ttdoc">Add the specified Segment to this range, merging segments as appropriate.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00533">LiveInterval.cpp:533</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a3fc869c7f6d53c3fbb4e572b7821dd05"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a3fc869c7f6d53c3fbb4e572b7821dd05">llvm::LiveRange::const_iterator</a></div><div class="ttdeci">Segments::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00213">LiveInterval.h:213</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ad271beeb00495a71ad034023bdecc741"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ad271beeb00495a71ad034023bdecc741">llvm::LiveIntervals::runOnMachineFunction</a></div><div class="ttdeci">bool runOnMachineFunction(MachineFunction &amp;) override</div><div class="ttdoc">Pass entry point; Calculates LiveIntervals.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00120">LiveIntervals.cpp:120</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a9082b6aa4021114645045d9c5628eb26"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a9082b6aa4021114645045d9c5628eb26">llvm::LaneBitmask::getNone</a></div><div class="ttdeci">static constexpr LaneBitmask getNone()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00081">LaneBitmask.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html">llvm::AnalysisUsage</a></div><div class="ttdoc">Represent the analysis usage information of a pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00047">PassAnalysisSupport.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a754b5821e9b04a747f114390c45a7a75"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a754b5821e9b04a747f114390c45a7a75">llvm::TargetRegisterInfo::hasRegUnit</a></div><div class="ttdeci">bool hasRegUnit(MCRegister Reg, Register RegUnit) const</div><div class="ttdoc">Returns true if Reg contains RegUnit.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00430">TargetRegisterInfo.h:430</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervalCalc_html_a1c36b75f4a0dac1a833a459617f03c76"><div class="ttname"><a href="classllvm_1_1LiveIntervalCalc.html#a1c36b75f4a0dac1a833a459617f03c76">llvm::LiveIntervalCalc::createDeadDefs</a></div><div class="ttdeci">void createDeadDefs(LiveRange &amp;LR, Register Reg)</div><div class="ttdoc">createDeadDefs - Create a dead def in LI for every def operand of Reg.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8cpp_source.html#l00124">LiveIntervalCalc.cpp:124</a></div></div>
<div class="ttc" id="aLiveVariables_8h_html"><div class="ttname"><a href="LiveVariables_8h.html">LiveVariables.h</a></div></div>
<div class="ttc" id="anamespacefalse_html"><div class="ttname"><a href="namespacefalse.html">false</a></div><div class="ttdef"><b>Definition:</b> <a href="StackSlotColoring_8cpp_source.html#l00141">StackSlotColoring.cpp:141</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a94cf1c59ca73ea330872deb639013cb9"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a94cf1c59ca73ea330872deb639013cb9">llvm::LiveIntervals::pruneValue</a></div><div class="ttdeci">void pruneValue(LiveRange &amp;LR, SlotIndex Kill, SmallVectorImpl&lt; SlotIndex &gt; *EndPoints)</div><div class="ttdoc">If LR has a live value at Kill, prune its live range by removing any liveness reachable from Kill.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00629">LiveIntervals.cpp:629</a></div></div>
<div class="ttc" id="anamespacellvm_1_1dwarf_html_a5d3c920b66ea797d6adb243862fdf47a"><div class="ttname"><a href="namespacellvm_1_1dwarf.html#a5d3c920b66ea797d6adb243862fdf47a">llvm::dwarf::Index</a></div><div class="ttdeci">Index</div><div class="ttdef"><b>Definition:</b> <a href="Dwarf_8h_source.html#l00550">Dwarf.h:550</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html"><div class="ttname"><a href="classllvm_1_1MachineOperand.html">llvm::MachineOperand</a></div><div class="ttdoc">MachineOperand class - Representation of each machine instruction operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00048">MachineOperand.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a2718c79d7ff861cf3645991cef024f84"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a2718c79d7ff861cf3645991cef024f84">llvm::MachineRegisterInfo::reg_instructions</a></div><div class="ttdeci">iterator_range&lt; reg_instr_iterator &gt; reg_instructions(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00324">MachineRegisterInfo.h:324</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9eb4aa155c41e60dff42f4e741a0dcf0"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9eb4aa155c41e60dff42f4e741a0dcf0">llvm::LiveRange::valnos</a></div><div class="ttdeci">VNInfoList valnos</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00204">LiveInterval.h:204</a></div></div>
<div class="ttc" id="aMachineInstrBundle_8h_html"><div class="ttname"><a href="MachineInstrBundle_8h.html">MachineInstrBundle.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_aa429e211fd041cb42d26e49dd5d95d75"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#aa429e211fd041cb42d26e49dd5d95d75">llvm::SlotIndexes::getInstructionIndex</a></div><div class="ttdeci">SlotIndex getInstructionIndex(const MachineInstr &amp;MI, bool IgnoreBundle=false) const</div><div class="ttdoc">Returns the base index for the given instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00390">SlotIndexes.h:390</a></div></div>
<div class="ttc" id="aclassllvm_1_1raw__ostream_html"><div class="ttname"><a href="classllvm_1_1raw__ostream.html">llvm::raw_ostream</a></div><div class="ttdoc">This class implements an extremely fast bulk output stream that can only output to a stream.</div><div class="ttdef"><b>Definition:</b> <a href="raw__ostream_8h_source.html#l00052">raw_ostream.h:52</a></div></div>
<div class="ttc" id="anamespacellvm_html_a3e30e18d6f7ebd943eaf8ebc3a2b2930"><div class="ttname"><a href="namespacellvm.html#a3e30e18d6f7ebd943eaf8ebc3a2b2930">llvm::PrintLaneMask</a></div><div class="ttdeci">Printable PrintLaneMask(LaneBitmask LaneMask)</div><div class="ttdoc">Create Printable object to print LaneBitmasks on a raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00092">LaneBitmask.h:92</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ad0b3d8447f88377b62d9c019f3c4e118"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ad0b3d8447f88377b62d9c019f3c4e118">llvm::SmallVectorImpl::resize</a></div><div class="ttdeci">void resize(size_type N)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00642">SmallVector.h:642</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a11bad3e34d11ffb7b0412de6bbd294b3"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a11bad3e34d11ffb7b0412de6bbd294b3">llvm::SlotIndex::getDeadSlot</a></div><div class="ttdeci">SlotIndex getDeadSlot() const</div><div class="ttdoc">Returns the dead def kill slot for the current instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00264">SlotIndexes.h:264</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleOperands_html"><div class="ttname"><a href="classllvm_1_1MIBundleOperands.html">llvm::MIBundleOperands</a></div><div class="ttdoc">MIBundleOperands - Iterate over all operands in a bundle of machine instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00166">MachineInstrBundle.h:166</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html">llvm::SlotIndexes</a></div><div class="ttdoc">SlotIndexes pass.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00319">SlotIndexes.h:319</a></div></div>
<div class="ttc" id="aSmallPtrSet_8h_html"><div class="ttname"><a href="SmallPtrSet_8h.html">SmallPtrSet.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html_a51711ad960e294ac064a578ebfae0de7"><div class="ttname"><a href="classllvm_1_1BitVector.html#a51711ad960e294ac064a578ebfae0de7">llvm::BitVector::clearBitsNotInMask</a></div><div class="ttdeci">void clearBitsNotInMask(const uint32_t *Mask, unsigned MaskWords=~0u)</div><div class="ttdoc">clearBitsNotInMask - Clear a bit in this vector for every '0' bit in Mask.</div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00718">BitVector.h:718</a></div></div>
<div class="ttc" id="aclassllvm_1_1BitVector_html"><div class="ttname"><a href="classllvm_1_1BitVector.html">llvm::BitVector</a></div><div class="ttdef"><b>Definition:</b> <a href="BitVector_8h_source.html#l00075">BitVector.h:75</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_abb1809844bac2664d50ac8b85dffb3a1"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#abb1809844bac2664d50ac8b85dffb3a1">llvm::LiveIntervals::LiveIntervals</a></div><div class="ttdeci">LiveIntervals()</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00097">LiveIntervals.cpp:97</a></div></div>
<div class="ttc" id="aHWAddressSanitizer_8cpp_html_aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0"><div class="ttname"><a href="HWAddressSanitizer_8cpp.html#aeaa43ab635ee98b9e2055d0f217558c2ab7e4e0120a041dbe6528b050c04269e0">none</a></div><div class="ttdeci">@ none</div><div class="ttdef"><b>Definition:</b> <a href="HWAddressSanitizer_8cpp_source.html#l00190">HWAddressSanitizer.cpp:190</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html"><div class="ttname"><a href="classllvm_1_1LiveInterval.html">llvm::LiveInterval</a></div><div class="ttdoc">LiveInterval - This class represents the liveness of a register, or stack slot.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00686">LiveInterval.h:686</a></div></div>
<div class="ttc" id="aLiveIntervals_8cpp_html_ac46976013d5526a5d1430256b4007b6b"><div class="ttname"><a href="LiveIntervals_8cpp.html#ac46976013d5526a5d1430256b4007b6b">createSegmentsForValues</a></div><div class="ttdeci">static void createSegmentsForValues(LiveRange &amp;LR, iterator_range&lt; LiveInterval::vni_iterator &gt; VNIs)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00358">LiveIntervals.cpp:358</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_a5d1559bf322e157ea748763d08b56d52"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#a5d1559bf322e157ea748763d08b56d52">llvm::LiveQueryResult::valueIn</a></div><div class="ttdeci">VNInfo * valueIn() const</div><div class="ttdoc">Return the value that is live-in to the instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00105">LiveInterval.h:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_abd4f451bd383e6ec8ba22245f04d855d"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#abd4f451bd383e6ec8ba22245f04d855d">llvm::SlotIndexes::getInstructionFromIndex</a></div><div class="ttdeci">MachineInstr * getInstructionFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the instruction for the given index, or null if the given index has no instruction associated...</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00408">SlotIndexes.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html"><div class="ttname"><a href="classllvm_1_1SlotIndex.html">llvm::SlotIndex</a></div><div class="ttdoc">SlotIndex - An opaque wrapper around machine indexes.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00082">SlotIndexes.h:82</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveQueryResult_html_accf3c068536d27391a38eaec0db05eec"><div class="ttname"><a href="classllvm_1_1LiveQueryResult.html#accf3c068536d27391a38eaec0db05eec">llvm::LiveQueryResult::endPoint</a></div><div class="ttdeci">SlotIndex endPoint() const</div><div class="ttdoc">Return the end point of the last live range segment to interact with the instruction,...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00147">LiveInterval.h:147</a></div></div>
<div class="ttc" id="aStatepoint_8h_html"><div class="ttname"><a href="Statepoint_8h.html">Statepoint.h</a></div></div>
<div class="ttc" id="anamespacellvm_1_1CallingConv_html_a188c0836f8c3528401f1c236fd93b977"><div class="ttname"><a href="namespacellvm_1_1CallingConv.html#a188c0836f8c3528401f1c236fd93b977">llvm::CallingConv::ID</a></div><div class="ttdeci">unsigned ID</div><div class="ttdoc">LLVM IR allows to use arbitrary numbers as calling convention identifiers.</div><div class="ttdef"><b>Definition:</b> <a href="CallingConv_8h_source.html#l00024">CallingConv.h:24</a></div></div>
<div class="ttc" id="anamespacellvm_html_aa82bb12b2879425012b3742487e10964"><div class="ttname"><a href="namespacellvm.html#aa82bb12b2879425012b3742487e10964">llvm::erase_value</a></div><div class="ttdeci">void erase_value(Container &amp;C, ValueType V)</div><div class="ttdoc">Wrapper function to remove a value from a container:</div><div class="ttdef"><b>Definition:</b> <a href="STLExtras_8h_source.html#l02006">STLExtras.h:2006</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html">llvm::MachineBasicBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00094">MachineBasicBlock.h:94</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitRootIterator_html_abd29ecab24058fdf823addcad29c6939"><div class="ttname"><a href="classllvm_1_1MCRegUnitRootIterator.html#abd29ecab24058fdf823addcad29c6939">llvm::MCRegUnitRootIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">Check if the iterator is at the end of the list.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00773">MCRegisterInfo.h:773</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aa1a6fbdf0a3311c7b9602dd67e46fef9"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aa1a6fbdf0a3311c7b9602dd67e46fef9">llvm::LiveIntervals::handleMoveIntoNewBundle</a></div><div class="ttdeci">void handleMoveIntoNewBundle(MachineInstr &amp;BundleStart, bool UpdateFlags=false)</div><div class="ttdoc">Update intervals of operands of all instructions in the newly created bundle specified by BundleStart...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01521">LiveIntervals.cpp:1521</a></div></div>
<div class="ttc" id="aPassSupport_8h_html_a74ce8276b89067e806f67c45a6d92575"><div class="ttname"><a href="PassSupport_8h.html#a74ce8276b89067e806f67c45a6d92575">INITIALIZE_PASS_END</a></div><div class="ttdeci">#define INITIALIZE_PASS_END(passName, arg, name, cfg, analysis)</div><div class="ttdef"><b>Definition:</b> <a href="PassSupport_8h_source.html#l00059">PassSupport.h:59</a></div></div>
<div class="ttc" id="anamespacellvm_html_a34302b557354b8a09796c30b9f7408ab"><div class="ttname"><a href="namespacellvm.html#a34302b557354b8a09796c30b9f7408ab">llvm::printRegUnit</a></div><div class="ttdeci">Printable printRegUnit(unsigned Unit, const TargetRegisterInfo *TRI)</div><div class="ttdoc">Create Printable object to print register units on a raw_ostream.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00142">TargetRegisterInfo.cpp:142</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a10aea73adf903930a8ce4c133dfa5a1e"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a10aea73adf903930a8ce4c133dfa5a1e">llvm::SlotIndexes::insertMachineInstrInMaps</a></div><div class="ttdeci">SlotIndex insertMachineInstrInMaps(MachineInstr &amp;MI, bool Late=false)</div><div class="ttdoc">Insert the given machine instruction into the mapping.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00540">SlotIndexes.h:540</a></div></div>
<div class="ttc" id="aADT_2tmp_8txt_html_a07ed0bfaa124c15897944fe3eaa971ab"><div class="ttname"><a href="ADT_2tmp_8txt.html#a07ed0bfaa124c15897944fe3eaa971ab">uint64_t</a></div><div class="ttdeci">Class for arbitrary precision integers APInt is a functional replacement for common case unsigned integer type like unsigned long or uint64_t</div><div class="ttdef"><b>Definition:</b> <a href="ADT_2tmp_8txt_source.html#l00001">tmp.txt:1</a></div></div>
<div class="ttc" id="aCodeGen_2Passes_8h_html"><div class="ttname"><a href="CodeGen_2Passes_8h.html">Passes.h</a></div></div>
<div class="ttc" id="aLiveIntervalCalc_8h_html"><div class="ttname"><a href="LiveIntervalCalc_8h.html">LiveIntervalCalc.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html_aebafd86dde59b5a05b22e8720e808a9d"><div class="ttname"><a href="classllvm_1_1Register.html#aebafd86dde59b5a05b22e8720e808a9d">llvm::Register::isVirtual</a></div><div class="ttdeci">bool isVirtual() const</div><div class="ttdoc">Return true if the specified register number is in the virtual register namespace.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00091">Register.h:91</a></div></div>
<div class="ttc" id="aclassLiveIntervals_1_1HMEditor_html"><div class="ttname"><a href="classLiveIntervals_1_1HMEditor.html">llvm::LiveIntervals::HMEditor</a></div><div class="ttdoc">Toolkit used by handleMove to trim or extend live intervals.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00973">LiveIntervals.cpp:973</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ae9f0ff5f13bf6cb4567247a39f7756e3"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ae9f0ff5f13bf6cb4567247a39f7756e3">llvm::LiveIntervals::removePhysRegDefAt</a></div><div class="ttdeci">void removePhysRegDefAt(MCRegister Reg, SlotIndex Pos)</div><div class="ttdoc">Remove value numbers and related live segments starting at position Pos that are part of any liverang...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01709">LiveIntervals.cpp:1709</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_a325f6b611ef9ec06798d3b4eb9572093"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#a325f6b611ef9ec06798d3b4eb9572093">llvm::MachineFunction::getSubtarget</a></div><div class="ttdeci">const TargetSubtargetInfo &amp; getSubtarget() const</div><div class="ttdoc">getSubtarget - Return the subtarget for which this machine code is being compiled.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00672">MachineFunction.h:672</a></div></div>
<div class="ttc" id="anamespacellvm_html_a60b90e9a630631cf67aaef4679ffbf62"><div class="ttname"><a href="namespacellvm.html#a60b90e9a630631cf67aaef4679ffbf62">llvm::MachineLoopInfoID</a></div><div class="ttdeci">char &amp; MachineLoopInfoID</div><div class="ttdoc">MachineLoopInfo - This pass is a loop analysis pass.</div><div class="ttdef"><b>Definition:</b> <a href="MachineLoopInfo_8cpp_source.html#l00043">MachineLoopInfo.cpp:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1cl_1_1opt_html"><div class="ttname"><a href="classllvm_1_1cl_1_1opt.html">llvm::cl::opt&lt; bool &gt;</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_aa94e57689dd16c1c4de909511f1b2ea8"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#aa94e57689dd16c1c4de909511f1b2ea8">llvm::SlotIndex::getBaseIndex</a></div><div class="ttdeci">SlotIndex getBaseIndex() const</div><div class="ttdoc">Returns the base index for associated with this index.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00246">SlotIndexes.h:246</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a1255befbcd6e034394681b1bcd3529ff"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a1255befbcd6e034394681b1bcd3529ff">llvm::MachineOperand::isUndef</a></div><div class="ttdeci">bool isUndef() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00404">MachineOperand.h:404</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a136fa159d07a92017f3206822f5847cd"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a136fa159d07a92017f3206822f5847cd">llvm::LiveRange::getVNInfoBefore</a></div><div class="ttdeci">VNInfo * getVNInfoBefore(SlotIndex Idx) const</div><div class="ttdoc">getVNInfoBefore - Return the VNInfo that is live up to but not necessarilly including Idx,...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00429">LiveInterval.h:429</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_aaf0c07cc1cdb9c78c6dfdfdd5913420a"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#aaf0c07cc1cdb9c78c6dfdfdd5913420a">llvm::SlotIndexes::getMBBStartIdx</a></div><div class="ttdeci">SlotIndex getMBBStartIdx(unsigned Num) const</div><div class="ttdoc">Returns the first index in the given basic block number.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00471">SlotIndexes.h:471</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a61a42c85bd86c6ca4554e27d33c3f798"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a61a42c85bd86c6ca4554e27d33c3f798">llvm::MachineOperand::setIsDead</a></div><div class="ttdeci">void setIsDead(bool Val=true)</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00525">MachineOperand.h:525</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a0aac3ef1eadaa206a70b767730ef3c5b"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a0aac3ef1eadaa206a70b767730ef3c5b">llvm::LiveInterval::removeEmptySubRanges</a></div><div class="ttdeci">void removeEmptySubRanges()</div><div class="ttdoc">Removes all subranges without any segments (subranges without segments are not considered valid and s...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00839">LiveInterval.cpp:839</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_ace8519cea9fa2e688a052df670afe41e"><div class="ttname"><a href="classllvm_1_1LiveRange.html#ace8519cea9fa2e688a052df670afe41e">llvm::LiveRange::hasAtLeastOneValue</a></div><div class="ttdeci">bool hasAtLeastOneValue() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00309">LiveInterval.h:309</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_a4c9594c955fec80c73ddd964b5efd554"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#a4c9594c955fec80c73ddd964b5efd554">llvm::MachineOperand::isReg</a></div><div class="ttdeci">bool isReg() const</div><div class="ttdoc">isReg - Tests if this is a MO_Register operand.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00329">MachineOperand.h:329</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html"><div class="ttname"><a href="classllvm_1_1MachineInstr.html">llvm::MachineInstr</a></div><div class="ttdoc">Representation of each machine instruction.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00066">MachineInstr.h:66</a></div></div>
<div class="ttc" id="aLiveIntervals_8cpp_html_af19584804e7feb857e42a61687937eed"><div class="ttname"><a href="LiveIntervals_8cpp.html#af19584804e7feb857e42a61687937eed">liveintervals</a></div><div class="ttdeci">liveintervals</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00066">LiveIntervals.cpp:66</a></div></div>
<div class="ttc" id="aLiveIntervals_8h_html"><div class="ttname"><a href="LiveIntervals_8h.html">LiveIntervals.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervalCalc_html_ad67d6b7f9f91a2d5852b0f9aebfe542a"><div class="ttname"><a href="classllvm_1_1LiveIntervalCalc.html#ad67d6b7f9f91a2d5852b0f9aebfe542a">llvm::LiveIntervalCalc::calculate</a></div><div class="ttdeci">void calculate(LiveInterval &amp;LI, bool TrackSubRegs)</div><div class="ttdoc">Calculates liveness for the register specified in live interval LI.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervalCalc_8cpp_source.html#l00043">LiveIntervalCalc.cpp:43</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a2455c761c06e057ecc73f54302f1a5e8"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a2455c761c06e057ecc73f54302f1a5e8">llvm::LiveIntervals::getRegMaskBitsInBlock</a></div><div class="ttdeci">ArrayRef&lt; const uint32_t * &gt; getRegMaskBitsInBlock(unsigned MBBNum) const</div><div class="ttdoc">Returns an array of mask pointers corresponding to getRegMaskSlotsInBlock(MBBNum).</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00360">LiveIntervals.h:360</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html"><div class="ttname"><a href="classllvm_1_1LiveRange.html">llvm::LiveRange</a></div><div class="ttdoc">This class represents the liveness of a register, stack slot, etc.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00157">LiveInterval.h:157</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a76163707e71807054d87648aa5e00dd7"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a76163707e71807054d87648aa5e00dd7">llvm::LiveIntervals::getMBBEndIdx</a></div><div class="ttdeci">SlotIndex getMBBEndIdx(const MachineBasicBlock *mbb) const</div><div class="ttdoc">Return the last index in the given basic block.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00235">LiveIntervals.h:235</a></div></div>
<div class="ttc" id="aVirtRegMap_8h_html"><div class="ttname"><a href="VirtRegMap_8h.html">VirtRegMap.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ad989a0c1b26066308798f4d11a0e69df"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ad989a0c1b26066308798f4d11a0e69df">llvm::VNInfo::id</a></div><div class="ttdeci">unsigned id</div><div class="ttdoc">The ID number of this value.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00058">LiveInterval.h:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1Interval_html"><div class="ttname"><a href="classllvm_1_1Interval.html">llvm::Interval</a></div><div class="ttdoc">Interval Class - An Interval is a set of nodes defined such that every node in the interval has all o...</div><div class="ttdef"><b>Definition:</b> <a href="Interval_8h_source.html#l00036">Interval.h:36</a></div></div>
<div class="ttc" id="aSVEIntrinsicOpts_8cpp_html_a2bb87eb1bcbc74783a83ae945eb8fa36"><div class="ttname"><a href="SVEIntrinsicOpts_8cpp.html#a2bb87eb1bcbc74783a83ae945eb8fa36">INITIALIZE_PASS_DEPENDENCY</a></div><div class="ttdeci">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</div></div>
<div class="ttc" id="anamespacellvm_1_1numbers_html_a92f4283d4e0e2ea1776894b3ae93640f"><div class="ttname"><a href="namespacellvm_1_1numbers.html#a92f4283d4e0e2ea1776894b3ae93640f">llvm::numbers::e</a></div><div class="ttdeci">constexpr double e</div><div class="ttdef"><b>Definition:</b> <a href="MathExtras_8h_source.html#l00031">MathExtras.h:31</a></div></div>
<div class="ttc" id="aMD5_8cpp_html_ac0eafdc9ee161b71e7af98af736952fd"><div class="ttname"><a href="MD5_8cpp.html#ac0eafdc9ee161b71e7af98af736952fd">I</a></div><div class="ttdeci">#define I(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="MD5_8cpp_source.html#l00058">MD5.cpp:58</a></div></div>
<div class="ttc" id="aclassllvm_1_1VirtRegMap_html_a785a4e2daf4e5bf3f0836adbc4fb7e65"><div class="ttname"><a href="classllvm_1_1VirtRegMap.html#a785a4e2daf4e5bf3f0836adbc4fb7e65">llvm::VirtRegMap::getPhys</a></div><div class="ttdeci">MCRegister getPhys(Register virtReg) const</div><div class="ttdoc">returns the physical register mapped to the specified virtual register</div><div class="ttdef"><b>Definition:</b> <a href="VirtRegMap_8h_source.html#l00105">VirtRegMap.h:105</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a72988cca7ab2262ef68fdd0c5ae54940"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a72988cca7ab2262ef68fdd0c5ae54940">llvm::LaneBitmask::any</a></div><div class="ttdeci">constexpr bool any() const</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00053">LaneBitmask.h:53</a></div></div>
<div class="ttc" id="anamespacellvm_1_1cl_html_a10a041239ae1870cfcc064bfaa79fb65"><div class="ttname"><a href="namespacellvm_1_1cl.html#a10a041239ae1870cfcc064bfaa79fb65">llvm::cl::init</a></div><div class="ttdeci">initializer&lt; Ty &gt; init(const Ty &amp;Val)</div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00445">CommandLine.h:445</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a0caadb67513b2da2c4bcbe22b77f527c"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a0caadb67513b2da2c4bcbe22b77f527c">llvm::LiveIntervals::releaseMemory</a></div><div class="ttdeci">void releaseMemory() override</div><div class="ttdoc">releaseMemory() - This member can be implemented by a pass if it wants to be able to release its memo...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00103">LiveIntervals.cpp:103</a></div></div>
<div class="ttc" id="aMCRegisterInfo_8h_html"><div class="ttname"><a href="MCRegisterInfo_8h.html">MCRegisterInfo.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_a0b73244049319d841fd11a238f35b5d1"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#a0b73244049319d841fd11a238f35b5d1">llvm::SlotIndex::isSameInstr</a></div><div class="ttdeci">static bool isSameInstr(SlotIndex A, SlotIndex B)</div><div class="ttdoc">isSameInstr - Return true if A and B refer to the same instruction.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00198">SlotIndexes.h:198</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a69331ac1fdc66eee11c977845f2e472b"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a69331ac1fdc66eee11c977845f2e472b">llvm::LiveRange::getNextValue</a></div><div class="ttdeci">VNInfo * getNextValue(SlotIndex def, VNInfo::Allocator &amp;VNInfoAllocator)</div><div class="ttdoc">getNextValue - Create a new value number and return it.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00331">LiveInterval.h:331</a></div></div>
<div class="ttc" id="aArrayRef_8h_html"><div class="ttname"><a href="ArrayRef_8h.html">ArrayRef.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a6eb0e49d283729a5f8b99d4efa1be7c1"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a6eb0e49d283729a5f8b99d4efa1be7c1">llvm::LiveRange::Query</a></div><div class="ttdeci">LiveQueryResult Query(SlotIndex Idx) const</div><div class="ttdoc">Query Liveness at Idx.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00541">LiveInterval.h:541</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RISCVFPRndMode_html_a9214a4f7f7322f485189dd3726776b76a1175f7692ae965210e9b23087b4fa296"><div class="ttname"><a href="namespacellvm_1_1RISCVFPRndMode.html#a9214a4f7f7322f485189dd3726776b76a1175f7692ae965210e9b23087b4fa296">llvm::RISCVFPRndMode::RUP</a></div><div class="ttdeci">@ RUP</div><div class="ttdef"><b>Definition:</b> <a href="RISCVBaseInfo_8h_source.html#l00289">RISCVBaseInfo.h:289</a></div></div>
<div class="ttc" id="aclassllvm_1_1MIBundleOperandIteratorBase_html_a74c921d2258b6ce681a00ff5603ea43b"><div class="ttname"><a href="classllvm_1_1MIBundleOperandIteratorBase.html#a74c921d2258b6ce681a00ff5603ea43b">llvm::MIBundleOperandIteratorBase::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - Returns true until all the operands have been visited.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBundle_8h_source.html#l00136">MachineInstrBundle.h:136</a></div></div>
<div class="ttc" id="aSILowerControlFlow_8cpp_html_a4868c5d81c5ccc98c47aeab6244346a0"><div class="ttname"><a href="SILowerControlFlow_8cpp.html#a4868c5d81c5ccc98c47aeab6244346a0">assert</a></div><div class="ttdeci">assert(ImpDefSCC.getReg()==AMDGPU::SCC &amp;&amp;ImpDefSCC.isDef())</div></div>
<div class="ttc" id="aclassllvm_1_1ConnectedVNInfoEqClasses_html_ab075ccec6878e16419fca5e423c7ddad"><div class="ttname"><a href="classllvm_1_1ConnectedVNInfoEqClasses.html#ab075ccec6878e16419fca5e423c7ddad">llvm::ConnectedVNInfoEqClasses::Classify</a></div><div class="ttdeci">unsigned Classify(const LiveRange &amp;LR)</div><div class="ttdoc">Classify the values in LR into connected components.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l01304">LiveInterval.cpp:1304</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4e21760f681d6f97f95c8414e7b83ea5"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4e21760f681d6f97f95c8414e7b83ea5">llvm::MachineBasicBlock::getParent</a></div><div class="ttdeci">const MachineFunction * getParent() const</div><div class="ttdoc">Return the MachineFunction containing this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00265">MachineBasicBlock.h:265</a></div></div>
<div class="ttc" id="anamespacellvm_1_1pdb_html_a2632601eef2a7254d0d50e82ba2ab620afb9a488a6fe2d37f9a17651d744997f6"><div class="ttname"><a href="namespacellvm_1_1pdb.html#a2632601eef2a7254d0d50e82ba2ab620afb9a488a6fe2d37f9a17651d744997f6">llvm::pdb::PDB_TableType::Segments</a></div><div class="ttdeci">@ Segments</div></div>
<div class="ttc" id="aclassllvm_1_1MCSuperRegIterator_html"><div class="ttname"><a href="classllvm_1_1MCSuperRegIterator.html">llvm::MCSuperRegIterator</a></div><div class="ttdoc">MCSuperRegIterator enumerates all super-registers of Reg.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00644">MCRegisterInfo.h:644</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_afe3ca51f4160181b965b912e022c1d9d"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#afe3ca51f4160181b965b912e022c1d9d">llvm::SlotIndexes::getMBBFromIndex</a></div><div class="ttdeci">MachineBasicBlock * getMBBFromIndex(SlotIndex index) const</div><div class="ttdoc">Returns the basic block which the given index falls in.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00519">SlotIndexes.h:519</a></div></div>
<div class="ttc" id="aiterator__range_8h_html"><div class="ttname"><a href="iterator__range_8h.html">iterator_range.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac7446b2819c44bf459763351b5bcc29b"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac7446b2819c44bf459763351b5bcc29b">llvm::LiveIntervals::shrinkToUses</a></div><div class="ttdeci">bool shrinkToUses(LiveInterval *li, SmallVectorImpl&lt; MachineInstr * &gt; *dead=nullptr)</div><div class="ttdoc">After removing some uses of a register, shrink its live range to just the remaining uses.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00449">LiveIntervals.cpp:449</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a26c99fa2411ae509e9eb030f8aefb4e8"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a26c99fa2411ae509e9eb030f8aefb4e8">llvm::LiveIntervals::checkRegMaskInterference</a></div><div class="ttdeci">bool checkRegMaskInterference(const LiveInterval &amp;LI, BitVector &amp;UsableRegs)</div><div class="ttdoc">Test if LI is live across any register mask instructions, and compute a bit mask of physical register...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00903">LiveIntervals.cpp:903</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineOperand_html_ac0035d7c1c860501c877c20e6e93297b"><div class="ttname"><a href="classllvm_1_1MachineOperand.html#ac0035d7c1c860501c877c20e6e93297b">llvm::MachineOperand::getReg</a></div><div class="ttdeci">Register getReg() const</div><div class="ttdoc">getReg - Returns the register number.</div><div class="ttdef"><b>Definition:</b> <a href="MachineOperand_8h_source.html#l00369">MachineOperand.h:369</a></div></div>
<div class="ttc" id="aclassllvm_1_1Module_html"><div class="ttname"><a href="classllvm_1_1Module.html">llvm::Module</a></div><div class="ttdoc">A Module instance is used to store all the information related to an LLVM module.</div><div class="ttdef"><b>Definition:</b> <a href="Module_8h_source.html#l00065">Module.h:65</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_afd9b9b8655c008bf6cd6afb05d41b69e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#afd9b9b8655c008bf6cd6afb05d41b69e">llvm::MachineBasicBlock::predecessors</a></div><div class="ttdeci">iterator_range&lt; pred_iterator &gt; predecessors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00390">MachineBasicBlock.h:390</a></div></div>
<div class="ttc" id="aSIOptimizeVGPRLiveRange_8cpp_html_acc192e3e53887e1d6fa56abbe10530e6"><div class="ttname"><a href="SIOptimizeVGPRLiveRange_8cpp.html#acc192e3e53887e1d6fa56abbe10530e6">LiveRange</a></div><div class="ttdeci">SI Optimize VGPR LiveRange</div><div class="ttdef"><b>Definition:</b> <a href="SIOptimizeVGPRLiveRange_8cpp_source.html#l00616">SIOptimizeVGPRLiveRange.cpp:616</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ae3b98982e2036f3d26806de5ed5e02d0"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ae3b98982e2036f3d26806de5ed5e02d0">llvm::SlotIndex::getRegSlot</a></div><div class="ttdeci">SlotIndex getRegSlot(bool EC=false) const</div><div class="ttdoc">Returns the register use/def slot in the current instruction for a normal or early-clobber def.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00259">SlotIndexes.h:259</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a25c117ac45bfbbcf69dc0b674db2d1ea"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a25c117ac45bfbbcf69dc0b674db2d1ea">llvm::LiveIntervals::getInterval</a></div><div class="ttdeci">LiveInterval &amp; getInterval(Register Reg)</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00112">LiveIntervals.h:112</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html"><div class="ttname"><a href="classllvm_1_1MachineFunction.html">llvm::MachineFunction</a></div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8h_source.html#l00258">MachineFunction.h:258</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_ae6eab1035db7ba328354fa739be090f0"><div class="ttname"><a href="classllvm_1_1LiveRange.html#ae6eab1035db7ba328354fa739be090f0">llvm::LiveRange::FindSegmentContaining</a></div><div class="ttdeci">iterator FindSegmentContaining(SlotIndex Idx)</div><div class="ttdoc">Return an iterator to the segment that contains the specified index, or end() if there is none.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00436">LiveInterval.h:436</a></div></div>
<div class="ttc" id="astructllvm_1_1df__iterator__default__set_html"><div class="ttname"><a href="structllvm_1_1df__iterator__default__set.html">llvm::df_iterator_default_set</a></div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00069">DepthFirstIterator.h:69</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a4258d794235c7a408b3f52e5e4ef7159"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a4258d794235c7a408b3f52e5e4ef7159">llvm::LiveRange::createDeadDef</a></div><div class="ttdeci">VNInfo * createDeadDef(SlotIndex Def, VNInfo::Allocator &amp;VNIAlloc)</div><div class="ttdoc">createDeadDef - Make sure the range has a value defined at Def.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00355">LiveInterval.cpp:355</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a864dfd605ab4c40b895d035a165a873b"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a864dfd605ab4c40b895d035a165a873b">llvm::MachineBasicBlock::getBeginClobberMask</a></div><div class="ttdeci">const uint32_t * getBeginClobberMask(const TargetRegisterInfo *TRI) const</div><div class="ttdoc">Get the clobber mask for the start of this basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01607">MachineBasicBlock.cpp:1607</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html"><div class="ttname"><a href="classllvm_1_1ArrayRef.html">llvm::ArrayRef</a></div><div class="ttdoc">ArrayRef - Represent a constant reference to an array (0 or more elements consecutively in memory),...</div><div class="ttdef"><b>Definition:</b> <a href="APInt_8h_source.html#l00033">APInt.h:33</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a3aa22d521bd6a7e6b9f35545dc7b0f1e"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a3aa22d521bd6a7e6b9f35545dc7b0f1e">llvm::MachineBasicBlock::getNumber</a></div><div class="ttdeci">int getNumber() const</div><div class="ttdoc">MachineBasicBlocks are uniquely numbered at the function level, unless they're not in a MachineFuncti...</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l01143">MachineBasicBlock.h:1143</a></div></div>
<div class="ttc" id="anamespacellvm_html_a57f2ca0e57f4f7b13f56f9aa16af3e0d"><div class="ttname"><a href="namespacellvm.html#a57f2ca0e57f4f7b13f56f9aa16af3e0d">llvm::min</a></div><div class="ttdeci">Expected&lt; ExpressionValue &gt; min(const ExpressionValue &amp;Lhs, const ExpressionValue &amp;Rhs)</div><div class="ttdef"><b>Definition:</b> <a href="FileCheck_8cpp_source.html#l00357">FileCheck.cpp:357</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a4d2c96836214c1f13357ffb99125fb4a"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a4d2c96836214c1f13357ffb99125fb4a">llvm::MachineBasicBlock::successors</a></div><div class="ttdeci">iterator_range&lt; succ_iterator &gt; successors()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00396">MachineBasicBlock.h:396</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a1100bfbadd996d464150c6a68fa8dc1d"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a1100bfbadd996d464150c6a68fa8dc1d">llvm::MachineBasicBlock::isEHPad</a></div><div class="ttdeci">bool isEHPad() const</div><div class="ttdoc">Returns true if the block is a landing pad.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00580">MachineBasicBlock.h:580</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_af11a6ebf7ab3c388234cb6d5378439a3"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#af11a6ebf7ab3c388234cb6d5378439a3">llvm::AnalysisUsage::setPreservesCFG</a></div><div class="ttdeci">void setPreservesCFG()</div><div class="ttdoc">This function should be called by the pass, iff they do not:</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00265">Pass.cpp:265</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a40970e5d42646fb2d9aa5f7a2c879516"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a40970e5d42646fb2d9aa5f7a2c879516">llvm::AnalysisUsage::addPreservedID</a></div><div class="ttdeci">AnalysisUsage &amp; addPreservedID(const void *ID)</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00088">PassAnalysisSupport.h:88</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a0363204b5fbab08a46f5a7cd7f376f78"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a0363204b5fbab08a46f5a7cd7f376f78">llvm::MachineInstr::getOpcode</a></div><div class="ttdeci">unsigned getOpcode() const</div><div class="ttdoc">Returns the opcode of this MachineInstr.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00516">MachineInstr.h:516</a></div></div>
<div class="ttc" id="aSupport_2ErrorHandling_8h_html_ace243f5c25697a1107cce46626b3dc94"><div class="ttname"><a href="Support_2ErrorHandling_8h.html#ace243f5c25697a1107cce46626b3dc94">llvm_unreachable</a></div><div class="ttdeci">#define llvm_unreachable(msg)</div><div class="ttdoc">Marks that the current location is not supposed to be reachable.</div><div class="ttdef"><b>Definition:</b> <a href="Support_2ErrorHandling_8h_source.html#l00143">ErrorHandling.h:143</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html_ad1f1c9d432bb4e063d215f60efd296f2"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html#ad1f1c9d432bb4e063d215f60efd296f2">llvm::StatepointOpers::getFlags</a></div><div class="ttdeci">uint64_t getFlags() const</div><div class="ttdoc">Return the statepoint flags.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00222">StackMaps.h:222</a></div></div>
<div class="ttc" id="ainclude_2llvm_2Support_2CMakeLists_8txt_html_aef9367eb0b7430eaf70b1f2725488f2a"><div class="ttname"><a href="include_2llvm_2Support_2CMakeLists_8txt.html#aef9367eb0b7430eaf70b1f2725488f2a">if</a></div><div class="ttdeci">if(llvm_vc STREQUAL &quot;&quot;) set(fake_version_inc &quot;$</div><div class="ttdef"><b>Definition:</b> <a href="include_2llvm_2Support_2CMakeLists_8txt_source.html#l00014">CMakeLists.txt:14</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a352c24ce556adb51f63f40a7d946ae44"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a352c24ce556adb51f63f40a7d946ae44">llvm::LiveRange::vnis</a></div><div class="ttdeci">iterator_range&lt; vni_iterator &gt; vnis()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00230">LiveInterval.h:230</a></div></div>
<div class="ttc" id="aLiveIntervals_8cpp_html_acf474e548612fd90307547bd1f453e0e"><div class="ttname"><a href="LiveIntervals_8cpp.html#acf474e548612fd90307547bd1f453e0e">INITIALIZE_PASS_BEGIN</a></div><div class="ttdeci">INITIALIZE_PASS_BEGIN(LiveIntervals, &quot;liveintervals&quot;, &quot;Live Interval Analysis&quot;, false, false) INITIALIZE_PASS_END(LiveIntervals</div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_a884f90190bca4bd354f2d5c91c264028"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#a884f90190bca4bd354f2d5c91c264028">llvm::AnalysisUsage::addPreserved</a></div><div class="ttdeci">AnalysisUsage &amp; addPreserved()</div><div class="ttdoc">Add the specified Pass class to the set of analyses preserved by this pass.</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00098">PassAnalysisSupport.h:98</a></div></div>
<div class="ttc" id="aclassuint32__t_html"><div class="ttname"><a href="classuint32__t.html">uint32_t</a></div></div>
<div class="ttc" id="aCompiler_8h_html"><div class="ttname"><a href="Compiler_8h.html">Compiler.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1ilist__node__impl_html_af719fc783be6589465137d997701a432"><div class="ttname"><a href="classllvm_1_1ilist__node__impl.html#af719fc783be6589465137d997701a432">llvm::ilist_node_impl::getIterator</a></div><div class="ttdeci">self_iterator getIterator()</div><div class="ttdef"><b>Definition:</b> <a href="ilist__node_8h_source.html#l00082">ilist_node.h:82</a></div></div>
<div class="ttc" id="aTargetSubtargetInfo_8h_html"><div class="ttname"><a href="TargetSubtargetInfo_8h.html">TargetSubtargetInfo.h</a></div></div>
<div class="ttc" id="alib_2Target_2ARM_2README_8txt_html_a1b45f45820a60c09244a87eb59824aec"><div class="ttname"><a href="lib_2Target_2ARM_2README_8txt.html#a1b45f45820a60c09244a87eb59824aec">S</a></div><div class="ttdeci">add sub stmia L5 ldr r0 bl L_printf $stub Instead of a and a wouldn t it be better to do three moves *Return an aggregate type is even return S</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2ARM_2README_8txt_source.html#l00210">README.txt:210</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aaf80f24c12eff0b283dcfed7f6e5b9f8"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aaf80f24c12eff0b283dcfed7f6e5b9f8">llvm::LiveIntervals::createEmptyInterval</a></div><div class="ttdeci">LiveInterval &amp; createEmptyInterval(Register Reg)</div><div class="ttdoc">Interval creation.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00129">LiveIntervals.h:129</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a002fd916e7206e01d512eeb06d405cf0"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a002fd916e7206e01d512eeb06d405cf0">llvm::MachineInstr::getParent</a></div><div class="ttdeci">const MachineBasicBlock * getParent() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00313">MachineInstr.h:313</a></div></div>
<div class="ttc" id="aclassllvm_1_1Pass_html_aa26f1f3bfe5b5022b1bd495151b3757a"><div class="ttname"><a href="classllvm_1_1Pass.html#aa26f1f3bfe5b5022b1bd495151b3757a">llvm::Pass::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdef"><b>Definition:</b> <a href="Pass_8cpp_source.html#l00136">Pass.cpp:136</a></div></div>
<div class="ttc" id="aLiveIntervals_8cpp_html_a801fcd2cb84f0d0292a77e675c7c492c"><div class="ttname"><a href="LiveIntervals_8cpp.html#a801fcd2cb84f0d0292a77e675c7c492c">hasLiveThroughUse</a></div><div class="ttdeci">static bool hasLiveThroughUse(const MachineInstr *MI, Register Reg)</div><div class="ttdoc">Check whether use of reg in MI is live-through.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00888">LiveIntervals.cpp:888</a></div></div>
<div class="ttc" id="astructllvm_1_1LiveRange_1_1Segment_html_afe8e59ffc86cb1736116e4dc8b86e26f"><div class="ttname"><a href="structllvm_1_1LiveRange_1_1Segment.html#afe8e59ffc86cb1736116e4dc8b86e26f">llvm::LiveRange::Segment::end</a></div><div class="ttdeci">SlotIndex end</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00164">LiveInterval.h:164</a></div></div>
<div class="ttc" id="anamespacellvm_html_aaa67df70b3bc20ef65f8fe523c41da0e"><div class="ttname"><a href="namespacellvm.html#aaa67df70b3bc20ef65f8fe523c41da0e">llvm::df_ext_end</a></div><div class="ttdeci">df_ext_iterator&lt; T, SetTy &gt; df_ext_end(const T &amp;G, SetTy &amp;S)</div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00246">DepthFirstIterator.h:246</a></div></div>
<div class="ttc" id="aSampleProfWriter_8cpp_html_ac5f3689931c7238da06ba00cf1002c62"><div class="ttname"><a href="SampleProfWriter_8cpp.html#ac5f3689931c7238da06ba00cf1002c62">OS</a></div><div class="ttdeci">raw_pwrite_stream &amp; OS</div><div class="ttdef"><b>Definition:</b> <a href="SampleProfWriter_8cpp_source.html#l00053">SampleProfWriter.cpp:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_1_1SubRange_html"><div class="ttname"><a href="classllvm_1_1LiveInterval_1_1SubRange.html">llvm::LiveInterval::SubRange</a></div><div class="ttdoc">A live range for subregisters.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00693">LiveInterval.h:693</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_aacd2ab195054a3e6a74bfbb9d5d571c8"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#aacd2ab195054a3e6a74bfbb9d5d571c8">MRI</a></div><div class="ttdeci">unsigned const MachineRegisterInfo * MRI</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00105">AArch64AdvSIMDScalarPass.cpp:105</a></div></div>
<div class="ttc" id="aclassllvm_1_1Register_html"><div class="ttname"><a href="classllvm_1_1Register.html">llvm::Register</a></div><div class="ttdoc">Wrapper class representing virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="Register_8h_source.html#l00019">Register.h:19</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_aa1bc5510e870a77ebe055b1524d9fd26"><div class="ttname"><a href="classllvm_1_1LiveRange.html#aa1bc5510e870a77ebe055b1524d9fd26">llvm::LiveRange::endIndex</a></div><div class="ttdeci">SlotIndex endIndex() const</div><div class="ttdoc">endNumber - return the maximum point of the range of the whole, exclusive.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00392">LiveInterval.h:392</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ae72fbcf51be7574c84817cde814df07e"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ae72fbcf51be7574c84817cde814df07e">llvm::VNInfo::isPHIDef</a></div><div class="ttdeci">bool isPHIDef() const</div><div class="ttdoc">Returns true if this value is defined by a PHI instruction (or was, PHI instructions may have been el...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00078">LiveInterval.h:78</a></div></div>
<div class="ttc" id="aAArch64SLSHardening_8cpp_html_a5958512eae2979bd2eb383977996a600"><div class="ttname"><a href="AArch64SLSHardening_8cpp.html#a5958512eae2979bd2eb383977996a600">MBB</a></div><div class="ttdeci">MachineBasicBlock &amp; MBB</div><div class="ttdef"><b>Definition:</b> <a href="AArch64SLSHardening_8cpp_source.html#l00074">AArch64SLSHardening.cpp:74</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_a13c4005ea769c09d88be76fa40744e7e"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#a13c4005ea769c09d88be76fa40744e7e">llvm::LiveRangeCalc::isJointlyDominated</a></div><div class="ttdeci">static LLVM_ATTRIBUTE_UNUSED bool isJointlyDominated(const MachineBasicBlock *MBB, ArrayRef&lt; SlotIndex &gt; Defs, const SlotIndexes &amp;Indexes)</div><div class="ttdoc">A diagnostic function to check if the end of the block MBB is jointly dominated by the blocks corresp...</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00432">LiveRangeCalc.cpp:432</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html">llvm::StatepointOpers</a></div><div class="ttdoc">MI-level Statepoint operands.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8h_source.html#l00158">StackMaps.h:158</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a143c1fcb6066cb301f828ec4c18d79f4"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a143c1fcb6066cb301f828ec4c18d79f4">llvm::LiveRange::iterator</a></div><div class="ttdeci">Segments::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00212">LiveInterval.h:212</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ab7e720f69b70ef3973d672936a9fa0ec"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ab7e720f69b70ef3973d672936a9fa0ec">llvm::MachineRegisterInfo::getMaxLaneMaskForVReg</a></div><div class="ttdeci">LaneBitmask getMaxLaneMaskForVReg(Register Reg) const</div><div class="ttdoc">Returns a mask covering all bits that can appear in lane masks of subregisters of the virtual registe...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00497">MachineRegisterInfo.cpp:497</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_abd962b7b01f49ce61ea41ee10c49e313"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#abd962b7b01f49ce61ea41ee10c49e313">llvm::SmallVectorImpl::swap</a></div><div class="ttdeci">void swap(SmallVectorImpl &amp;RHS)</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00972">SmallVector.h:972</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_acea41c547dfea3df92104de6edb5e3c7"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#acea41c547dfea3df92104de6edb5e3c7">llvm::LiveIntervals::getSpillWeight</a></div><div class="ttdeci">static float getSpillWeight(bool isDef, bool isUse, const MachineBlockFrequencyInfo *MBFI, const MachineInstr &amp;MI)</div><div class="ttdoc">Calculate the spill weight to assign to a single instruction.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00857">LiveIntervals.cpp:857</a></div></div>
<div class="ttc" id="anamespacellvm_html_aea2ef5e4ec532aa42606902e9001f712"><div class="ttname"><a href="namespacellvm.html#aea2ef5e4ec532aa42606902e9001f712">llvm::initializeLiveIntervalsPass</a></div><div class="ttdeci">void initializeLiveIntervalsPass(PassRegistry &amp;)</div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_aab36927882fbfdcbb860d87fd9c30da8"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#aab36927882fbfdcbb860d87fd9c30da8">llvm::ArrayRef::begin</a></div><div class="ttdeci">iterator begin() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00151">ArrayRef.h:151</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ae2333ffb94572756f96dcad39de8bbcb"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ae2333ffb94572756f96dcad39de8bbcb">llvm::LiveIntervals::extendToIndices</a></div><div class="ttdeci">void extendToIndices(LiveRange &amp;LR, ArrayRef&lt; SlotIndex &gt; Indices, ArrayRef&lt; SlotIndex &gt; Undefs)</div><div class="ttdoc">Extend the live range LR to reach all points in Indices.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00620">LiveIntervals.cpp:620</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndex_html_ac832da130f4d71a4533a69d98315fb19"><div class="ttname"><a href="classllvm_1_1SlotIndex.html#ac832da130f4d71a4533a69d98315fb19">llvm::SlotIndex::getPrevSlot</a></div><div class="ttdeci">SlotIndex getPrevSlot() const</div><div class="ttdoc">Returns the previous slot in the index list.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00294">SlotIndexes.h:294</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a965920fedeeed3659282c4485760064e"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a965920fedeeed3659282c4485760064e">llvm::LiveIntervals::~LiveIntervals</a></div><div class="ttdeci">~LiveIntervals() override</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00101">LiveIntervals.cpp:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1TargetRegisterInfo_html_a61d1549c5cda7c927e00cb814f2baa45"><div class="ttname"><a href="classllvm_1_1TargetRegisterInfo.html#a61d1549c5cda7c927e00cb814f2baa45">llvm::TargetRegisterInfo::getCustomEHPadPreservedMask</a></div><div class="ttdeci">virtual const uint32_t * getCustomEHPadPreservedMask(const MachineFunction &amp;MF) const</div><div class="ttdoc">Return a register mask for the registers preserved by the unwinder, or nullptr if no custom mask is n...</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8h_source.html#l00491">TargetRegisterInfo.h:491</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineFunction_html_ad9c9c8915579c517eff56e638c1a643c"><div class="ttname"><a href="classllvm_1_1MachineFunction.html#ad9c9c8915579c517eff56e638c1a643c">llvm::MachineFunction::print</a></div><div class="ttdeci">void print(raw_ostream &amp;OS, const SlotIndexes *=nullptr) const</div><div class="ttdoc">print - Print out the MachineFunction in a format suitable for debugging to the specified stream.</div><div class="ttdef"><b>Definition:</b> <a href="MachineFunction_8cpp_source.html#l00586">MachineFunction.cpp:586</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_aecfd94e60d64656d8b19f2ea69bb02af"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#aecfd94e60d64656d8b19f2ea69bb02af">llvm::MachineRegisterInfo::reg_empty</a></div><div class="ttdeci">bool reg_empty(Register RegNo) const</div><div class="ttdoc">reg_empty - Return true if there are no instructions using or defining the specified register (it may...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00345">MachineRegisterInfo.h:345</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acb4d7c02992f3821f3e3432b6c65de49"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acb4d7c02992f3821f3e3432b6c65de49">llvm::MachineBasicBlock::front</a></div><div class="ttdeci">MachineInstr &amp; front()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00288">MachineBasicBlock.h:288</a></div></div>
<div class="ttc" id="aStackMaps_8h_html"><div class="ttname"><a href="StackMaps_8h.html">StackMaps.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html">llvm::LiveIntervals</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00053">LiveIntervals.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html"><div class="ttname"><a href="classllvm_1_1VNInfo.html">llvm::VNInfo</a></div><div class="ttdoc">VNInfo - Value Number Information.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00053">LiveInterval.h:53</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_adf042897913dea01859fc1944f7e61cd"><div class="ttname"><a href="classllvm_1_1LiveRange.html#adf042897913dea01859fc1944f7e61cd">llvm::LiveRange::getVNInfoAt</a></div><div class="ttdeci">VNInfo * getVNInfoAt(SlotIndex Idx) const</div><div class="ttdoc">getVNInfoAt - Return the VNInfo that is live at Idx, or NULL.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00421">LiveInterval.h:421</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_aac0ea55010b7b1a301e65a0baea057aa"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#aac0ea55010b7b1a301e65a0baea057aa">llvm::SmallVectorImpl::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00614">SmallVector.h:614</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a66729d4865344276b0e560f0c888d86b"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a66729d4865344276b0e560f0c888d86b">llvm::LiveRange::verify</a></div><div class="ttdeci">void verify() const</div><div class="ttdoc">Walk the range and assert if any invariants fail to hold.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l01055">LiveInterval.cpp:1055</a></div></div>
<div class="ttc" id="aLiveIntervals_8cpp_html_ad98a53d8252c337193b3f37404b3cf3d"><div class="ttname"><a href="LiveIntervals_8cpp.html#ad98a53d8252c337193b3f37404b3cf3d">EnablePrecomputePhysRegs</a></div><div class="ttdeci">Live Interval static false cl::opt&lt; bool &gt; EnablePrecomputePhysRegs(&quot;precompute-phys-liveness&quot;, cl::Hidden, cl::desc(&quot;Eagerly compute live intervals for all physreg units.&quot;))</div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a64e73d869f06f711fb3d5b2c07dfc7be"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a64e73d869f06f711fb3d5b2c07dfc7be">llvm::MachineBasicBlock::livein_empty</a></div><div class="ttdeci">bool livein_empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00452">MachineBasicBlock.h:452</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a7039022ca24132285e97e59c6551e2bd"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a7039022ca24132285e97e59c6551e2bd">llvm::LiveIntervals::getRegMaskBits</a></div><div class="ttdeci">ArrayRef&lt; const uint32_t * &gt; getRegMaskBits() const</div><div class="ttdoc">Returns an array of register mask pointers corresponding to getRegMaskSlots().</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00356">LiveIntervals.h:356</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_ae8bd4b098d55a431c12cfba2a11c94bb"><div class="ttname"><a href="classllvm_1_1LiveRange.html#ae8bd4b098d55a431c12cfba2a11c94bb">llvm::LiveRange::removeSegment</a></div><div class="ttdeci">void removeSegment(SlotIndex Start, SlotIndex End, bool RemoveDeadValNo=false)</div><div class="ttdoc">Remove the specified segment from this range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00568">LiveInterval.cpp:568</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a4118d380b88c0b4592c8a19fe9e2c3d5"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a4118d380b88c0b4592c8a19fe9e2c3d5">llvm::LiveIntervals::getAnalysisUsage</a></div><div class="ttdeci">void getAnalysisUsage(AnalysisUsage &amp;AU) const override</div><div class="ttdoc">getAnalysisUsage - This function should be overriden by passes that need analysis information to do t...</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00086">LiveIntervals.cpp:86</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac7a9ba0bac237cd374e2a88f9c21696f"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac7a9ba0bac237cd374e2a88f9c21696f">llvm::LiveIntervals::constructMainRangeFromSubranges</a></div><div class="ttdeci">void constructMainRangeFromSubranges(LiveInterval &amp;LI)</div><div class="ttdoc">For live interval LI with correct SubRanges construct matching information for the main live range.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01751">LiveIntervals.cpp:1751</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a7ac607fdc1b84333c84cc74903c352a4"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a7ac607fdc1b84333c84cc74903c352a4">llvm::SlotIndexes::getNextNonNullIndex</a></div><div class="ttdeci">SlotIndex getNextNonNullIndex(SlotIndex Index)</div><div class="ttdoc">Returns the next non-null index, if one exists.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8h_source.html#l00414">SlotIndexes.h:414</a></div></div>
<div class="ttc" id="aLiveInterval_8h_html"><div class="ttname"><a href="LiveInterval_8h.html">LiveInterval.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_af80cc22ae7f226a8c819be6bf9e731d4"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#af80cc22ae7f226a8c819be6bf9e731d4">llvm::MachineBasicBlock::getEndClobberMask</a></div><div class="ttdeci">const uint32_t * getEndClobberMask(const TargetRegisterInfo *TRI) const</div><div class="ttdoc">Get the clobber mask for the end of the basic block.</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8cpp_source.html#l01613">MachineBasicBlock.cpp:1613</a></div></div>
<div class="ttc" id="anamespacellvm_1_1RegState_html_aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921"><div class="ttname"><a href="namespacellvm_1_1RegState.html#aef4cc0c855dc833e2a9d58a50703320da9ddde91ef09476d28a088fe57f8e2921">llvm::RegState::Kill</a></div><div class="ttdeci">@ Kill</div><div class="ttdoc">The last use of a register.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstrBuilder_8h_source.html#l00048">MachineInstrBuilder.h:48</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitIterator.html">llvm::MCRegUnitIterator</a></div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00680">MCRegisterInfo.h:680</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegUnitRootIterator_html"><div class="ttname"><a href="classllvm_1_1MCRegUnitRootIterator.html">llvm::MCRegUnitRootIterator</a></div><div class="ttdoc">MCRegUnitRootIterator enumerates the root registers of a register unit.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00754">MCRegisterInfo.h:754</a></div></div>
<div class="ttc" id="aSmallVector_8h_html"><div class="ttname"><a href="SmallVector_8h.html">SmallVector.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_ab2d91e7bec944efcbc39d8e30644f111"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#ab2d91e7bec944efcbc39d8e30644f111">llvm::MachineBasicBlock::begin</a></div><div class="ttdeci">iterator begin()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00309">MachineBasicBlock.h:309</a></div></div>
<div class="ttc" id="anamespacellvm_html_a6c039132ae0bc895e8c4eeee1f1f59ad"><div class="ttname"><a href="namespacellvm.html#a6c039132ae0bc895e8c4eeee1f1f59ad">llvm::UseSegmentSetForPhysRegs</a></div><div class="ttdeci">cl::opt&lt; bool &gt; UseSegmentSetForPhysRegs</div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ac27689339b95eeb89bc9e40aa1e394f9"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ac27689339b95eeb89bc9e40aa1e394f9">llvm::MachineRegisterInfo::cloneVirtualRegister</a></div><div class="ttdeci">Register cloneVirtualRegister(Register VReg, StringRef Name=&quot;&quot;)</div><div class="ttdoc">Create and return a new virtual register in the function with the same attributes as the given regist...</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00170">MachineRegisterInfo.cpp:170</a></div></div>
<div class="ttc" id="aclassLiveIntervals_1_1HMEditor_html_aa060d1bdca0620ff13d49456dccf9303"><div class="ttname"><a href="classLiveIntervals_1_1HMEditor.html#aa060d1bdca0620ff13d49456dccf9303">llvm::LiveIntervals::HMEditor::updateAllRanges</a></div><div class="ttdeci">void updateAllRanges(MachineInstr *MI)</div><div class="ttdoc">Update all live ranges touched by MI, assuming a move from OldIdx to NewIdx.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01002">LiveIntervals.cpp:1002</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html_ac5b936169badf0b703567eb960278648"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html#ac5b936169badf0b703567eb960278648">llvm::SmallVectorImpl::iterator</a></div><div class="ttdeci">typename SuperClass::iterator iterator</div><div class="ttdef"><b>Definition:</b> <a href="SmallVector_8h_source.html#l00581">SmallVector.h:581</a></div></div>
<div class="ttc" id="aregcomp_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="regcomp_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div></div>
<div class="ttc" id="aclassllvm_1_1MCRegisterInfo_1_1DiffListIterator_html_a82f1c2dcfab9e27af4497fb0e13c4c6f"><div class="ttname"><a href="classllvm_1_1MCRegisterInfo_1_1DiffListIterator.html#a82f1c2dcfab9e27af4497fb0e13c4c6f">llvm::MCRegisterInfo::DiffListIterator::isValid</a></div><div class="ttdeci">bool isValid() const</div><div class="ttdoc">isValid - returns true if this iterator is not yet at the end.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegisterInfo_8h_source.html#l00224">MCRegisterInfo.h:224</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_aeffc1bb4ebe64a8ad3478e1253683847"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#aeffc1bb4ebe64a8ad3478e1253683847">llvm::LiveIntervals::splitSeparateComponents</a></div><div class="ttdeci">void splitSeparateComponents(LiveInterval &amp;LI, SmallVectorImpl&lt; LiveInterval * &gt; &amp;SplitLIs)</div><div class="ttdoc">Split separate components in LiveInterval LI into separate intervals.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01735">LiveIntervals.cpp:1735</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstr_html_a432824f0975bb863478bf4ef3a5df258"><div class="ttname"><a href="classllvm_1_1MachineInstr.html#a432824f0975bb863478bf4ef3a5df258">llvm::MachineInstr::getNumOperands</a></div><div class="ttdeci">unsigned getNumOperands() const</div><div class="ttdoc">Retuns the total number of operands.</div><div class="ttdef"><b>Definition:</b> <a href="MachineInstr_8h_source.html#l00519">MachineInstr.h:519</a></div></div>
<div class="ttc" id="anamespacellvm_html_a5a36a0d02a1629e4c1c8c6c587d01e5b"><div class="ttname"><a href="namespacellvm.html#a5a36a0d02a1629e4c1c8c6c587d01e5b">llvm::MachineDominatorsID</a></div><div class="ttdeci">char &amp; MachineDominatorsID</div><div class="ttdoc">MachineDominators - This pass is a machine dominators analysis pass.</div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a9c628b400be67b6adb4fa07e84a96a82"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a9c628b400be67b6adb4fa07e84a96a82">llvm::LiveRange::segments</a></div><div class="ttdeci">Segments segments</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00203">LiveInterval.h:203</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a14d46e70db7e417c8ed5bc66fb295185"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a14d46e70db7e417c8ed5bc66fb295185">llvm::LiveInterval::reg</a></div><div class="ttdeci">Register reg() const</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00717">LiveInterval.h:717</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a43f03898b29d823b707f6b4883c929a4"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a43f03898b29d823b707f6b4883c929a4">llvm::LiveRange::getSegmentContaining</a></div><div class="ttdeci">const Segment * getSegmentContaining(SlotIndex Idx) const</div><div class="ttdoc">Return the segment that contains the specified index, or null if there is none.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00408">LiveInterval.h:408</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a1c198291d6ee66150b76633cda8a1749"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a1c198291d6ee66150b76633cda8a1749">llvm::LiveInterval::hasSubRanges</a></div><div class="ttdeci">bool hasSubRanges() const</div><div class="ttdoc">Returns true if subregister liveness information is available.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00803">LiveInterval.h:803</a></div></div>
<div class="ttc" id="astructllvm_1_1df__ext__iterator_html"><div class="ttname"><a href="structllvm_1_1df__ext__iterator.html">llvm::df_ext_iterator</a></div><div class="ttdef"><b>Definition:</b> <a href="DepthFirstIterator_8h_source.html#l00235">DepthFirstIterator.h:235</a></div></div>
<div class="ttc" id="aLaneBitmask_8h_html"><div class="ttname"><a href="LaneBitmask_8h.html">LaneBitmask.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1iterator__range_html"><div class="ttname"><a href="classllvm_1_1iterator__range.html">llvm::iterator_range</a></div><div class="ttdoc">A range adaptor for a pair of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="iterator__range_8h_source.html#l00030">iterator_range.h:30</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_aa1555194b9f176612b04fbd38f49b40d"><div class="ttname"><a href="classllvm_1_1LiveRange.html#aa1555194b9f176612b04fbd38f49b40d">llvm::LiveRange::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00300">LiveInterval.h:300</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_a095ce2d870dadf620a4c887ecc0efef8"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#a095ce2d870dadf620a4c887ecc0efef8">llvm::MachineBasicBlock::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00281">MachineBasicBlock.h:281</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRangeCalc_html_a65f0beed94a7dbdf8c8d7e2b46a0afa0"><div class="ttname"><a href="classllvm_1_1LiveRangeCalc.html#a65f0beed94a7dbdf8c8d7e2b46a0afa0">llvm::LiveRangeCalc::reset</a></div><div class="ttdeci">void reset(const MachineFunction *mf, SlotIndexes *SI, MachineDominatorTree *MDT, VNInfo::Allocator *VNIA)</div><div class="ttdoc">reset - Prepare caches for a new set of non-overlapping live ranges.</div><div class="ttdef"><b>Definition:</b> <a href="LiveRangeCalc_8cpp_source.html#l00049">LiveRangeCalc.cpp:49</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallVectorImpl_html"><div class="ttname"><a href="classllvm_1_1SmallVectorImpl.html">llvm::SmallVectorImpl&lt; MachineInstr * &gt;</a></div></div>
<div class="ttc" id="aMachineOperand_8h_html"><div class="ttname"><a href="MachineOperand_8h.html">MachineOperand.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1AnalysisUsage_html_ac12fffcedd4a1c8bf428d694451f816c"><div class="ttname"><a href="classllvm_1_1AnalysisUsage.html#ac12fffcedd4a1c8bf428d694451f816c">llvm::AnalysisUsage::addRequiredTransitive</a></div><div class="ttdeci">AnalysisUsage &amp; addRequiredTransitive()</div><div class="ttdef"><b>Definition:</b> <a href="PassAnalysisSupport_8h_source.html#l00081">PassAnalysisSupport.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a0d7e0d23a0453390a4c1e9a61afccdca"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a0d7e0d23a0453390a4c1e9a61afccdca">llvm::LiveIntervals::repairIntervalsInRange</a></div><div class="ttdeci">void repairIntervalsInRange(MachineBasicBlock *MBB, MachineBasicBlock::iterator Begin, MachineBasicBlock::iterator End, ArrayRef&lt; Register &gt; OrigRegs)</div><div class="ttdoc">Update live intervals for instructions in a range of iterators.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01647">LiveIntervals.cpp:1647</a></div></div>
<div class="ttc" id="anamespacellvm_html_abba0f0474eb4e32d1ed7b6dfdb0d5140a8cf633e3cd4e8b21a16304c58495bfbc"><div class="ttname"><a href="namespacellvm.html#abba0f0474eb4e32d1ed7b6dfdb0d5140a8cf633e3cd4e8b21a16304c58495bfbc">llvm::StatepointFlags::DeoptLiveIn</a></div><div class="ttdeci">@ DeoptLiveIn</div><div class="ttdoc">Mark the deopt arguments associated with the statepoint as only being &quot;live-in&quot;.</div></div>
<div class="ttc" id="aclassllvm_1_1LiveVariables_html"><div class="ttname"><a href="classllvm_1_1LiveVariables.html">llvm::LiveVariables</a></div><div class="ttdef"><b>Definition:</b> <a href="LiveVariables_8h_source.html#l00047">LiveVariables.h:47</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_ab72366fd538f240cbb53dac39368cdfc"><div class="ttname"><a href="classllvm_1_1VNInfo.html#ab72366fd538f240cbb53dac39368cdfc">llvm::VNInfo::isUnused</a></div><div class="ttdeci">bool isUnused() const</div><div class="ttdoc">Returns true if this value is unused.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00081">LiveInterval.h:81</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a11cd70de340f310acc70781d57a00136"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a11cd70de340f310acc70781d57a00136">llvm::LiveIntervals::hasInterval</a></div><div class="ttdeci">bool hasInterval(Register Reg) const</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00123">LiveIntervals.h:123</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a63176e601338dbe403676b86e78c7203"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a63176e601338dbe403676b86e78c7203">llvm::LiveRange::removeValNo</a></div><div class="ttdeci">void removeValNo(VNInfo *ValNo)</div><div class="ttdoc">removeValNo - Remove all the segments defined by the specified value#.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8cpp_source.html#l00619">LiveInterval.cpp:619</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_ada7de8e2cf4949a58445f955d4d98caa"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#ada7de8e2cf4949a58445f955d4d98caa">llvm::MachineRegisterInfo::isReservedRegUnit</a></div><div class="ttdeci">bool isReservedRegUnit(unsigned Unit) const</div><div class="ttdoc">Returns true when the given register unit is considered reserved.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8cpp_source.html#l00644">MachineRegisterInfo.cpp:644</a></div></div>
<div class="ttc" id="aSlotIndexes_8h_html"><div class="ttname"><a href="SlotIndexes_8h.html">SlotIndexes.h</a></div></div>
<div class="ttc" id="astructllvm_1_1cl_1_1desc_html"><div class="ttname"><a href="structllvm_1_1cl_1_1desc.html">llvm::cl::desc</a></div><div class="ttdef"><b>Definition:</b> <a href="CommandLine_8h_source.html#l00411">CommandLine.h:411</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineRegisterInfo_html_a666dc30b9326da6b9e69740a241df89d"><div class="ttname"><a href="classllvm_1_1MachineRegisterInfo.html#a666dc30b9326da6b9e69740a241df89d">llvm::MachineRegisterInfo::reg_nodbg_empty</a></div><div class="ttdeci">bool reg_nodbg_empty(Register RegNo) const</div><div class="ttdoc">reg_nodbg_empty - Return true if the only instructions using or defining Reg are Debug instructions.</div><div class="ttdef"><b>Definition:</b> <a href="MachineRegisterInfo_8h_source.html#l00399">MachineRegisterInfo.h:399</a></div></div>
<div class="ttc" id="araw__ostream_8h_html"><div class="ttname"><a href="raw__ostream_8h.html">raw_ostream.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineDominatorTree_html"><div class="ttname"><a href="classllvm_1_1MachineDominatorTree.html">llvm::MachineDominatorTree</a></div><div class="ttdoc">DominatorTree Class - Concrete subclass of DominatorTreeBase that is used to compute a normal dominat...</div><div class="ttdef"><b>Definition:</b> <a href="MachineDominators_8h_source.html#l00051">MachineDominators.h:51</a></div></div>
<div class="ttc" id="aMachineFunction_8h_html"><div class="ttname"><a href="MachineFunction_8h.html">MachineFunction.h</a></div></div>
<div class="ttc" id="anamespacellvm_html_af085ea923a328b9fa6a1975f1a4ff987"><div class="ttname"><a href="namespacellvm.html#af085ea923a328b9fa6a1975f1a4ff987">llvm::printReg</a></div><div class="ttdeci">Printable printReg(Register Reg, const TargetRegisterInfo *TRI=nullptr, unsigned SubIdx=0, const MachineRegisterInfo *MRI=nullptr)</div><div class="ttdoc">Prints virtual and physical registers with or without a TRI instance.</div><div class="ttdef"><b>Definition:</b> <a href="TargetRegisterInfo_8cpp_source.html#l00111">TargetRegisterInfo.cpp:111</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineInstrBundleIterator_html"><div class="ttname"><a href="classllvm_1_1MachineInstrBundleIterator.html">llvm::MachineInstrBundleIterator&lt; MachineInstr &gt;</a></div></div>
<div class="ttc" id="alib_2Target_2WebAssembly_2README_8txt_html_a79ea041233b5866026c3071dfc464ec0"><div class="ttname"><a href="lib_2Target_2WebAssembly_2README_8txt.html#a79ea041233b5866026c3071dfc464ec0">copy</a></div><div class="ttdeci">we should consider alternate ways to model stack dependencies Lots of things could be done in WebAssemblyTargetTransformInfo cpp there are numerous optimization related hooks that can be overridden in WebAssemblyTargetLowering Instead of the OptimizeReturned which should consider preserving the returned attribute through to MachineInstrs and extending the MemIntrinsicResults pass to do this optimization on calls too That would also let the WebAssemblyPeephole pass clean up dead defs for such as it does for stores Consider implementing and or getMachineCombinerPatterns Find a clean way to fix the problem which leads to the Shrink Wrapping pass being run after the WebAssembly PEI pass When setting multiple variables to the same we currently get code like const It could be done with a smaller encoding like local tee $pop5 local copy</div><div class="ttdef"><b>Definition:</b> <a href="lib_2Target_2WebAssembly_2README_8txt_source.html#l00101">README.txt:101</a></div></div>
<div class="ttc" id="aclassllvm_1_1ConnectedVNInfoEqClasses_html"><div class="ttname"><a href="classllvm_1_1ConnectedVNInfoEqClasses.html">llvm::ConnectedVNInfoEqClasses</a></div><div class="ttdoc">ConnectedVNInfoEqClasses - Helper class that can divide VNInfos in a LiveInterval into equivalence cl...</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00998">LiveInterval.h:998</a></div></div>
<div class="ttc" id="aclassllvm_1_1SlotIndexes_html_a2aace9fd8246b0bdb9c352c5aa32f88d"><div class="ttname"><a href="classllvm_1_1SlotIndexes.html#a2aace9fd8246b0bdb9c352c5aa32f88d">llvm::SlotIndexes::removeMachineInstrFromMaps</a></div><div class="ttdeci">void removeMachineInstrFromMaps(MachineInstr &amp;MI, bool AllowBundled=false)</div><div class="ttdoc">Removes machine instruction (bundle) MI from the mapping.</div><div class="ttdef"><b>Definition:</b> <a href="SlotIndexes_8cpp_source.html#l00115">SlotIndexes.cpp:115</a></div></div>
<div class="ttc" id="anamespacellvm_html_af56d7262a98bdac56243b683eedcbde5"><div class="ttname"><a href="namespacellvm.html#af56d7262a98bdac56243b683eedcbde5">llvm::LiveIntervalsID</a></div><div class="ttdeci">char &amp; LiveIntervalsID</div><div class="ttdoc">LiveIntervals - This analysis keeps track of the live ranges of virtual and physical registers.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l00061">LiveIntervals.cpp:61</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_ac332ca27d85adc8d21edd708be55dfe3"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#ac332ca27d85adc8d21edd708be55dfe3">llvm::LiveIntervals::removeVRegDefAt</a></div><div class="ttdeci">void removeVRegDefAt(LiveInterval &amp;LI, SlotIndex Pos)</div><div class="ttdoc">Remove value number and related live segments of LI and its subranges that start at position Pos.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8cpp_source.html#l01717">LiveIntervals.cpp:1717</a></div></div>
<div class="ttc" id="aMachineBlockFrequencyInfo_8h_html"><div class="ttname"><a href="MachineBlockFrequencyInfo_8h.html">MachineBlockFrequencyInfo.h</a></div></div>
<div class="ttc" id="aTargetRegisterInfo_8h_html"><div class="ttname"><a href="TargetRegisterInfo_8h.html">TargetRegisterInfo.h</a></div></div>
<div class="ttc" id="aDebug_8h_html"><div class="ttname"><a href="Debug_8h.html">Debug.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MachineBasicBlock_html_acbc921830578e2741be6549db716c0ce"><div class="ttname"><a href="classllvm_1_1MachineBasicBlock.html#acbc921830578e2741be6549db716c0ce">llvm::MachineBasicBlock::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="MachineBasicBlock_8h_source.html#l00311">MachineBasicBlock.h:311</a></div></div>
<div class="ttc" id="astructllvm_1_1LaneBitmask_html_a3714a639930eab71d7202da05ad82990"><div class="ttname"><a href="structllvm_1_1LaneBitmask.html#a3714a639930eab71d7202da05ad82990">llvm::LaneBitmask::getAll</a></div><div class="ttdeci">static constexpr LaneBitmask getAll()</div><div class="ttdef"><b>Definition:</b> <a href="LaneBitmask_8h_source.html#l00082">LaneBitmask.h:82</a></div></div>
<div class="ttc" id="aAArch64AdvSIMDScalarPass_8cpp_html_a92a6b0a9b7228d190b0a7d8ae3ef03c7"><div class="ttname"><a href="AArch64AdvSIMDScalarPass_8cpp.html#a92a6b0a9b7228d190b0a7d8ae3ef03c7">SubReg</a></div><div class="ttdeci">unsigned SubReg</div><div class="ttdef"><b>Definition:</b> <a href="AArch64AdvSIMDScalarPass_8cpp_source.html#l00104">AArch64AdvSIMDScalarPass.cpp:104</a></div></div>
<div class="ttc" id="aclassllvm_1_1ArrayRef_html_a7ca5197533a9c1fb8a2bd30587fcec6b"><div class="ttname"><a href="classllvm_1_1ArrayRef.html#a7ca5197533a9c1fb8a2bd30587fcec6b">llvm::ArrayRef::end</a></div><div class="ttdeci">iterator end() const</div><div class="ttdef"><b>Definition:</b> <a href="ArrayRef_8h_source.html#l00152">ArrayRef.h:152</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_a11b78aceef1db7dddc7ca575c395ddaf"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#a11b78aceef1db7dddc7ca575c395ddaf">llvm::LiveIntervals::getVNInfoAllocator</a></div><div class="ttdeci">VNInfo::Allocator &amp; getVNInfoAllocator()</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00278">LiveIntervals.h:278</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveRange_html_a757fd6afba0f531db70e78e057d147c6"><div class="ttname"><a href="classllvm_1_1LiveRange.html#a757fd6afba0f531db70e78e057d147c6">llvm::LiveRange::end</a></div><div class="ttdeci">iterator end()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00216">LiveInterval.h:216</a></div></div>
<div class="ttc" id="aclassllvm_1_1VNInfo_html_a81775e4a3dbcbc42d828c3e4becd9190"><div class="ttname"><a href="classllvm_1_1VNInfo.html#a81775e4a3dbcbc42d828c3e4becd9190">llvm::VNInfo::markUnused</a></div><div class="ttdeci">void markUnused()</div><div class="ttdoc">Mark this value as unused.</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00084">LiveInterval.h:84</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveIntervals_html_afd1840a8e04214d75dc4e3afd74673b4"><div class="ttname"><a href="classllvm_1_1LiveIntervals.html#afd1840a8e04214d75dc4e3afd74673b4">llvm::LiveIntervals::getRegUnit</a></div><div class="ttdeci">LiveRange &amp; getRegUnit(unsigned Unit)</div><div class="ttdoc">Return the live range for register unit Unit.</div><div class="ttdef"><b>Definition:</b> <a href="LiveIntervals_8h_source.html#l00387">LiveIntervals.h:387</a></div></div>
<div class="ttc" id="aMachineDominators_8h_html"><div class="ttname"><a href="MachineDominators_8h.html">MachineDominators.h</a></div></div>
<div class="ttc" id="aclassllvm_1_1MCRegister_html"><div class="ttname"><a href="classllvm_1_1MCRegister.html">llvm::MCRegister</a></div><div class="ttdoc">Wrapper class representing physical registers. Should be passed by value.</div><div class="ttdef"><b>Definition:</b> <a href="MCRegister_8h_source.html#l00024">MCRegister.h:24</a></div></div>
<div class="ttc" id="aclassllvm_1_1StatepointOpers_html_afec1cbe3c73e6d6b86e5d6b00815dc2e"><div class="ttname"><a href="classllvm_1_1StatepointOpers.html#afec1cbe3c73e6d6b86e5d6b00815dc2e">llvm::StatepointOpers::getNumGCPtrIdx</a></div><div class="ttdeci">unsigned getNumGCPtrIdx()</div><div class="ttdoc">Get index of number of GC pointers.</div><div class="ttdef"><b>Definition:</b> <a href="StackMaps_8cpp_source.html#l00114">StackMaps.cpp:114</a></div></div>
<div class="ttc" id="aclassllvm_1_1SmallPtrSetImpl_html_a6bc6fb89fe2e91c25559a8631f56e27e"><div class="ttname"><a href="classllvm_1_1SmallPtrSetImpl.html#a6bc6fb89fe2e91c25559a8631f56e27e">llvm::SmallPtrSetImpl::insert</a></div><div class="ttdeci">std::pair&lt; iterator, bool &gt; insert(PtrType Ptr)</div><div class="ttdoc">Inserts Ptr if and only if there is no element in the container equal to Ptr.</div><div class="ttdef"><b>Definition:</b> <a href="SmallPtrSet_8h_source.html#l00365">SmallPtrSet.h:365</a></div></div>
<div class="ttc" id="aclassllvm_1_1LiveInterval_html_a97dfb31f0f752a171bfe5fe49244c9be"><div class="ttname"><a href="classllvm_1_1LiveInterval.html#a97dfb31f0f752a171bfe5fe49244c9be">llvm::LiveInterval::subranges</a></div><div class="ttdeci">iterator_range&lt; subrange_iterator &gt; subranges()</div><div class="ttdef"><b>Definition:</b> <a href="LiveInterval_8h_source.html#l00775">LiveInterval.h:775</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 7 2023 09:53:49 for LLVM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
